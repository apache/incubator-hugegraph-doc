<!doctype html><html lang=cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=content-security-policy content="script-src 'self' 'unsafe-inline'; script-src-elem 'self' 'unsafe-inline' https://code.jquery.com https://cdn.jsdelivr.net https://fonts.googleapis.com;"><meta name=generator content="Hugo 0.102.3"><link rel=canonical type=text/html href=/cn/docs/quickstart/hugegraph-ai/><link rel=alternate type=application/rss+xml href=/cn/docs/quickstart/hugegraph-ai/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>HugeGraph-AI | HugeGraph</title><meta name=description content="


DeepWiki æä¾›å®æ—¶æ›´æ–°çš„é¡¹ç›®æ–‡æ¡£ï¼Œå†…å®¹æ›´å…¨é¢å‡†ç¡®ï¼Œé€‚åˆå¿«é€Ÿäº†è§£é¡¹ç›®æœ€æ–°æƒ…å†µã€‚
ğŸ“– https://deepwiki.com/apache/incubator-hugegraph-ai

hugegraph-ai æ•´åˆäº† HugeGraph ä¸äººå·¥æ™ºèƒ½åŠŸèƒ½ï¼Œä¸ºå¼€å‘è€…æ„å»º AI é©±åŠ¨çš„å›¾åº” â€¦"><meta property="og:title" content="HugeGraph-AI"><meta property="og:description" content="Apache HugeGraph å®˜ç½‘"><meta property="og:type" content="website"><meta property="og:url" content="/cn/docs/quickstart/hugegraph-ai/"><meta property="og:site_name" content="HugeGraph"><meta itemprop=name content="HugeGraph-AI"><meta itemprop=description content="Apache HugeGraph å®˜ç½‘"><meta name=twitter:card content="summary"><meta name=twitter:title content="HugeGraph-AI"><meta name=twitter:description content="Apache HugeGraph å®˜ç½‘"><link rel=preload href=/scss/main.min.3276a99ddd5b15fbe3fcf20f8237086c2cbb526b572f4f06a2246fa9279ed395.css as=style><link href=/scss/main.min.3276a99ddd5b15fbe3fcf20f8237086c2cbb526b572f4f06a2246fa9279ed395.css rel=stylesheet integrity><script src=/js/jquery.min.js></script>
<link rel=stylesheet href=/css/prism.css><script>document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll("pre code.language-mermaid, code.language-mermaid, pre code.language-fallback, code.language-fallback"),e=[];t.forEach(function(t){var n=t.textContent.trim();(n.match(/^(graph|flowchart|sequenceDiagram|classDiagram|pie|gitgraph|erDiagram|journey|gantt|stateDiagram|mindmap|timeline|quadrantChart)/m)||n.includes("-->")||n.includes("->")||n.includes("style ")||n.includes("fill:"))&&e.push(t)}),e.length>0&&(e.forEach(function(e){var n,t=document.createElement("div");t.className="mermaid",t.textContent=e.textContent.trim(),n=e.closest("pre")||e.parentElement,n.parentNode.replaceChild(t,n)}),mermaid.initialize({startOnLoad:!0,theme:"default",securityLevel:"loose"}))})</script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/cn/><span class=navbar-logo><svg id="å›¾å±‚_1" data-name="å›¾å±‚ 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs><style>.logo-cls-1{fill:none;stroke:#fff;stroke-miterlimit:10;stroke-width:.5px;opacity:.3}.logo-cls-2{fill:#229efa}.logo-cls-3{fill:#9948f7}.logo-cls-4{fill:#33bc7a}.logo-cls-5{fill:url(#æœªå‘½åçš„æ¸å˜_3)}.logo-cls-6{fill:url(#æœªå‘½åçš„æ¸å˜_13)}.logo-cls-7{fill:url(#æœªå‘½åçš„æ¸å˜_11)}</style><linearGradient id="æœªå‘½åçš„æ¸å˜_3" x1="6.16" y1="14.63" x2="6.16" y2="6.01" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2e3192"/><stop offset="0" stop-color="#229efa"/><stop offset=".44" stop-color="#239cf8"/><stop offset=".6" stop-color="#2795f2"/><stop offset=".71" stop-color="#2d8ae8"/><stop offset=".81" stop-color="#3679d9"/><stop offset=".89" stop-color="#4263c6"/><stop offset=".95" stop-color="#5048af"/><stop offset="1" stop-color="#5c319b"/></linearGradient><linearGradient id="æœªå‘½åçš„æ¸å˜_13" x1="10.75" y1="8.2" x2="4.49" y2="1.94" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#991146"/><stop offset="0" stop-color="#326b4e"/><stop offset=".02" stop-color="#3a685c"/><stop offset=".07" stop-color="#506180"/><stop offset=".13" stop-color="#645aa0"/><stop offset=".19" stop-color="#7554bc"/><stop offset=".26" stop-color="#8250d2"/><stop offset=".35" stop-color="#8d4ce3"/><stop offset=".45" stop-color="#944aee"/><stop offset=".6" stop-color="#9848f5"/><stop offset="1" stop-color="#9948f7"/></linearGradient><linearGradient id="æœªå‘½åçš„æ¸å˜_11" x1="15.34" y1="6.67" x2="7.88" y2="10.98" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#33bc7a"/><stop offset=".45" stop-color="#32ba7a"/><stop offset=".61" stop-color="#2fb37c"/><stop offset=".73" stop-color="#29a87e"/><stop offset=".82" stop-color="#219782"/><stop offset=".9" stop-color="#168186"/><stop offset=".97" stop-color="#09668b"/><stop offset="1" stop-color="#03598e"/></linearGradient></defs><title>logo</title><rect class="logo-cls-1" x="-143.14" y="-373.46" width="597.8" height="424.44"/><circle class="logo-cls-2" cx="12.02" cy="1.83" r="1.33"/><circle class="logo-cls-3" cx="12.02" cy="14.17" r="1.33"/><circle class="logo-cls-4" cx="1.33" cy="8" r="1.33"/><path class="logo-cls-5" d="M7.91 10h0a2.65 2.65.0 01-.23-3.74A1.75 1.75.0 017.91 6h0A2.66 2.66.0 014.4 6h0a1.81 1.81.0 01.24.24A2.65 2.65.0 014.4 10h0a2.62 2.62.0 00-.89 2 2.65 2.65.0 104.4-2z"/><path class="logo-cls-6" d="M12.19 5.49a2.78 2.78.0 01-.5.11A2.64 2.64.0 018.76 3.5h0a2.65 2.65.0 10-2.6 3.17A2.6 2.6.0 007 6.53H7a2.65 2.65.0 013.44 2 2.94 2.94.0 010-.51 2.65 2.65.0 011.75-2.53z"/><path class="logo-cls-7" d="M13 5.35a2.64 2.64.0 00-2.59 2.12h0a3 3 0 01-.08.32A2.65 2.65.0 017.54 9.58a2.86 2.86.0 00.37.41h0a2.63 2.63.0 01.9 2 2.84 2.84.0 01-.05.51 2.64 2.64.0 013.12-2.06l.32.08h0a2.6 2.6.0 00.84.14 2.65 2.65.0 100-5.3z"/></svg></span><span class=font-weight-bold>HugeGraph</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cn/docs/><i class='fas fa-book pr-2'></i><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cn/blog/><i class='fas fa-book pr-2'></i><span>Blog Posts</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/apache/hugegraph target=_blank><i class='fab fa-github pr-2'></i><span>GitHub</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cn/docs/download/download/><i class='fas fa-download pr-2'></i><span>Download</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cn/community/><span>Community</span></a></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>ä¸­æ–‡</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/quickstart/hugegraph-ai/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/cn/docs/quickstart/hugegraph-ai/>Return to the regular view of this page</a>.</p></div><h1 class=title>HugeGraph-AI</h1><ul><li>1: <a href=#pg-0b4da31f88e2852fb8a360769f3c9f28>HugeGraph-LLM</a></li><li>2: <a href=#pg-e0b469442bebe4a5db69564efbaa4753>HugeGraph-ML</a></li><li>3: <a href=#pg-bb10fc095f5061d789104547f7246a67>GraphRAG UI Details</a></li><li>4: <a href=#pg-6cc3291f0d6d469d81467164d710a8f2>é…ç½®å‚è€ƒ</a></li><li>5: <a href=#pg-705186bd8a71dc04683f1f744e9d36b4>REST API å‚è€ƒ</a></li></ul><div class=content><p><a href=https://www.apache.org/licenses/LICENSE-2.0.html><img src=https://img.shields.io/badge/license-Apache%202-0E78BA.svg alt=License></a>
<a href=https://deepwiki.com/apache/incubator-hugegraph-ai><img src=https://deepwiki.com/badge.svg alt="Ask DeepWiki"></a></p><blockquote><p>DeepWiki æä¾›å®æ—¶æ›´æ–°çš„é¡¹ç›®æ–‡æ¡£ï¼Œå†…å®¹æ›´å…¨é¢å‡†ç¡®ï¼Œé€‚åˆå¿«é€Ÿäº†è§£é¡¹ç›®æœ€æ–°æƒ…å†µã€‚</p><p>ğŸ“– <a href=https://deepwiki.com/apache/incubator-hugegraph-ai>https://deepwiki.com/apache/incubator-hugegraph-ai</a></p></blockquote><p><code>hugegraph-ai</code> æ•´åˆäº† <a href=https://github.com/apache/hugegraph>HugeGraph</a> ä¸äººå·¥æ™ºèƒ½åŠŸèƒ½ï¼Œä¸ºå¼€å‘è€…æ„å»º AI é©±åŠ¨çš„å›¾åº”ç”¨æä¾›å…¨é¢æ”¯æŒã€‚</p><h2 id=-æ ¸å¿ƒåŠŸèƒ½>âœ¨ æ ¸å¿ƒåŠŸèƒ½</h2><ul><li><strong>GraphRAG</strong>ï¼šåˆ©ç”¨å›¾å¢å¼ºæ£€ç´¢æ„å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿ</li><li><strong>Text2Gremlin</strong>ï¼šè‡ªç„¶è¯­è¨€åˆ°å›¾æŸ¥è¯¢çš„è½¬æ¢ï¼Œæ”¯æŒ REST API</li><li><strong>çŸ¥è¯†å›¾è°±æ„å»º</strong>ï¼šä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹ä»æ–‡æœ¬è‡ªåŠ¨æ„å»ºå›¾è°±</li><li><strong>å›¾æœºå™¨å­¦ä¹ </strong>ï¼šé›†æˆ 21 ç§å›¾å­¦ä¹ ç®—æ³•ï¼ˆGCNã€GATã€GraphSAGE ç­‰ï¼‰</li><li><strong>Python å®¢æˆ·ç«¯</strong>ï¼šæ˜“äºä½¿ç”¨çš„ HugeGraph Python æ“ä½œæ¥å£</li><li><strong>AI æ™ºèƒ½ä½“</strong>ï¼šæä¾›æ™ºèƒ½å›¾åˆ†æä¸æ¨ç†èƒ½åŠ›</li></ul><h3 id=-v150-æ–°ç‰¹æ€§>ğŸ‰ v1.5.0 æ–°ç‰¹æ€§</h3><ul><li><strong>Text2Gremlin REST API</strong>ï¼šé€šè¿‡ REST ç«¯ç‚¹å°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸º Gremlin å‘½ä»¤</li><li><strong>å¤šæ¨¡å‹å‘é‡æ”¯æŒ</strong>ï¼šæ¯ä¸ªå›¾å®ä¾‹å¯ä»¥ä½¿ç”¨ç‹¬ç«‹çš„åµŒå…¥æ¨¡å‹</li><li><strong>åŒè¯­æç¤ºæ”¯æŒ</strong>ï¼šæ”¯æŒè‹±æ–‡å’Œä¸­æ–‡æç¤ºè¯åˆ‡æ¢ï¼ˆEN/CNï¼‰</li><li><strong>åŠè‡ªåŠ¨ Schema ç”Ÿæˆ</strong>ï¼šä»æ–‡æœ¬æ•°æ®æ™ºèƒ½æ¨æ–­ Schema</li><li><strong>åŠè‡ªåŠ¨ Prompt ç”Ÿæˆ</strong>ï¼šä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„æç¤ºè¯æ¨¡æ¿</li><li><strong>å¢å¼ºçš„ Reranker æ”¯æŒ</strong>ï¼šé›†æˆ Cohere å’Œ SiliconFlow é‡æ’åºå™¨</li><li><strong>LiteLLM å¤šä¾›åº”å•†æ”¯æŒ</strong>ï¼šç»Ÿä¸€æ¥å£æ”¯æŒ OpenAIã€Anthropicã€Gemini ç­‰</li></ul><h2 id=-å¿«é€Ÿå¼€å§‹>ğŸš€ å¿«é€Ÿå¼€å§‹</h2><blockquote><p>[!NOTE]
å¦‚éœ€å®Œæ•´çš„éƒ¨ç½²æŒ‡å—å’Œè¯¦ç»†ç¤ºä¾‹ï¼Œè¯·å‚é˜… <a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-llm/README.md>hugegraph-llm/README.md</a>ã€‚</p></blockquote><h3 id=ç¯å¢ƒè¦æ±‚>ç¯å¢ƒè¦æ±‚</h3><ul><li>Python 3.10+ï¼ˆhugegraph-llm å¿…éœ€ï¼‰</li><li><a href=https://docs.astral.sh/uv/>uv</a> 0.7+ï¼ˆæ¨èçš„åŒ…ç®¡ç†å™¨ï¼‰</li><li>HugeGraph Server 1.5+ï¼ˆå¿…éœ€ï¼‰</li><li>Dockerï¼ˆå¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²ï¼‰</li></ul><h3 id=æ–¹æ¡ˆä¸€docker-éƒ¨ç½²æ¨è>æ–¹æ¡ˆä¸€ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å…‹éš†ä»“åº“</span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/incubator-hugegraph-ai.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> incubator-hugegraph-ai
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®¾ç½®ç¯å¢ƒå¹¶å¯åŠ¨æœåŠ¡</span>
</span></span><span style=display:flex><span>cp docker/env.template docker/.env
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç¼–è¾‘ docker/.env è®¾ç½®ä½ çš„ PROJECT_PATH</span>
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> docker
</span></span><span style=display:flex><span>docker-compose -f docker-compose-network.yml up -d
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®¿é—®æœåŠ¡ï¼š</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># - HugeGraph Server: http://localhost:8080</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># - RAG æœåŠ¡: http://localhost:8001</span>
</span></span></code></pre></div><h3 id=æ–¹æ¡ˆäºŒæºç å®‰è£…>æ–¹æ¡ˆäºŒï¼šæºç å®‰è£…</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. å¯åŠ¨ HugeGraph Server</span>
</span></span><span style=display:flex><span>docker run -itd --name<span style=color:#ce5c00;font-weight:700>=</span>server -p 8080:8080 hugegraph/hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. å…‹éš†å¹¶è®¾ç½®é¡¹ç›®</span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/incubator-hugegraph-ai.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> incubator-hugegraph-ai/hugegraph-llm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. å®‰è£…ä¾èµ–</span>
</span></span><span style=display:flex><span>uv venv <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#204a87>source</span> .venv/bin/activate
</span></span><span style=display:flex><span>uv pip install -e .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 4. å¯åŠ¨æ¼”ç¤º</span>
</span></span><span style=display:flex><span>python -m hugegraph_llm.demo.rag_demo.app
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®¿é—® http://127.0.0.1:8001</span>
</span></span></code></pre></div><h3 id=åŸºæœ¬ç”¨æ³•ç¤ºä¾‹>åŸºæœ¬ç”¨æ³•ç¤ºä¾‹</h3><h4 id=graphrag---é—®ç­”>GraphRAG - é—®ç­”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.graph_rag_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>RAGPipeline</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ– RAG å·¥ä½œæµ</span>
</span></span><span style=display:flex><span><span style=color:#000>graph_rag</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RAGPipeline</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å¯¹ä½ çš„å›¾è¿›è¡Œæé—®</span>
</span></span><span style=display:flex><span><span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>graph_rag</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>extract_keywords</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>text</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®² Al Pacino çš„æ•…äº‹ã€‚&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>keywords_to_vid</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>query_graphdb</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>max_deep</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>max_graph_items</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>synthesize_answer</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><h4 id=çŸ¥è¯†å›¾è°±æ„å»º>çŸ¥è¯†å›¾è°±æ„å»º</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.models.llms.init_llm</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>LLMs</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.kg_construction_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>KgBuilder</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä»æ–‡æœ¬æ„å»ºçŸ¥è¯†å›¾è°±</span>
</span></span><span style=display:flex><span><span style=color:#000>TEXT</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ä½ çš„æ–‡æœ¬å†…å®¹...&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>builder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>KgBuilder</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>LLMs</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_chat_llm</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span><span style=color:#000>builder</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>import_schema</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>from_hugegraph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>chunk_split</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>TEXT</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>extract_info</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>extract_type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;property_graph&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>commit_to_hugegraph</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><h4 id=å›¾æœºå™¨å­¦ä¹ >å›¾æœºå™¨å­¦ä¹ </h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>pyhugegraph.client</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>PyHugeClient</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è¿æ¥ HugeGraph å¹¶è¿è¡Œæœºå™¨å­¦ä¹ ç®—æ³•</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è¯¦ç»†ç¤ºä¾‹è¯·å‚é˜… hugegraph-ml æ–‡æ¡£</span>
</span></span></code></pre></div><h2 id=-æ¨¡å—>ğŸ“¦ æ¨¡å—</h2><h3 id=hugegraph-llmhttpsgithubcomapacheincubator-hugegraph-aitreemainhugegraph-llm-ask-deepwikihttpsdeepwikicombadgesvghttpsdeepwikicomapacheincubator-hugegraph-ai><a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-llm>hugegraph-llm</a> <a href=https://deepwiki.com/apache/incubator-hugegraph-ai><img src=https://deepwiki.com/badge.svg alt="Ask DeepWiki"></a></h3><p>ç”¨äºå›¾åº”ç”¨çš„å¤§è¯­è¨€æ¨¡å‹é›†æˆï¼š</p><ul><li><strong>GraphRAG</strong>ï¼šåŸºäºå›¾æ•°æ®çš„æ£€ç´¢å¢å¼ºç”Ÿæˆ</li><li><strong>çŸ¥è¯†å›¾è°±æ„å»º</strong>ï¼šä»æ–‡æœ¬è‡ªåŠ¨æ„å»ºçŸ¥è¯†å›¾è°±</li><li><strong>è‡ªç„¶è¯­è¨€æ¥å£</strong>ï¼šä½¿ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢å›¾</li><li><strong>AI æ™ºèƒ½ä½“</strong>ï¼šæ™ºèƒ½å›¾åˆ†æä¸æ¨ç†</li></ul><h3 id=hugegraph-mlhttpsgithubcomapacheincubator-hugegraph-aitreemainhugegraph-ml><a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-ml>hugegraph-ml</a></h3><p>åŒ…å« 21 ç§ç®—æ³•çš„å›¾æœºå™¨å­¦ä¹ ï¼š</p><ul><li><strong>èŠ‚ç‚¹åˆ†ç±»</strong>ï¼šGCNã€GATã€GraphSAGEã€APPNPã€AGNNã€ARMAã€DAGNNã€DeeperGCNã€GRANDã€JKNetã€Cluster-GCN</li><li><strong>å›¾åˆ†ç±»</strong>ï¼šDiffPoolã€GIN</li><li><strong>å›¾åµŒå…¥</strong>ï¼šDGIã€BGRLã€GRACE</li><li><strong>é“¾æ¥é¢„æµ‹</strong>ï¼šSEALã€P-GNNã€GATNE</li><li><strong>æ¬ºè¯ˆæ£€æµ‹</strong>ï¼šCARE-GNNã€BGNN</li><li><strong>åå¤„ç†</strong>ï¼šC&Sï¼ˆCorrect & Smoothï¼‰</li></ul><h3 id=hugegraph-python-clienthttpsgithubcomapacheincubator-hugegraph-aitreemainhugegraph-python-client><a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-python-client>hugegraph-python-client</a></h3><p>ç”¨äº HugeGraph æ“ä½œçš„ Python å®¢æˆ·ç«¯ï¼š</p><ul><li><strong>Schema ç®¡ç†</strong>ï¼šå®šä¹‰é¡¶ç‚¹/è¾¹æ ‡ç­¾å’Œå±æ€§</li><li><strong>CRUD æ“ä½œ</strong>ï¼šåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤å›¾æ•°æ®</li><li><strong>Gremlin æŸ¥è¯¢</strong>ï¼šæ‰§è¡Œå›¾éå†æŸ¥è¯¢</li><li><strong>REST API</strong>ï¼šå®Œæ•´çš„ HugeGraph REST API è¦†ç›–</li></ul><h2 id=-äº†è§£æ›´å¤š>ğŸ“š äº†è§£æ›´å¤š</h2><ul><li><a href=https://hugegraph.apache.org/docs/quickstart/hugegraph-ai/>é¡¹ç›®ä¸»é¡µ</a></li><li><a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-llm/quick_start.md>LLM å¿«é€Ÿå…¥é—¨æŒ‡å—</a></li><li><a href=https://deepwiki.com/apache/incubator-hugegraph-ai>DeepWiki AI æ–‡æ¡£</a></li></ul><h2 id=-ç›¸å…³é¡¹ç›®>ğŸ”— ç›¸å…³é¡¹ç›®</h2><ul><li><a href=https://github.com/apache/hugegraph>hugegraph</a> - æ ¸å¿ƒå›¾æ•°æ®åº“</li><li><a href=https://github.com/apache/hugegraph-toolchain>hugegraph-toolchain</a> - å¼€å‘å·¥å…·ï¼ˆåŠ è½½å™¨ã€ä»ªè¡¨ç›˜ç­‰ï¼‰</li><li><a href=https://github.com/apache/hugegraph-computer>hugegraph-computer</a> - å›¾è®¡ç®—ç³»ç»Ÿ</li></ul><h2 id=-è´¡çŒ®>ğŸ¤ è´¡çŒ®</h2><p>æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯¦æƒ…è¯·å‚é˜…æˆ‘ä»¬çš„<a href=https://hugegraph.apache.org/docs/contribution-guidelines/>è´¡çŒ®æŒ‡å—</a>ã€‚</p><p><strong>å¼€å‘è®¾ç½®ï¼š</strong></p><ul><li>ä½¿ç”¨ <a href=https://desktop.github.com/>GitHub Desktop</a> æ›´è½»æ¾åœ°ç®¡ç† PR</li><li>æäº¤ PR å‰è¿è¡Œ <code>./style/code_format_and_analysis.sh</code></li><li>æŠ¥å‘Šé”™è¯¯å‰æ£€æŸ¥ç°æœ‰é—®é¢˜</li></ul><p><a href=https://github.com/apache/incubator-hugegraph-ai/graphs/contributors><img src="https://contrib.rocks/image?repo=apache/incubator-hugegraph-ai" alt="contributors graph"></a></p><h2 id=-è®¸å¯è¯>ğŸ“„ è®¸å¯è¯</h2><p>hugegraph-ai é‡‡ç”¨ <a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/LICENSE>Apache 2.0 è®¸å¯è¯</a>ã€‚</p><h2 id=-è”ç³»æˆ‘ä»¬>ğŸ“ è”ç³»æˆ‘ä»¬</h2><ul><li><strong>GitHub Issues</strong>ï¼š<a href=https://github.com/apache/incubator-hugegraph-ai/issues>æŠ¥å‘Šé”™è¯¯æˆ–è¯·æ±‚åŠŸèƒ½</a>ï¼ˆå“åº”æœ€å¿«ï¼‰</li><li><strong>ç”µå­é‚®ä»¶</strong>ï¼š<a href=mailto:dev@hugegraph.apache.org>dev@hugegraph.apache.org</a>ï¼ˆ<a href=https://hugegraph.apache.org/docs/contribution-guidelines/subscribe/>éœ€è¦è®¢é˜…</a>ï¼‰</li><li><strong>å¾®ä¿¡</strong>ï¼šå…³æ³¨ &ldquo;Apache HugeGraph&rdquo; å¾®ä¿¡å…¬ä¼—å·</li></ul><img src=https://raw.githubusercontent.com/apache/hugegraph-doc/master/assets/images/wechat.png alt="Apache HugeGraph WeChat QR Code" width=200></div></div><div class=td-content style=page-break-before:always><h1 id=pg-0b4da31f88e2852fb8a360769f3c9f28>1 - HugeGraph-LLM</h1><blockquote><p>æœ¬æ–‡ä¸ºä¸­æ–‡ç¿»è¯‘ç‰ˆæœ¬ï¼Œå†…å®¹åŸºäºè‹±æ–‡ç‰ˆè¿›è¡Œï¼Œæˆ‘ä»¬æ¬¢è¿æ‚¨éšæ—¶æå‡ºä¿®æ”¹å»ºè®®ã€‚æˆ‘ä»¬æ¨èæ‚¨é˜…è¯» <a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-llm#readme>AI ä»“åº“ README</a> ä»¥è·å–æœ€æ–°ä¿¡æ¯ï¼Œå®˜ç½‘ä¼šå®šæœŸåŒæ­¥æ›´æ–°ã€‚</p></blockquote><blockquote><p><strong>è¿æ¥å›¾æ•°æ®åº“ä¸å¤§è¯­è¨€æ¨¡å‹çš„æ¡¥æ¢</strong></p></blockquote><blockquote><p>AI æ€»ç»“é¡¹ç›®æ–‡æ¡£ï¼š<a href=https://deepwiki.com/apache/incubator-hugegraph-ai><img src=https://deepwiki.com/badge.svg alt="Ask DeepWiki"></a></p></blockquote><h2 id=-æ¦‚è¿°>ğŸ¯ æ¦‚è¿°</h2><p>HugeGraph-LLM æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·åŒ…ï¼Œå®ƒèåˆäº†å›¾æ•°æ®åº“å’Œå¤§å‹è¯­è¨€æ¨¡å‹çš„ä¼˜åŠ¿ï¼Œå®ç°äº† HugeGraph ä¸ LLM ä¹‹é—´çš„æ— ç¼é›†æˆï¼ŒåŠ©åŠ›å¼€å‘è€…æ„å»ºæ™ºèƒ½åº”ç”¨ã€‚</p><h3 id=æ ¸å¿ƒåŠŸèƒ½>æ ¸å¿ƒåŠŸèƒ½</h3><ul><li>ğŸ—ï¸ <strong>çŸ¥è¯†å›¾è°±æ„å»º</strong>ï¼šåˆ©ç”¨ LLM å’Œ HugeGraph è‡ªåŠ¨æ„å»ºçŸ¥è¯†å›¾è°±ã€‚</li><li>ğŸ—£ï¸ <strong>è‡ªç„¶è¯­è¨€æŸ¥è¯¢</strong>ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€ï¼ˆGremlin/Cypherï¼‰æ“ä½œå›¾æ•°æ®åº“ã€‚</li><li>ğŸ” <strong>å›¾å¢å¼º RAG</strong>ï¼šå€ŸåŠ©çŸ¥è¯†å›¾è°±æå‡é—®ç­”å‡†ç¡®æ€§ï¼ˆGraphRAG å’Œ Graph Agentï¼‰ã€‚</li></ul><p>æ›´å¤šæºç æ–‡æ¡£ï¼Œè¯·è®¿é—®æˆ‘ä»¬çš„ <a href=https://deepwiki.com/apache/incubator-hugegraph-ai>DeepWiki</a> é¡µé¢ï¼ˆæ¨èï¼‰ã€‚</p><h2 id=-ç¯å¢ƒè¦æ±‚>ğŸ“‹ ç¯å¢ƒè¦æ±‚</h2><blockquote><p>[!IMPORTANT]</p><ul><li><strong>Python</strong>ï¼š3.10+ï¼ˆæœªåœ¨ 3.12 ç‰ˆæœ¬æµ‹è¯•ï¼‰</li><li><strong>HugeGraph Server</strong>ï¼š1.3+ï¼ˆæ¨è 1.5+ï¼‰</li><li><strong>UV åŒ…ç®¡ç†å™¨</strong>ï¼š0.7+</li></ul></blockquote><h2 id=-å¿«é€Ÿå¼€å§‹>ğŸš€ å¿«é€Ÿå¼€å§‹</h2><p>è¯·é€‰æ‹©æ‚¨åå¥½çš„éƒ¨ç½²æ–¹å¼ï¼š</p><h3 id=æ–¹æ¡ˆä¸€docker-composeæ¨è>æ–¹æ¡ˆä¸€ï¼šDocker Composeï¼ˆæ¨èï¼‰</h3><p>è¿™æ˜¯åŒæ—¶å¯åŠ¨ HugeGraph Server å’Œ RAG æœåŠ¡çš„æœ€å¿«æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. è®¾ç½®ç¯å¢ƒ</span>
</span></span><span style=display:flex><span>cp docker/env.template docker/.env
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç¼–è¾‘ docker/.envï¼Œå°† PROJECT_PATH è®¾ç½®ä¸ºæ‚¨çš„å®é™…é¡¹ç›®è·¯å¾„</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. éƒ¨ç½²æœåŠ¡</span>
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> docker
</span></span><span style=display:flex><span>docker-compose -f docker-compose-network.yml up -d
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. éªŒè¯éƒ¨ç½²</span>
</span></span><span style=display:flex><span>docker-compose -f docker-compose-network.yml ps
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 4. è®¿é—®æœåŠ¡</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># HugeGraph Server: http://localhost:8080</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># RAG æœåŠ¡: http://localhost:8001</span>
</span></span></code></pre></div><h3 id=æ–¹æ¡ˆäºŒç‹¬ç«‹-docker-å®¹å™¨>æ–¹æ¡ˆäºŒï¼šç‹¬ç«‹ Docker å®¹å™¨</h3><p>å¦‚æœæ‚¨å¸Œæœ›å¯¹å„ç»„ä»¶è¿›è¡Œæ›´ç²¾ç»†çš„æ§åˆ¶ï¼š</p><h4 id=å¯ç”¨é•œåƒ>å¯ç”¨é•œåƒ</h4><ul><li><strong><code>hugegraph/rag</code></strong>ï¼šå¼€å‘é•œåƒï¼Œå¯è®¿é—®æºä»£ç </li><li><strong><code>hugegraph/rag-bin</code></strong>ï¼šç”Ÿäº§ä¼˜åŒ–çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆä½¿ç”¨ Nuitka ç¼–è¯‘ï¼‰</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. åˆ›å»ºç½‘ç»œ</span>
</span></span><span style=display:flex><span>docker network create -d bridge hugegraph-net
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. å¯åŠ¨ HugeGraph Server</span>
</span></span><span style=display:flex><span>docker run -itd --name<span style=color:#ce5c00;font-weight:700>=</span>server -p 8080:8080 --network hugegraph-net hugegraph/hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. å¯åŠ¨ RAG æœåŠ¡</span>
</span></span><span style=display:flex><span>docker pull hugegraph/rag:latest
</span></span><span style=display:flex><span>docker run -itd --name rag <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -v /path/to/your/hugegraph-llm/.env:/home/work/hugegraph-llm/.env <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -p 8001:8001 --network hugegraph-net hugegraph/rag
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 4. ç›‘æ§æ—¥å¿—</span>
</span></span><span style=display:flex><span>docker logs -f rag
</span></span></code></pre></div><h3 id=æ–¹æ¡ˆä¸‰ä»æºç æ„å»º>æ–¹æ¡ˆä¸‰ï¼šä»æºç æ„å»º</h3><p>é€‚ç”¨äºå¼€å‘å’Œè‡ªå®šä¹‰åœºæ™¯ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. å¯åŠ¨ HugeGraph Server</span>
</span></span><span style=display:flex><span>docker run -itd --name<span style=color:#ce5c00;font-weight:700>=</span>server -p 8080:8080 hugegraph/hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. å®‰è£… UV åŒ…ç®¡ç†å™¨</span>
</span></span><span style=display:flex><span>curl -LsSf https://astral.sh/uv/install.sh <span style=color:#000;font-weight:700>|</span> sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. å…‹éš†å¹¶è®¾ç½®é¡¹ç›®</span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/incubator-hugegraph-ai.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> incubator-hugegraph-ai/hugegraph-llm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 4. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–</span>
</span></span><span style=display:flex><span>uv venv <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#204a87>source</span> .venv/bin/activate
</span></span><span style=display:flex><span>uv pip install -e .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 5. å¯åŠ¨ RAG æ¼”ç¤º</span>
</span></span><span style=display:flex><span>python -m hugegraph_llm.demo.rag_demo.app
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®¿é—®: http://127.0.0.1:8001</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 6. (å¯é€‰) è‡ªå®šä¹‰ä¸»æœº/ç«¯å£</span>
</span></span><span style=display:flex><span>python -m hugegraph_llm.demo.rag_demo.app --host 127.0.0.1 --port <span style=color:#0000cf;font-weight:700>18001</span>
</span></span></code></pre></div><h4 id=é¢å¤–è®¾ç½®å¯é€‰>é¢å¤–è®¾ç½®ï¼ˆå¯é€‰ï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä¸‹è½½ NLTK åœç”¨è¯ä»¥ä¼˜åŒ–æ–‡æœ¬å¤„ç†</span>
</span></span><span style=display:flex><span>python ./hugegraph_llm/operators/common_op/nltk_helper.py
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ›´æ–°é…ç½®æ–‡ä»¶</span>
</span></span><span style=display:flex><span>python -m hugegraph_llm.config.generate --update
</span></span></code></pre></div><blockquote><p>[!TIP]
æŸ¥çœ‹æˆ‘ä»¬çš„<a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-llm/quick_start.md>å¿«é€Ÿå…¥é—¨æŒ‡å—</a>è·å–è¯¦ç»†ç”¨æ³•ç¤ºä¾‹å’ŒæŸ¥è¯¢é€»è¾‘è§£é‡Šã€‚</p></blockquote><h2 id=-ç”¨æ³•ç¤ºä¾‹>ğŸ’¡ ç”¨æ³•ç¤ºä¾‹</h2><h3 id=çŸ¥è¯†å›¾è°±æ„å»º>çŸ¥è¯†å›¾è°±æ„å»º</h3><h4 id=äº¤äº’å¼-web-ç•Œé¢>äº¤äº’å¼ Web ç•Œé¢</h4><p>ä½¿ç”¨ Gradio ç•Œé¢è¿›è¡Œå¯è§†åŒ–çŸ¥è¯†å›¾è°±æ„å»ºï¼š</p><p><strong>è¾“å…¥é€‰é¡¹ï¼š</strong></p><ul><li><strong>æ–‡æœ¬</strong>ï¼šç›´æ¥è¾“å…¥æ–‡æœ¬ç”¨äº RAG ç´¢å¼•åˆ›å»º</li><li><strong>æ–‡ä»¶</strong>ï¼šä¸Šä¼  TXT æˆ– DOCX æ–‡ä»¶ï¼ˆæ”¯æŒå¤šé€‰ï¼‰</li></ul><p><strong>Schema é…ç½®ï¼š</strong></p><ul><li><strong>è‡ªå®šä¹‰ Schema</strong>ï¼šéµå¾ªæˆ‘ä»¬<a href=https://github.com/apache/incubator-hugegraph-ai/blob/aff3bbe25fa91c3414947a196131be812c20ef11/hugegraph-llm/src/hugegraph_llm/config/config_data.py#L125>æ¨¡æ¿</a>çš„ JSON æ ¼å¼</li><li><strong>HugeGraph Schema</strong>ï¼šä½¿ç”¨ç°æœ‰å›¾å®ä¾‹çš„ Schemaï¼ˆä¾‹å¦‚ï¼Œâ€œhugegraphâ€ï¼‰</li></ul><p><img src=https://hugegraph.apache.org/docs/images/gradio-kg.png alt=çŸ¥è¯†å›¾è°±æ„å»ºå™¨></p><h4 id=ä»£ç æ„å»º>ä»£ç æ„å»º</h4><p>ä½¿ç”¨ <code>KgBuilder</code> ç±»é€šè¿‡ä»£ç æ„å»ºçŸ¥è¯†å›¾è°±ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.models.llms.init_llm</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>LLMs</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.kg_construction_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>KgBuilder</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ–å¹¶é“¾å¼æ“ä½œ</span>
</span></span><span style=display:flex><span><span style=color:#000>TEXT</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;åœ¨æ­¤å¤„è¾“å…¥æ‚¨çš„æ–‡æœ¬å†…å®¹...&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>builder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>KgBuilder</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>LLMs</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_chat_llm</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>builder</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>import_schema</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>from_hugegraph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;talent_graph&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>print_result</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>chunk_split</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>TEXT</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>print_result</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>extract_info</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>extract_type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;property_graph&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>print_result</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>commit_to_hugegraph</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><p><strong>å·¥ä½œæµï¼š</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph LR
</span></span><span style=display:flex><span>    A[å¯¼å…¥ Schema] --&gt; B[æ–‡æœ¬åˆ†å—]
</span></span><span style=display:flex><span>    B --&gt; C[æå–ä¿¡æ¯]
</span></span><span style=display:flex><span>    C --&gt; D[æäº¤åˆ° HugeGraph]
</span></span><span style=display:flex><span>    D --&gt; E[æ‰§è¡Œå·¥ä½œæµ]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    style A fill:#fff2cc
</span></span><span style=display:flex><span>    style B fill:#d5e8d4
</span></span><span style=display:flex><span>    style C fill:#dae8fc
</span></span><span style=display:flex><span>    style D fill:#f8cecc
</span></span><span style=display:flex><span>    style E fill:#e1d5e7
</span></span></code></pre></div><h3 id=å›¾å¢å¼º-rag>å›¾å¢å¼º RAG</h3><p>åˆ©ç”¨ HugeGraph è¿›è¡Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.graph_rag_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>RAGPipeline</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ– RAG å·¥ä½œæµ</span>
</span></span><span style=display:flex><span><span style=color:#000>graph_rag</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RAGPipeline</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ‰§è¡Œ RAG å·¥ä½œæµ</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>graph_rag</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>extract_keywords</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>text</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®² Al Pacino çš„æ•…äº‹ã€‚&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>keywords_to_vid</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>query_graphdb</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>max_deep</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>max_graph_items</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>merge_dedup_rerank</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>synthesize_answer</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vector_only_answer</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>False</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>graph_only_answer</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>True</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>verbose</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>True</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><p><strong>RAG å·¥ä½œæµï¼š</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph TD
</span></span><span style=display:flex><span>    A[ç”¨æˆ·æŸ¥è¯¢] --&gt; B[æå–å…³é”®è¯]
</span></span><span style=display:flex><span>    B --&gt; C[åŒ¹é…å›¾èŠ‚ç‚¹]
</span></span><span style=display:flex><span>    C --&gt; D[æ£€ç´¢å›¾ä¸Šä¸‹æ–‡]
</span></span><span style=display:flex><span>    D --&gt; E[é‡æ’åºç»“æœ]
</span></span><span style=display:flex><span>    E --&gt; F[ç”Ÿæˆç­”æ¡ˆ]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    style A fill:#e3f2fd
</span></span><span style=display:flex><span>    style B fill:#f3e5f5
</span></span><span style=display:flex><span>    style C fill:#e8f5e8
</span></span><span style=display:flex><span>    style D fill:#fff3e0
</span></span><span style=display:flex><span>    style E fill:#fce4ec
</span></span><span style=display:flex><span>    style F fill:#e0f2f1
</span></span></code></pre></div><h2 id=-é…ç½®>ğŸ”§ é…ç½®</h2><p>è¿è¡Œæ¼”ç¤ºå,å°†è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼š</p><ul><li><strong>ç¯å¢ƒ</strong>ï¼š<code>hugegraph-llm/.env</code></li><li><strong>æç¤º</strong>ï¼š<code>hugegraph-llm/src/hugegraph_llm/resources/demo/config_prompt.yaml</code></li></ul><blockquote><p>[!NOTE]
ä½¿ç”¨ Web ç•Œé¢æ—¶ï¼Œé…ç½®æ›´æ”¹ä¼šè‡ªåŠ¨ä¿å­˜ã€‚å¯¹äºæ‰‹åŠ¨æ›´æ”¹ï¼Œåˆ·æ–°é¡µé¢å³å¯åŠ è½½æ›´æ–°ã€‚</p></blockquote><h3 id=llm-æä¾›å•†é…ç½®>LLM æä¾›å•†é…ç½®</h3><p>æœ¬é¡¹ç›®ä½¿ç”¨ <a href=https://docs.litellm.ai/docs/providers>LiteLLM</a> å®ç°å¤šæä¾›å•† LLM æ”¯æŒï¼Œå¯ç»Ÿä¸€è®¿é—® OpenAIã€Anthropicã€Googleã€Cohere ä»¥åŠ 100 å¤šä¸ªå…¶ä»–æä¾›å•†ã€‚</p><h4 id=æ–¹æ¡ˆä¸€ç›´æ¥-llm-è¿æ¥openaiollama>æ–¹æ¡ˆä¸€ï¼šç›´æ¥ LLM è¿æ¥ï¼ˆOpenAIã€Ollamaï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># .env é…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#000>chat_llm_type</span><span style=color:#ce5c00;font-weight:700>=</span>openai           <span style=color:#8f5902;font-style:italic># æˆ– ollama/local</span>
</span></span><span style=display:flex><span><span style=color:#000>openai_api_key</span><span style=color:#ce5c00;font-weight:700>=</span>sk-xxx
</span></span><span style=display:flex><span><span style=color:#000>openai_api_base</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>openai_language_model</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>openai_max_tokens</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>
</span></span></code></pre></div><h4 id=æ–¹æ¡ˆäºŒlitellm-å¤šæä¾›å•†æ”¯æŒ>æ–¹æ¡ˆäºŒï¼šLiteLLM å¤šæä¾›å•†æ”¯æŒ</h4><p>LiteLLM ä½œä¸ºå¤šä¸ª LLM æä¾›å•†çš„ç»Ÿä¸€ä»£ç†ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># .env é…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#000>chat_llm_type</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>extract_llm_type</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>text2gql_llm_type</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># LiteLLM è®¾ç½®</span>
</span></span><span style=display:flex><span><span style=color:#000>litellm_api_base</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000  <span style=color:#8f5902;font-style:italic># LiteLLM ä»£ç†æœåŠ¡å™¨</span>
</span></span><span style=display:flex><span><span style=color:#000>litellm_api_key</span><span style=color:#ce5c00;font-weight:700>=</span>sk-1234                  <span style=color:#8f5902;font-style:italic># LiteLLM API å¯†é’¥</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ¨¡å‹é€‰æ‹©ï¼ˆæä¾›å•†/æ¨¡å‹æ ¼å¼ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>litellm_language_model</span><span style=color:#ce5c00;font-weight:700>=</span>anthropic/claude-3-5-sonnet-20241022
</span></span><span style=display:flex><span><span style=color:#000>litellm_max_tokens</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>
</span></span></code></pre></div><p><strong>æ”¯æŒçš„æä¾›å•†</strong>ï¼šOpenAIã€Anthropicã€Googleï¼ˆGeminiï¼‰ã€Azureã€Cohereã€Bedrockã€Vertex AIã€Hugging Face ç­‰ã€‚</p><p>å®Œæ•´æä¾›å•†åˆ—è¡¨å’Œé…ç½®è¯¦æƒ…ï¼Œè¯·è®¿é—® <a href=https://docs.litellm.ai/docs/providers>LiteLLM Providers</a>ã€‚</p><h3 id=reranker-é…ç½®>Reranker é…ç½®</h3><p>Reranker é€šè¿‡é‡æ–°æ’åºæ£€ç´¢ç»“æœæ¥æé«˜ RAG å‡†ç¡®æ€§ã€‚æ”¯æŒçš„æä¾›å•†ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Cohere Reranker</span>
</span></span><span style=display:flex><span><span style=color:#000>reranker_type</span><span style=color:#ce5c00;font-weight:700>=</span>cohere
</span></span><span style=display:flex><span><span style=color:#000>cohere_api_key</span><span style=color:#ce5c00;font-weight:700>=</span>your-cohere-key
</span></span><span style=display:flex><span><span style=color:#000>cohere_rerank_model</span><span style=color:#ce5c00;font-weight:700>=</span>rerank-english-v3.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># SiliconFlow Reranker</span>
</span></span><span style=display:flex><span><span style=color:#000>reranker_type</span><span style=color:#ce5c00;font-weight:700>=</span>siliconflow
</span></span><span style=display:flex><span><span style=color:#000>siliconflow_api_key</span><span style=color:#ce5c00;font-weight:700>=</span>your-siliconflow-key
</span></span><span style=display:flex><span><span style=color:#000>siliconflow_rerank_model</span><span style=color:#ce5c00;font-weight:700>=</span>BAAI/bge-reranker-v2-m3
</span></span></code></pre></div><h3 id=text2gremlin-é…ç½®>Text2Gremlin é…ç½®</h3><p>å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸º Gremlin æŸ¥è¯¢ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.graph_rag_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>Text2GremlinPipeline</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ–å·¥ä½œæµ</span>
</span></span><span style=display:flex><span><span style=color:#000>text2gremlin</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Text2GremlinPipeline</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç”Ÿæˆ Gremlin æŸ¥è¯¢</span>
</span></span><span style=display:flex><span><span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>text2gremlin</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>query_to_gremlin</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>query</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;æŸ¥æ‰¾æ‰€æœ‰ç”± Francis Ford Coppola æ‰§å¯¼çš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>execute_gremlin_query</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><p><strong>REST API ç«¯ç‚¹</strong>ï¼šæœ‰å…³ HTTP ç«¯ç‚¹è¯¦æƒ…ï¼Œè¯·å‚é˜… <a href=./rest-api.md>REST API æ–‡æ¡£</a>ã€‚</p><h2 id=-å…¶ä»–èµ„æº>ğŸ“š å…¶ä»–èµ„æº</h2><ul><li><strong>å›¾å¯è§†åŒ–</strong>ï¼šä½¿ç”¨ <a href=https://hub.docker.com/r/hugegraph/hubble>HugeGraph Hubble</a> è¿›è¡Œæ•°æ®åˆ†æå’Œ Schema ç®¡ç†</li><li><strong>API æ–‡æ¡£</strong>ï¼šæµè§ˆæˆ‘ä»¬çš„ REST API ç«¯ç‚¹ä»¥è¿›è¡Œé›†æˆ</li><li><strong>ç¤¾åŒº</strong>ï¼šåŠ å…¥æˆ‘ä»¬çš„è®¨è®ºå¹¶ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®</li></ul><hr><p><strong>è®¸å¯è¯</strong>ï¼šApache License 2.0 | <strong>ç¤¾åŒº</strong>ï¼š<a href=https://hugegraph.apache.org/>Apache HugeGraph</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-e0b469442bebe4a5db69564efbaa4753>2 - HugeGraph-ML</h1><p>HugeGraph-ML å°† HugeGraph ä¸æµè¡Œçš„å›¾å­¦ä¹ åº“é›†æˆï¼Œæ”¯æŒç›´æ¥åœ¨å›¾æ•°æ®ä¸Šè¿›è¡Œç«¯åˆ°ç«¯çš„æœºå™¨å­¦ä¹ å·¥ä½œæµã€‚</p><h2 id=æ¦‚è¿°>æ¦‚è¿°</h2><p><code>hugegraph-ml</code> æä¾›äº†ç»Ÿä¸€æ¥å£ï¼Œç”¨äºå°†å›¾ç¥ç»ç½‘ç»œå’Œæœºå™¨å­¦ä¹ ç®—æ³•åº”ç”¨äºå­˜å‚¨åœ¨ HugeGraph ä¸­çš„æ•°æ®ã€‚å®ƒé€šè¿‡æ— ç¼è½¬æ¢ HugeGraph æ•°æ®åˆ°ä¸»æµ ML æ¡†æ¶å…¼å®¹æ ¼å¼ï¼Œæ¶ˆé™¤äº†å¤æ‚çš„æ•°æ®å¯¼å‡º/å¯¼å…¥æµç¨‹ã€‚</p><h3 id=æ ¸å¿ƒåŠŸèƒ½>æ ¸å¿ƒåŠŸèƒ½</h3><ul><li><strong>ç›´æ¥ HugeGraph é›†æˆ</strong>ï¼šæ— éœ€æ‰‹åŠ¨å¯¼å‡ºå³å¯ç›´æ¥ä» HugeGraph æŸ¥è¯¢å›¾æ•°æ®</li><li><strong>21 ç§ç®—æ³•å®ç°</strong>ï¼šå…¨é¢è¦†ç›–èŠ‚ç‚¹åˆ†ç±»ã€å›¾åˆ†ç±»ã€åµŒå…¥å’Œé“¾æ¥é¢„æµ‹</li><li><strong>DGL åç«¯</strong>ï¼šåˆ©ç”¨æ·±åº¦å›¾åº“ï¼ˆDGLï¼‰è¿›è¡Œé«˜æ•ˆè®­ç»ƒ</li><li><strong>ç«¯åˆ°ç«¯å·¥ä½œæµ</strong>ï¼šä»æ•°æ®åŠ è½½åˆ°æ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°</li><li><strong>æ¨¡å—åŒ–ä»»åŠ¡</strong>ï¼šå¯å¤ç”¨çš„å¸¸è§ ML åœºæ™¯ä»»åŠ¡æŠ½è±¡</li></ul><h2 id=ç¯å¢ƒè¦æ±‚>ç¯å¢ƒè¦æ±‚</h2><ul><li><strong>Python</strong>ï¼š3.9+ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰</li><li><strong>HugeGraph Server</strong>ï¼š1.0+ï¼ˆæ¨èï¼š1.5+ï¼‰</li><li><strong>UV åŒ…ç®¡ç†å™¨</strong>ï¼š0.7+ï¼ˆç”¨äºä¾èµ–ç®¡ç†ï¼‰</li></ul><h2 id=å®‰è£…>å®‰è£…</h2><h3 id=1-å¯åŠ¨-hugegraph-server>1. å¯åŠ¨ HugeGraph Server</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ–¹æ¡ˆä¸€ï¼šDockerï¼ˆæ¨èï¼‰</span>
</span></span><span style=display:flex><span>docker run -itd --name<span style=color:#ce5c00;font-weight:700>=</span>hugegraph -p 8080:8080 hugegraph/hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ–¹æ¡ˆäºŒï¼šäºŒè¿›åˆ¶åŒ…</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å‚è§ https://hugegraph.apache.org/docs/download/download/</span>
</span></span></code></pre></div><h3 id=2-å…‹éš†å¹¶è®¾ç½®>2. å…‹éš†å¹¶è®¾ç½®</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/apache/incubator-hugegraph-ai.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> incubator-hugegraph-ai/hugegraph-ml
</span></span></code></pre></div><h3 id=3-å®‰è£…ä¾èµ–>3. å®‰è£…ä¾èµ–</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># uv sync è‡ªåŠ¨åˆ›å»º .venv å¹¶å®‰è£…æ‰€æœ‰ä¾èµ–</span>
</span></span><span style=display:flex><span>uv sync
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
</span></span><span style=display:flex><span><span style=color:#204a87>source</span> .venv/bin/activate
</span></span></code></pre></div><h3 id=4-å¯¼èˆªåˆ°æºä»£ç ç›®å½•>4. å¯¼èˆªåˆ°æºä»£ç ç›®å½•</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> ./src
</span></span></code></pre></div><blockquote><p>[!NOTE]
æ‰€æœ‰ç¤ºä¾‹å‡å‡å®šæ‚¨åœ¨å·²æ¿€æ´»çš„è™šæ‹Ÿç¯å¢ƒä¸­ã€‚</p></blockquote><h2 id=å·²å®ç°ç®—æ³•>å·²å®ç°ç®—æ³•</h2><p>HugeGraph-ML ç›®å‰å®ç°äº†è·¨å¤šä¸ªç±»åˆ«çš„ <strong>21 ç§å›¾æœºå™¨å­¦ä¹ ç®—æ³•</strong>ï¼š</p><h3 id=èŠ‚ç‚¹åˆ†ç±»11-ç§ç®—æ³•>èŠ‚ç‚¹åˆ†ç±»ï¼ˆ11 ç§ç®—æ³•ï¼‰</h3><p>åŸºäºç½‘ç»œç»“æ„å’Œç‰¹å¾é¢„æµ‹å›¾èŠ‚ç‚¹çš„æ ‡ç­¾ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>GCN</strong></td><td><a href=https://arxiv.org/abs/1609.02907>Kipf & Welling, 2017</a></td><td>å›¾å·ç§¯ç½‘ç»œ</td></tr><tr><td><strong>GAT</strong></td><td><a href=https://arxiv.org/abs/1710.10903>VeliÄkoviÄ‡ et al., 2018</a></td><td>å›¾æ³¨æ„åŠ›ç½‘ç»œ</td></tr><tr><td><strong>GraphSAGE</strong></td><td><a href=https://arxiv.org/abs/1706.02216>Hamilton et al., 2017</a></td><td>å½’çº³å¼è¡¨ç¤ºå­¦ä¹ </td></tr><tr><td><strong>APPNP</strong></td><td><a href=https://arxiv.org/abs/1810.05997>Klicpera et al., 2019</a></td><td>ä¸ªæ€§åŒ– PageRank ä¼ æ’­</td></tr><tr><td><strong>AGNN</strong></td><td><a href=https://arxiv.org/abs/1803.03735>Thekumparampil et al., 2018</a></td><td>åŸºäºæ³¨æ„åŠ›çš„ GNN</td></tr><tr><td><strong>ARMA</strong></td><td><a href=https://arxiv.org/abs/1901.01343>Bianchi et al., 2019</a></td><td>è‡ªå›å½’ç§»åŠ¨å¹³å‡æ»¤æ³¢å™¨</td></tr><tr><td><strong>DAGNN</strong></td><td><a href=https://arxiv.org/abs/2007.09296>Liu et al., 2020</a></td><td>æ·±åº¦è‡ªé€‚åº”å›¾ç¥ç»ç½‘ç»œ</td></tr><tr><td><strong>DeeperGCN</strong></td><td><a href=https://arxiv.org/abs/2006.07739>Li et al., 2020</a></td><td>éå¸¸æ·±çš„ GCN æ¶æ„</td></tr><tr><td><strong>GRAND</strong></td><td><a href=https://arxiv.org/abs/2005.11079>Feng et al., 2020</a></td><td>å›¾éšæœºç¥ç»ç½‘ç»œ</td></tr><tr><td><strong>JKNet</strong></td><td><a href=https://arxiv.org/abs/1806.03536>Xu et al., 2018</a></td><td>è·³è·ƒçŸ¥è¯†ç½‘ç»œ</td></tr><tr><td><strong>Cluster-GCN</strong></td><td><a href=https://arxiv.org/abs/1905.07953>Chiang et al., 2019</a></td><td>é€šè¿‡èšç±»å®ç°å¯æ‰©å±• GCN è®­ç»ƒ</td></tr></tbody></table><h3 id=å›¾åˆ†ç±»2-ç§ç®—æ³•>å›¾åˆ†ç±»ï¼ˆ2 ç§ç®—æ³•ï¼‰</h3><p>åŸºäºç»“æ„å’ŒèŠ‚ç‚¹ç‰¹å¾å¯¹æ•´ä¸ªå›¾è¿›è¡Œåˆ†ç±»ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>DiffPool</strong></td><td><a href=https://arxiv.org/abs/1806.08804>Ying et al., 2018</a></td><td>å¯å¾®åˆ†å›¾æ± åŒ–</td></tr><tr><td><strong>GIN</strong></td><td><a href=https://arxiv.org/abs/1810.00826>Xu et al., 2019</a></td><td>å›¾åŒæ„ç½‘ç»œ</td></tr></tbody></table><h3 id=å›¾åµŒå…¥3-ç§ç®—æ³•>å›¾åµŒå…¥ï¼ˆ3 ç§ç®—æ³•ï¼‰</h3><p>å­¦ä¹ ç”¨äºä¸‹æ¸¸ä»»åŠ¡çš„æ— ç›‘ç£èŠ‚ç‚¹è¡¨ç¤ºã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>DGI</strong></td><td><a href=https://arxiv.org/abs/1809.10341>VeliÄkoviÄ‡ et al., 2019</a></td><td>æ·±åº¦å›¾ä¿¡æ¯æœ€å¤§åŒ–ï¼ˆå¯¹æ¯”å­¦ä¹ ï¼‰</td></tr><tr><td><strong>BGRL</strong></td><td><a href=https://arxiv.org/abs/2102.06514>Thakoor et al., 2021</a></td><td>è‡ªä¸¾å›¾è¡¨ç¤ºå­¦ä¹ </td></tr><tr><td><strong>GRACE</strong></td><td><a href=https://arxiv.org/abs/2006.04131>Zhu et al., 2020</a></td><td>å›¾å¯¹æ¯”å­¦ä¹ </td></tr></tbody></table><h3 id=é“¾æ¥é¢„æµ‹3-ç§ç®—æ³•>é“¾æ¥é¢„æµ‹ï¼ˆ3 ç§ç®—æ³•ï¼‰</h3><p>é¢„æµ‹å›¾ä¸­ç¼ºå¤±æˆ–æœªæ¥çš„è¿æ¥ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>SEAL</strong></td><td><a href=https://arxiv.org/abs/1802.09691>Zhang & Chen, 2018</a></td><td>å­å›¾æå–å’Œæ ‡æ³¨</td></tr><tr><td><strong>P-GNN</strong></td><td><a href=http://proceedings.mlr.press/v97/you19b/you19b.pdf>You et al., 2019</a></td><td>ä½ç½®æ„ŸçŸ¥ GNN</td></tr><tr><td><strong>GATNE</strong></td><td><a href=https://arxiv.org/abs/1905.01669>Cen et al., 2019</a></td><td>å±æ€§å¤šå…ƒå¼‚æ„ç½‘ç»œåµŒå…¥</td></tr></tbody></table><h3 id=æ¬ºè¯ˆæ£€æµ‹2-ç§ç®—æ³•>æ¬ºè¯ˆæ£€æµ‹ï¼ˆ2 ç§ç®—æ³•ï¼‰</h3><p>æ£€æµ‹å›¾ä¸­çš„å¼‚å¸¸èŠ‚ç‚¹ï¼ˆä¾‹å¦‚æ¬ºè¯ˆè´¦æˆ·ï¼‰ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>CARE-GNN</strong></td><td><a href=https://arxiv.org/abs/2008.08692>Dou et al., 2020</a></td><td>æŠ—ä¼ªè£… GNN</td></tr><tr><td><strong>BGNN</strong></td><td><a href=https://arxiv.org/abs/2101.08543>Zheng et al., 2021</a></td><td>äºŒéƒ¨å›¾ç¥ç»ç½‘ç»œ</td></tr></tbody></table><h3 id=åå¤„ç†1-ç§ç®—æ³•>åå¤„ç†ï¼ˆ1 ç§ç®—æ³•ï¼‰</h3><p>é€šè¿‡æ ‡ç­¾ä¼ æ’­æ”¹è¿›é¢„æµ‹ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>C&S</strong></td><td><a href=https://arxiv.org/abs/2010.13993>Huang et al., 2020</a></td><td>æ ¡æ­£ä¸å¹³æ»‘ï¼ˆé¢„æµ‹ä¼˜åŒ–ï¼‰</td></tr></tbody></table><h2 id=ä½¿ç”¨ç¤ºä¾‹>ä½¿ç”¨ç¤ºä¾‹</h2><h3 id=ç¤ºä¾‹-1ä½¿ç”¨-dgi-è¿›è¡ŒèŠ‚ç‚¹åµŒå…¥>ç¤ºä¾‹ 1ï¼šä½¿ç”¨ DGI è¿›è¡ŒèŠ‚ç‚¹åµŒå…¥</h3><p>ä½¿ç”¨æ·±åº¦å›¾ä¿¡æ¯æœ€å¤§åŒ–ï¼ˆDGIï¼‰åœ¨ Cora æ•°æ®é›†ä¸Šè¿›è¡Œæ— ç›‘ç£èŠ‚ç‚¹åµŒå…¥ã€‚</p><h4 id=æ­¥éª¤-1å¯¼å…¥æ•°æ®é›†å¦‚éœ€>æ­¥éª¤ 1ï¼šå¯¼å…¥æ•°æ®é›†ï¼ˆå¦‚éœ€ï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.utils.dgl2hugegraph_utils</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>import_graph_from_dgl</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä» DGL å¯¼å…¥ Cora æ•°æ®é›†åˆ° HugeGraph</span>
</span></span><span style=display:flex><span><span style=color:#000>import_graph_from_dgl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;cora&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h4 id=æ­¥éª¤-2è½¬æ¢å›¾æ•°æ®>æ­¥éª¤ 2ï¼šè½¬æ¢å›¾æ•°æ®</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.data.hugegraph2dgl</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>HugeGraph2DGL</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å°† HugeGraph æ•°æ®è½¬æ¢ä¸º DGL æ ¼å¼</span>
</span></span><span style=display:flex><span><span style=color:#000>hg2d</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HugeGraph2DGL</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hg2d</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>convert_graph</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vertex_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;CORA_vertex&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edge_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;CORA_edge&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h4 id=æ­¥éª¤-3åˆå§‹åŒ–æ¨¡å‹>æ­¥éª¤ 3ï¼šåˆå§‹åŒ–æ¨¡å‹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.models.dgi</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>DGI</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆ›å»º DGI æ¨¡å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>DGI</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n_in_feats</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;feat&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>])</span>
</span></span></code></pre></div><h4 id=æ­¥éª¤-4è®­ç»ƒå¹¶ç”ŸæˆåµŒå…¥>æ­¥éª¤ 4ï¼šè®­ç»ƒå¹¶ç”ŸæˆåµŒå…¥</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.tasks.node_embed</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>NodeEmbed</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®­ç»ƒæ¨¡å‹å¹¶ç”ŸæˆèŠ‚ç‚¹åµŒå…¥</span>
</span></span><span style=display:flex><span><span style=color:#000>node_embed_task</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>NodeEmbed</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>model</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>embedded_graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>node_embed_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>train_and_embed</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>add_self_loop</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>True</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_epochs</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>300</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>patience</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h4 id=æ­¥éª¤-5ä¸‹æ¸¸ä»»åŠ¡èŠ‚ç‚¹åˆ†ç±»>æ­¥éª¤ 5ï¼šä¸‹æ¸¸ä»»åŠ¡ï¼ˆèŠ‚ç‚¹åˆ†ç±»ï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.models.mlp</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>MLPClassifier</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.tasks.node_classify</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>NodeClassify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä½¿ç”¨åµŒå…¥è¿›è¡ŒèŠ‚ç‚¹åˆ†ç±»</span>
</span></span><span style=display:flex><span><span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>MLPClassifier</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_in_feat</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>embedded_graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;feat&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_out_feat</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>embedded_graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>unique</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>node_clf_task</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>NodeClassify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>embedded_graph</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>model</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>node_clf_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>train</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lr</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1e-3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>n_epochs</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>400</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>patience</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>40</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node_clf_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>evaluate</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#39;accuracy&#39;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.82</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;loss&#39;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.5714246034622192</span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>å®Œæ•´ç¤ºä¾‹</strong>ï¼šå‚è§ <a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-ml/src/hugegraph_ml/examples/dgi_example.py>dgi_example.py</a></p><h3 id=ç¤ºä¾‹-2ä½¿ç”¨-grand-è¿›è¡ŒèŠ‚ç‚¹åˆ†ç±»>ç¤ºä¾‹ 2ï¼šä½¿ç”¨ GRAND è¿›è¡ŒèŠ‚ç‚¹åˆ†ç±»</h3><p>ä½¿ç”¨ GRAND æ¨¡å‹ç›´æ¥å¯¹èŠ‚ç‚¹è¿›è¡Œåˆ†ç±»ï¼ˆæ— éœ€å•ç‹¬çš„åµŒå…¥æ­¥éª¤ï¼‰ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.data.hugegraph2dgl</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>HugeGraph2DGL</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.models.grand</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>GRAND</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.tasks.node_classify</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>NodeClassify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åŠ è½½å›¾</span>
</span></span><span style=display:flex><span><span style=color:#000>hg2d</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HugeGraph2DGL</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hg2d</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>convert_graph</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vertex_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;CORA_vertex&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edge_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;CORA_edge&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ– GRAND æ¨¡å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>GRAND</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_in_feats</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;feat&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_out_feats</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>unique</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®­ç»ƒå’Œè¯„ä¼°</span>
</span></span><span style=display:flex><span><span style=color:#000>node_clf_task</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>NodeClassify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>model</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>node_clf_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>train</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lr</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1e-2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>n_epochs</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1500</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>patience</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node_clf_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>evaluate</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><p><strong>å®Œæ•´ç¤ºä¾‹</strong>ï¼šå‚è§ <a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-ml/src/hugegraph_ml/examples/grand_example.py>grand_example.py</a></p><h2 id=æ ¸å¿ƒç»„ä»¶>æ ¸å¿ƒç»„ä»¶</h2><h3 id=hugegraph2dgl-è½¬æ¢å™¨>HugeGraph2DGL è½¬æ¢å™¨</h3><p>æ— ç¼å°† HugeGraph æ•°æ®è½¬æ¢ä¸º DGL å›¾æ ¼å¼ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.data.hugegraph2dgl</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>HugeGraph2DGL</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>hg2d</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HugeGraph2DGL</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hg2d</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>convert_graph</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>vertex_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span>      <span style=color:#8f5902;font-style:italic># è¦æå–çš„é¡¶ç‚¹æ ‡ç­¾</span>
</span></span><span style=display:flex><span>    <span style=color:#000>edge_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#000;font-weight:700>,</span>         <span style=color:#8f5902;font-style:italic># è¦æå–çš„è¾¹æ ‡ç­¾</span>
</span></span><span style=display:flex><span>    <span style=color:#000>directed</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>False</span>              <span style=color:#8f5902;font-style:italic># å›¾çš„æ–¹å‘æ€§</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=ä»»åŠ¡æŠ½è±¡>ä»»åŠ¡æŠ½è±¡</h3><p>ç”¨äºå¸¸è§ ML å·¥ä½œæµçš„å¯å¤ç”¨ä»»åŠ¡å¯¹è±¡ï¼š</p><table><thead><tr><th>ä»»åŠ¡</th><th>ç±»</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>èŠ‚ç‚¹åµŒå…¥</td><td><code>NodeEmbed</code></td><td>ç”Ÿæˆæ— ç›‘ç£èŠ‚ç‚¹åµŒå…¥</td></tr><tr><td>èŠ‚ç‚¹åˆ†ç±»</td><td><code>NodeClassify</code></td><td>é¢„æµ‹èŠ‚ç‚¹æ ‡ç­¾</td></tr><tr><td>å›¾åˆ†ç±»</td><td><code>GraphClassify</code></td><td>é¢„æµ‹å›¾çº§æ ‡ç­¾</td></tr><tr><td>é“¾æ¥é¢„æµ‹</td><td><code>LinkPredict</code></td><td>é¢„æµ‹ç¼ºå¤±è¾¹</td></tr></tbody></table><h2 id=æœ€ä½³å®è·µ>æœ€ä½³å®è·µ</h2><ol><li><strong>ä»å°æ•°æ®é›†å¼€å§‹</strong>ï¼šåœ¨æ‰©å±•ä¹‹å‰å…ˆåœ¨å°å›¾ï¼ˆä¾‹å¦‚ Coraã€Citeseerï¼‰ä¸Šæµ‹è¯•æ‚¨çš„æµç¨‹</li><li><strong>ä½¿ç”¨æ—©åœ</strong>ï¼šè®¾ç½® <code>patience</code> å‚æ•°ä»¥é¿å…è¿‡æ‹Ÿåˆ</li><li><strong>è°ƒæ•´è¶…å‚æ•°</strong>ï¼šæ ¹æ®æ•°æ®é›†å¤§å°è°ƒæ•´å­¦ä¹ ç‡ã€éšè—ç»´åº¦å’Œå‘¨æœŸæ•°</li><li><strong>ç›‘æ§ GPU å†…å­˜</strong>ï¼šå¤§å›¾å¯èƒ½éœ€è¦æ‰¹é‡è®­ç»ƒï¼ˆä¾‹å¦‚ Cluster-GCNï¼‰</li><li><strong>éªŒè¯ Schema</strong>ï¼šç¡®ä¿é¡¶ç‚¹/è¾¹æ ‡ç­¾ä¸æ‚¨çš„ HugeGraph schema åŒ¹é…</li></ol><h2 id=æ•…éšœæ’é™¤>æ•…éšœæ’é™¤</h2><table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>è¿æ¥ HugeGraph &ldquo;Connection refused&rdquo;</td><td>éªŒè¯æœåŠ¡å™¨æ˜¯å¦åœ¨ 8080 ç«¯å£è¿è¡Œ</td></tr><tr><td>CUDA å†…å­˜ä¸è¶³</td><td>å‡å°‘æ‰¹å¤§å°æˆ–ä½¿ç”¨ä»… CPU æ¨¡å¼</td></tr><tr><td>æ¨¡å‹æ”¶æ•›é—®é¢˜</td><td>å°è¯•ä¸åŒçš„å­¦ä¹ ç‡ï¼ˆ1e-2ã€1e-3ã€1e-4ï¼‰</td></tr><tr><td>DGL çš„ ImportError</td><td>è¿è¡Œ <code>uv sync</code> é‡æ–°å®‰è£…ä¾èµ–</td></tr></tbody></table><h2 id=è´¡çŒ®>è´¡çŒ®</h2><p>æ·»åŠ æ–°ç®—æ³•ï¼š</p><ol><li>åœ¨ <code>src/hugegraph_ml/models/your_model.py</code> åˆ›å»ºæ¨¡å‹æ–‡ä»¶</li><li>ç»§æ‰¿åŸºç¡€æ¨¡å‹ç±»å¹¶å®ç° <code>forward()</code> æ–¹æ³•</li><li>åœ¨ <code>src/hugegraph_ml/examples/</code> æ·»åŠ ç¤ºä¾‹è„šæœ¬</li><li>æ›´æ–°æ­¤æ–‡æ¡£å¹¶æ·»åŠ ç®—æ³•è¯¦æƒ…</li></ol><h2 id=å¦è§>å¦è§</h2><ul><li><a href=../_index.md>HugeGraph-AI æ¦‚è¿°</a> - å®Œæ•´ AI ç”Ÿæ€ç³»ç»Ÿ</li><li><a href=./hugegraph-llm.md>HugeGraph-LLM</a> - RAG å’ŒçŸ¥è¯†å›¾è°±æ„å»º</li><li><a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-ml>GitHub ä»“åº“</a> - æºä»£ç å’Œç¤ºä¾‹</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-bb10fc095f5061d789104547f7246a67>3 - GraphRAG UI Details</h1><blockquote><p>æ¥ç»­<a href=../>ä¸»æ–‡æ¡£</a>ä»‹ç»åŸºç¡€ UI åŠŸèƒ½åŠè¯¦æƒ…ï¼Œæ¬¢è¿éšæ—¶æ›´æ–°å’Œæ”¹è¿›ï¼Œè°¢è°¢</p></blockquote><h1 id=1-é¡¹ç›®æ ¸å¿ƒé€»è¾‘>1. é¡¹ç›®æ ¸å¿ƒé€»è¾‘</h1><h2 id=æ„å»º-rag-ç´¢å¼•èŒè´£>æ„å»º RAG ç´¢å¼•èŒè´£ï¼š</h2><ul><li>æ–‡æœ¬åˆ†å‰²å’Œå‘é‡åŒ–</li><li>ä»æ–‡æœ¬ä¸­æå–å›¾ï¼ˆæ„å»ºçŸ¥è¯†å›¾è°±ï¼‰å¹¶å¯¹é¡¶ç‚¹è¿›è¡Œå‘é‡åŒ–</li></ul><h2 id=graphrag-å’Œç”¨æˆ·åŠŸèƒ½èŒè´£>(Graph)RAG å’Œç”¨æˆ·åŠŸèƒ½èŒè´£ï¼š</h2><ul><li>æ ¹æ®æŸ¥è¯¢ä»æ„å»ºçš„çŸ¥è¯†å›¾è°±å’Œå‘é‡æ•°æ®åº“ä¸­æ£€ç´¢ç›¸å…³å†…å®¹ï¼Œç”¨äºè¡¥å……æç¤ºè¯ã€‚</li></ul><h1 id=2-å¤„ç†æµç¨‹æ„å»º-rag-ç´¢å¼•>2. ï¼ˆå¤„ç†æµç¨‹ï¼‰æ„å»º RAG ç´¢å¼•</h1><p>ä»æ–‡æœ¬æ„å»ºçŸ¥è¯†å›¾è°±ã€åˆ†å—å‘é‡å’Œå›¾é¡¶ç‚¹å‘é‡ã€‚</p><p><img src=https://github.com/user-attachments/assets/f3366d46-2e31-4638-94c4-7214951ef77a alt=image></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph TD;
</span></span><span style=display:flex><span>    A[åŸå§‹æ–‡æœ¬] --&gt; B[æ–‡æœ¬åˆ†å‰²]
</span></span><span style=display:flex><span>    B --&gt; C[å‘é‡åŒ–]
</span></span><span style=display:flex><span>    C --&gt; D[å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    A --&gt; F[æ–‡æœ¬åˆ†å‰²]
</span></span><span style=display:flex><span>    F --&gt; G[LLM åŸºäº schema å’Œåˆ†å‰²åçš„æ–‡æœ¬æå–å›¾]
</span></span><span style=display:flex><span>    G --&gt; H[å°†å›¾å­˜å‚¨åˆ°å›¾æ•°æ®åº“ï¼Œ\nè‡ªåŠ¨å¯¹é¡¶ç‚¹è¿›è¡Œå‘é‡åŒ–\nå¹¶å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    I[ä»å›¾æ•°æ®åº“æ£€ç´¢é¡¶ç‚¹] --&gt; J[å¯¹é¡¶ç‚¹è¿›è¡Œå‘é‡åŒ–å¹¶å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“\næ³¨æ„ï¼šå¢é‡æ›´æ–°]
</span></span></code></pre></div><h3 id=å››ä¸ªè¾“å…¥å­—æ®µ>å››ä¸ªè¾“å…¥å­—æ®µï¼š</h3><ul><li><strong>æ–‡æ¡£ï¼š</strong> è¾“å…¥æ–‡æœ¬</li><li><strong>Schemaï¼š</strong> å›¾çš„ schemaï¼Œå¯ä»¥ä»¥ JSON æ ¼å¼çš„ schema æä¾›ï¼Œæˆ–æä¾›å›¾åç§°ï¼ˆå¦‚æœæ•°æ®åº“ä¸­å·²å­˜åœ¨ï¼‰ã€‚</li><li><strong>å›¾æå–æç¤ºè¯å¤´éƒ¨ï¼š</strong> æç¤ºè¯çš„å¤´éƒ¨</li><li><strong>è¾“å‡ºï¼š</strong> æ˜¾ç¤ºç»“æœ</li></ul><h3 id=æŒ‰é’®>æŒ‰é’®ï¼š</h3><ul><li><p><strong>è·å– RAG ä¿¡æ¯</strong></p><ul><li><strong>è·å–å‘é‡ç´¢å¼•ä¿¡æ¯ï¼š</strong> æ£€ç´¢å‘é‡ç´¢å¼•ä¿¡æ¯</li><li><strong>è·å–å›¾ç´¢å¼•ä¿¡æ¯ï¼š</strong> æ£€ç´¢å›¾ç´¢å¼•ä¿¡æ¯</li></ul></li><li><p><strong>æ¸…é™¤ RAG æ•°æ®</strong></p><ul><li><strong>æ¸…é™¤åˆ†å—å‘é‡ç´¢å¼•ï¼š</strong> æ¸…é™¤åˆ†å—å‘é‡</li><li><strong>æ¸…é™¤å›¾é¡¶ç‚¹å‘é‡ç´¢å¼•ï¼š</strong> æ¸…é™¤å›¾é¡¶ç‚¹å‘é‡</li><li><strong>æ¸…é™¤å›¾æ•°æ®ï¼š</strong> æ¸…é™¤å›¾æ•°æ®</li></ul></li><li><p><strong>å¯¼å…¥åˆ°å‘é‡ï¼š</strong> å°†æ–‡æ¡£ä¸­çš„æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡ï¼ˆéœ€è¦å…ˆå¯¹æ–‡æœ¬è¿›è¡Œåˆ†å—ï¼Œç„¶åå°†åˆ†å—è½¬æ¢ä¸ºå‘é‡ï¼‰</p></li><li><p><strong>æå–å›¾æ•°æ® (1)ï¼š</strong> åŸºäº Schemaï¼Œä½¿ç”¨å›¾æå–æç¤ºè¯å¤´éƒ¨å’Œåˆ†å—å†…å®¹ä½œä¸ºæç¤ºè¯ï¼Œä»æ–‡æ¡£ä¸­æå–å›¾æ•°æ®</p></li><li><p><strong>åŠ è½½åˆ°å›¾æ•°æ®åº“ (2)ï¼š</strong> å°†æå–çš„å›¾æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ï¼ˆè‡ªåŠ¨è°ƒç”¨æ›´æ–°é¡¶ç‚¹åµŒå…¥ä»¥å°†å‘é‡å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ï¼‰</p></li><li><p><strong>æ›´æ–°é¡¶ç‚¹åµŒå…¥ï¼š</strong> å°†å›¾é¡¶ç‚¹è½¬æ¢ä¸ºå‘é‡</p></li></ul><h3 id=æ‰§è¡Œæµç¨‹>æ‰§è¡Œæµç¨‹ï¼š</h3><ol><li>åœ¨<strong>æ–‡æ¡£</strong>å­—æ®µä¸­è¾“å…¥æ–‡æœ¬ã€‚</li><li>ç‚¹å‡»<strong>å¯¼å…¥åˆ°å‘é‡</strong>æŒ‰é’®ï¼Œå¯¹æ–‡æœ¬è¿›è¡Œåˆ†å‰²å’Œå‘é‡åŒ–ï¼Œå­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ã€‚</li><li>åœ¨ Schema å­—æ®µä¸­è¾“å…¥å›¾çš„ <strong>Schema</strong>ã€‚</li><li>ç‚¹å‡»<strong>æå–å›¾æ•°æ® (1)</strong> æŒ‰é’®ï¼Œå°†æ–‡æœ¬æå–ä¸ºå›¾ã€‚</li><li>ç‚¹å‡»<strong>åŠ è½½åˆ°å›¾æ•°æ®åº“ (2)</strong> æŒ‰é’®ï¼Œå°†æå–çš„å›¾å­˜å‚¨åˆ°å›¾æ•°æ®åº“ï¼ˆè¿™ä¼šè‡ªåŠ¨è°ƒç”¨<strong>æ›´æ–°é¡¶ç‚¹åµŒå…¥</strong>ä»¥å°†å‘é‡å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ï¼‰ã€‚</li><li>ç‚¹å‡»<strong>æ›´æ–°é¡¶ç‚¹åµŒå…¥</strong>æŒ‰é’®ï¼Œå°†å›¾é¡¶ç‚¹å‘é‡åŒ–å¹¶å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ã€‚</li></ol><h1 id=3-å¤„ç†æµç¨‹graphrag-å’Œç”¨æˆ·åŠŸèƒ½>3. ï¼ˆå¤„ç†æµç¨‹ï¼‰(Graph)RAG å’Œç”¨æˆ·åŠŸèƒ½</h1><p>å‰ä¸€ä¸ªæ¨¡å—ä¸­çš„<strong>å¯¼å…¥åˆ°å‘é‡</strong>æŒ‰é’®å°†æ–‡æœ¬ï¼ˆåˆ†å—ï¼‰è½¬æ¢ä¸ºå‘é‡ï¼Œ<strong>æ›´æ–°é¡¶ç‚¹åµŒå…¥</strong>æŒ‰é’®å°†å›¾é¡¶ç‚¹è½¬æ¢ä¸ºå‘é‡ã€‚è¿™äº›å‘é‡åˆ†åˆ«å­˜å‚¨ï¼Œç”¨äºåœ¨æœ¬æ¨¡å—ä¸­è¡¥å……æŸ¥è¯¢ï¼ˆç­”æ¡ˆç”Ÿæˆï¼‰çš„ä¸Šä¸‹æ–‡ã€‚æ¢å¥è¯è¯´ï¼Œå‰ä¸€ä¸ªæ¨¡å—ä¸º RAG å‡†å¤‡æ•°æ®ï¼ˆå‘é‡åŒ–ï¼‰ï¼Œè€Œæœ¬æ¨¡å—æ‰§è¡Œ RAGã€‚</p><p>æœ¬æ¨¡å—åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><strong>HugeGraph RAG æŸ¥è¯¢</strong></li><li><strong>ï¼ˆæ‰¹é‡ï¼‰å›æµ‹</strong></li></ul><p>ç¬¬ä¸€éƒ¨åˆ†å¤„ç†å•ä¸ªæŸ¥è¯¢ï¼Œç¬¬äºŒéƒ¨åˆ†åŒæ—¶å¤„ç†å¤šä¸ªæŸ¥è¯¢ã€‚ä»¥ä¸‹æ˜¯ç¬¬ä¸€éƒ¨åˆ†çš„è¯´æ˜ã€‚</p><p><img src=https://github.com/user-attachments/assets/33698062-e46b-4757-8b5e-93e8f10eae65 alt=image></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph TD;
</span></span><span style=display:flex><span>    A[é—®é¢˜] --&gt; B[å°†é—®é¢˜å‘é‡åŒ–å¹¶åœ¨å‘é‡æ•°æ®åº“ä¸­æœç´¢æœ€ç›¸ä¼¼çš„åˆ†å—]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    A --&gt; F[ä½¿ç”¨ LLM æå–å…³é”®è¯]
</span></span><span style=display:flex><span>    F --&gt; G[åœ¨å›¾æ•°æ®åº“ä¸­ä½¿ç”¨å…³é”®è¯ç²¾ç¡®åŒ¹é…é¡¶ç‚¹ï¼›\nåœ¨å‘é‡æ•°æ®åº“ä¸­æ‰§è¡Œæ¨¡ç³ŠåŒ¹é…ï¼ˆå›¾é¡¶ç‚¹ï¼‰]
</span></span><span style=display:flex><span>    G --&gt; H[ä½¿ç”¨åŒ¹é…çš„é¡¶ç‚¹å’ŒæŸ¥è¯¢é€šè¿‡ LLM ç”Ÿæˆ Gremlin æŸ¥è¯¢]
</span></span><span style=display:flex><span>    H --&gt; I[æ‰§è¡Œ Gremlin æŸ¥è¯¢ï¼›å¦‚æœæˆåŠŸåˆ™å®Œæˆï¼›å¦‚æœå¤±è´¥åˆ™å›é€€åˆ° BFS]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    B --&gt; J[å¯¹ç»“æœæ’åº]
</span></span><span style=display:flex><span>    I --&gt; J
</span></span><span style=display:flex><span>    J --&gt; K[ç”Ÿæˆç­”æ¡ˆ]
</span></span></code></pre></div><h3 id=è¾“å…¥å­—æ®µ>è¾“å…¥å­—æ®µï¼š</h3><ul><li><strong>é—®é¢˜ï¼š</strong> è¾“å…¥æŸ¥è¯¢</li><li><strong>æŸ¥è¯¢æç¤ºè¯ï¼š</strong> ç”¨äºå‘ LLM æå‡ºæœ€ç»ˆé—®é¢˜çš„æç¤ºè¯æ¨¡æ¿</li><li><strong>å…³é”®è¯æå–æç¤ºè¯ï¼š</strong> ç”¨äºä»é—®é¢˜ä¸­æå–å…³é”®è¯çš„æç¤ºè¯æ¨¡æ¿</li><li><strong>æ¨¡æ¿æ•°é‡ï¼š</strong> &lt; 0 è¡¨ç¤ºç¦ç”¨ text2gqlï¼›= 0 è¡¨ç¤ºä¸ä½¿ç”¨æ¨¡æ¿ï¼ˆé›¶æ ·æœ¬ï¼‰ï¼›> 0 è¡¨ç¤ºä½¿ç”¨æŒ‡å®šæ•°é‡çš„æ¨¡æ¿</li></ul><h3 id=æŸ¥è¯¢èŒƒå›´é€‰æ‹©>æŸ¥è¯¢èŒƒå›´é€‰æ‹©ï¼š</h3><ul><li><strong>åŸºç¡€ LLM ç­”æ¡ˆï¼š</strong> ä¸ä½¿ç”¨ RAG åŠŸèƒ½</li><li><strong>ä»…å‘é‡ç­”æ¡ˆï¼š</strong> ä»…ä½¿ç”¨åŸºäºå‘é‡çš„æ£€ç´¢ï¼ˆåœ¨å‘é‡æ•°æ®åº“ä¸­æŸ¥è¯¢åˆ†å—å‘é‡ï¼‰</li><li><strong>ä»…å›¾ç­”æ¡ˆï¼š</strong> ä»…ä½¿ç”¨åŸºäºå›¾çš„æ£€ç´¢ï¼ˆåœ¨å‘é‡æ•°æ®åº“ä¸­æŸ¥è¯¢å›¾é¡¶ç‚¹å‘é‡å’Œå›¾æ•°æ®åº“ï¼‰</li><li><strong>å›¾-å‘é‡ç­”æ¡ˆï¼š</strong> åŒæ—¶ä½¿ç”¨åŸºäºå›¾å’ŒåŸºäºå‘é‡çš„æ£€ç´¢</li></ul><p><img src=https://github.com/user-attachments/assets/26641e09-249f-4b3a-8013-16dc9383d333 alt=image></p><h3 id=æ‰§è¡Œæµç¨‹-1>æ‰§è¡Œæµç¨‹ï¼š</h3><h4 id=ä»…å›¾ç­”æ¡ˆ><strong>ä»…å›¾ç­”æ¡ˆï¼š</strong></h4><ul><li>ä½¿ç”¨<strong>å…³é”®è¯æå–æç¤ºè¯</strong>ä»<strong>é—®é¢˜</strong>ä¸­æå–å…³é”®è¯ã€‚</li></ul><p><img src=https://github.com/user-attachments/assets/b49e269f-eaec-40b1-8d8f-9e409821d75d alt=image></p><ul><li><p>ä½¿ç”¨æå–çš„å…³é”®è¯ï¼š</p><ul><li>é¦–å…ˆï¼Œåœ¨å›¾æ•°æ®åº“ä¸­è¿›è¡Œç²¾ç¡®åŒ¹é…ã€‚</li><li>å¦‚æœæœªæ‰¾åˆ°åŒ¹é…ï¼Œåœ¨å‘é‡æ•°æ®åº“ï¼ˆå›¾é¡¶ç‚¹å‘é‡ï¼‰ä¸­è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ä»¥æ£€ç´¢ç›¸å…³é¡¶ç‚¹ã€‚</li></ul></li><li><p><strong>text2gqlï¼š</strong> è°ƒç”¨ text2gql ç›¸å…³æ¥å£ï¼Œä½¿ç”¨åŒ¹é…çš„é¡¶ç‚¹ä½œä¸ºå®ä½“ï¼Œå°†<strong>é—®é¢˜</strong>è½¬æ¢ä¸º Gremlin æŸ¥è¯¢å¹¶åœ¨å›¾æ•°æ®åº“ä¸­æ‰§è¡Œã€‚</p></li><li><p><strong>BFSï¼š</strong> å¦‚æœ text2gql å¤±è´¥ï¼ˆLLM ç”Ÿæˆçš„æŸ¥è¯¢å¯èƒ½æ— æ•ˆï¼‰ï¼Œå›é€€åˆ°ä½¿ç”¨é¢„å®šä¹‰çš„<strong>Gremlin æŸ¥è¯¢æ¨¡æ¿</strong>æ‰§è¡Œå›¾æŸ¥è¯¢ï¼ˆæœ¬è´¨ä¸Šæ˜¯ BFS éå†ï¼‰ã€‚</p></li></ul><h4 id=ä»…å‘é‡ç­”æ¡ˆ><strong>ä»…å‘é‡ç­”æ¡ˆï¼š</strong></h4><ul><li>å°†<strong>æŸ¥è¯¢</strong>è½¬æ¢ä¸ºå‘é‡ã€‚</li><li>åœ¨å‘é‡æ•°æ®åº“çš„<strong>åˆ†å—å‘é‡</strong>æ•°æ®é›†ä¸­æœç´¢æœ€ç›¸ä¼¼çš„å†…å®¹ã€‚</li></ul><h4 id=æ’åºå’Œç­”æ¡ˆç”Ÿæˆ><strong>æ’åºå’Œç­”æ¡ˆç”Ÿæˆï¼š</strong></h4><ul><li>æ‰§è¡Œæ£€ç´¢åï¼Œå¯¹æœç´¢ç»“æœè¿›è¡Œæ’åºä»¥æ„å»ºæœ€ç»ˆçš„<strong>æç¤ºè¯</strong>ã€‚</li><li>åŸºäºä¸åŒçš„æç¤ºè¯é…ç½®ç”Ÿæˆç­”æ¡ˆï¼Œå¹¶åœ¨ä¸åŒçš„è¾“å‡ºå­—æ®µä¸­æ˜¾ç¤ºï¼š<ul><li><strong>åŸºç¡€ LLM ç­”æ¡ˆ</strong></li><li><strong>ä»…å‘é‡ç­”æ¡ˆ</strong></li><li><strong>ä»…å›¾ç­”æ¡ˆ</strong></li><li><strong>å›¾-å‘é‡ç­”æ¡ˆ</strong></li></ul></li></ul><p><img src=https://github.com/user-attachments/assets/7d4496a3-d44c-4491-9463-8e93595dfa45 alt=image></p><h1 id=4-å¤„ç†æµç¨‹text2gremlin>4. ï¼ˆå¤„ç†æµç¨‹ï¼‰Text2Gremlin</h1><p>å°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸º Gremlin æŸ¥è¯¢ã€‚</p><p>æœ¬æ¨¡å—åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><strong>æ„å»ºå‘é‡æ¨¡æ¿ç´¢å¼•ï¼ˆå¯é€‰ï¼‰ï¼š</strong> å°†ç¤ºä¾‹æ–‡ä»¶ä¸­çš„æŸ¥è¯¢/gremlin å¯¹è¿›è¡Œå‘é‡åŒ–å¹¶å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ä¸­ï¼Œç”¨äºç”Ÿæˆ Gremlin æŸ¥è¯¢æ—¶å‚è€ƒã€‚</li><li><strong>è‡ªç„¶è¯­è¨€è½¬ Gremlinï¼š</strong> å°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸º Gremlin æŸ¥è¯¢ã€‚</li></ul><p>ç¬¬ä¸€éƒ¨åˆ†è¾ƒä¸ºç®€å•ï¼Œå› æ­¤é‡ç‚¹ä»‹ç»ç¬¬äºŒéƒ¨åˆ†ã€‚</p><p><img src=https://github.com/user-attachments/assets/fc678369-261d-49ea-a289-1ca6ade5ca55 alt=image></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph TD;
</span></span><span style=display:flex><span>    A[Gremlin å¯¹æ–‡ä»¶] --&gt; C[å‘é‡åŒ–æŸ¥è¯¢]
</span></span><span style=display:flex><span>    C --&gt; D[å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    F[è‡ªç„¶è¯­è¨€æŸ¥è¯¢] --&gt; G[åœ¨å‘é‡æ•°æ®åº“ä¸­æœç´¢æœ€ç›¸ä¼¼çš„æŸ¥è¯¢\nï¼ˆå¦‚æœå‘é‡æ•°æ®åº“ä¸­ä¸å­˜åœ¨ Gremlin å¯¹ï¼Œ\nå°†è‡ªåŠ¨ä½¿ç”¨é»˜è®¤æ–‡ä»¶è¿›è¡Œå‘é‡åŒ–ï¼‰\nå¹¶æ£€ç´¢å¯¹åº”çš„ Gremlin]
</span></span><span style=display:flex><span>    G --&gt; H[å°†åŒ¹é…çš„å¯¹æ·»åŠ åˆ°æç¤ºè¯ä¸­\nå¹¶ä½¿ç”¨ LLM ç”Ÿæˆä¸è‡ªç„¶è¯­è¨€æŸ¥è¯¢\nå¯¹åº”çš„ Gremlin]
</span></span></code></pre></div><h3 id=ç¬¬äºŒéƒ¨åˆ†çš„è¾“å…¥å­—æ®µ>ç¬¬äºŒéƒ¨åˆ†çš„è¾“å…¥å­—æ®µï¼š</h3><ul><li><strong>è‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼š</strong> è¾“å…¥è¦è½¬æ¢ä¸º Gremlin çš„è‡ªç„¶è¯­è¨€æ–‡æœ¬ã€‚</li></ul><p><img src=https://github.com/user-attachments/assets/d2a72f45-488c-4499-968b-a11816655ba0 alt=image></p><ul><li><strong>Schemaï¼š</strong> è¾“å…¥å›¾ schemaã€‚</li></ul><h3 id=æ‰§è¡Œæµç¨‹-2>æ‰§è¡Œæµç¨‹ï¼š</h3><ol><li>åœ¨<strong>è‡ªç„¶è¯­è¨€æŸ¥è¯¢</strong>å­—æ®µä¸­è¾“å…¥<strong>æŸ¥è¯¢</strong>ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰ã€‚</li><li>åœ¨<strong>Schema</strong>å­—æ®µä¸­è¾“å…¥<strong>å›¾ schema</strong>ã€‚</li><li>ç‚¹å‡»<strong>Text2Gremlin</strong>æŒ‰é’®ï¼Œæ‰§è¡Œä»¥ä¸‹é€»è¾‘ï¼š<ol><li>å°†<strong>æŸ¥è¯¢</strong>è½¬æ¢ä¸ºå‘é‡ã€‚</li><li>æ„å»º<strong>æç¤ºè¯</strong>ï¼š<ul><li>æ£€ç´¢<strong>å›¾ schema</strong>ã€‚</li><li>åœ¨å‘é‡æ•°æ®åº“ä¸­æŸ¥è¯¢ç¤ºä¾‹å‘é‡ï¼Œæ£€ç´¢ä¸è¾“å…¥æŸ¥è¯¢ç›¸ä¼¼çš„æŸ¥è¯¢-gremlin å¯¹ï¼ˆå¦‚æœå‘é‡æ•°æ®åº“ä¸­ç¼ºå°‘ç¤ºä¾‹ï¼Œå°†è‡ªåŠ¨ä½¿ç”¨<strong>resources</strong>æ–‡ä»¶å¤¹ä¸­çš„ç¤ºä¾‹è¿›è¡Œåˆå§‹åŒ–ï¼‰ã€‚</li></ul></li></ol></li></ol><p><img src=https://github.com/user-attachments/assets/fd150f87-27f8-48e5-8a55-319ec039b7e0 alt=image></p><pre><code>  - ä½¿ç”¨æ„å»ºçš„æç¤ºè¯ç”Ÿæˆ Gremlin æŸ¥è¯¢ã€‚
</code></pre><h1 id=5-å›¾å·¥å…·>5. å›¾å·¥å…·</h1><p>è¾“å…¥ Gremlin æŸ¥è¯¢ä»¥æ‰§è¡Œç›¸åº”æ“ä½œã€‚</p><h1 id=6-è¯­è¨€åˆ‡æ¢-v150>6. è¯­è¨€åˆ‡æ¢ (v1.5.0+)</h1><p>HugeGraph-LLM æ”¯æŒåŒè¯­æç¤ºè¯ï¼Œä»¥æé«˜è·¨è¯­è¨€çš„å‡†ç¡®æ€§ã€‚</p><h3 id=åœ¨è‹±æ–‡å’Œä¸­æ–‡ä¹‹é—´åˆ‡æ¢>åœ¨è‹±æ–‡å’Œä¸­æ–‡ä¹‹é—´åˆ‡æ¢</h3><p>ç³»ç»Ÿè¯­è¨€å½±å“ï¼š</p><ul><li><strong>ç³»ç»Ÿæç¤ºè¯</strong>ï¼šLLM ä½¿ç”¨çš„å†…éƒ¨æç¤ºè¯</li><li><strong>å…³é”®è¯æå–</strong>ï¼šç‰¹å®šè¯­è¨€çš„æå–é€»è¾‘</li><li><strong>ç­”æ¡ˆç”Ÿæˆ</strong>ï¼šå“åº”æ ¼å¼å’Œé£æ ¼</li></ul><h4 id=é…ç½®æ–¹æ³•ä¸€ç¯å¢ƒå˜é‡>é…ç½®æ–¹æ³•ä¸€ï¼šç¯å¢ƒå˜é‡</h4><p>ç¼–è¾‘æ‚¨çš„ <code>.env</code> æ–‡ä»¶ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è‹±æ–‡æç¤ºè¯ï¼ˆé»˜è®¤ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä¸­æ–‡æç¤ºè¯</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>CN
</span></span></code></pre></div><p>æ›´æ”¹è¯­è¨€è®¾ç½®åé‡å¯æœåŠ¡ã€‚</p><h4 id=é…ç½®æ–¹æ³•äºŒweb-uiåŠ¨æ€>é…ç½®æ–¹æ³•äºŒï¼šWeb UIï¼ˆåŠ¨æ€ï¼‰</h4><p>å¦‚æœæ‚¨çš„éƒ¨ç½²ä¸­å¯ç”¨ï¼Œä½¿ç”¨ Web UI ä¸­çš„è®¾ç½®é¢æ¿åˆ‡æ¢è¯­è¨€ï¼Œæ— éœ€é‡å¯ï¼š</p><ol><li>å¯¼èˆªåˆ°<strong>è®¾ç½®</strong>æˆ–<strong>é…ç½®</strong>é€‰é¡¹å¡</li><li>é€‰æ‹©<strong>è¯­è¨€</strong>ï¼š<code>EN</code> æˆ– <code>CN</code></li><li>ç‚¹å‡»<strong>ä¿å­˜</strong> - æ›´æ”¹ç«‹å³ç”Ÿæ•ˆ</li></ol><h4 id=ç‰¹å®šè¯­è¨€çš„è¡Œä¸º>ç‰¹å®šè¯­è¨€çš„è¡Œä¸º</h4><table><thead><tr><th>è¯­è¨€</th><th>å…³é”®è¯æå–</th><th>ç­”æ¡ˆé£æ ¼</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>EN</code></td><td>è‹±æ–‡ NLP æ¨¡å‹</td><td>ä¸“ä¸šã€ç®€æ´</td><td>å›½é™…ç”¨æˆ·ã€è‹±æ–‡æ–‡æ¡£</td></tr><tr><td><code>CN</code></td><td>ä¸­æ–‡ NLP æ¨¡å‹</td><td>è‡ªç„¶çš„ä¸­æ–‡è¡¨è¾¾</td><td>ä¸­æ–‡ç”¨æˆ·ã€ä¸­æ–‡æ–‡æ¡£</td></tr></tbody></table><blockquote><p>[!TIP]
å°† <code>LANGUAGE</code> è®¾ç½®ä¸æ‚¨çš„ä¸»è¦æ–‡æ¡£è¯­è¨€åŒ¹é…ï¼Œä»¥è·å¾—æœ€ä½³ RAG å‡†ç¡®æ€§ã€‚</p></blockquote><h3 id=rest-api-è¯­è¨€è¦†ç›–>REST API è¯­è¨€è¦†ç›–</h3><p>ä½¿ç”¨ REST API æ—¶ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯ä¸ªè¯·æ±‚æŒ‡å®šè‡ªå®šä¹‰æç¤ºè¯ï¼Œä»¥è¦†ç›–é»˜è®¤è¯­è¨€è®¾ç½®ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8001/rag <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;query&#34;: &#34;å‘Šè¯‰æˆ‘å…³äºé˜¿å°”Â·å¸•è¥¿è¯ºçš„ä¿¡æ¯&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;graph_only&#34;: true,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;keywords_extract_prompt&#34;: &#34;è¯·ä»ä»¥ä¸‹æ–‡æœ¬ä¸­æå–å…³é”®å®ä½“...&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;answer_prompt&#34;: &#34;è¯·æ ¹æ®ä»¥ä¸‹ä¸Šä¸‹æ–‡å›ç­”é—®é¢˜...&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }&#39;</span>
</span></span></code></pre></div><p>å®Œæ•´å‚æ•°è¯¦æƒ…è¯·å‚é˜… <a href=./rest-api.md>REST API å‚è€ƒ</a>ã€‚</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6cc3291f0d6d469d81467164d710a8f2>4 - é…ç½®å‚è€ƒ</h1><p>æœ¬æ–‡æ¡£æä¾› HugeGraph-LLM æ‰€æœ‰é…ç½®é€‰é¡¹çš„å®Œæ•´å‚è€ƒã€‚</p><h2 id=é…ç½®æ–‡ä»¶>é…ç½®æ–‡ä»¶</h2><ul><li><strong>ç¯å¢ƒæ–‡ä»¶</strong>ï¼š<code>.env</code>ï¼ˆä»æ¨¡æ¿åˆ›å»ºæˆ–è‡ªåŠ¨ç”Ÿæˆ)</li><li><strong>æç¤ºè¯é…ç½®</strong>ï¼š<code>src/hugegraph_llm/resources/demo/config_prompt.yaml</code></li></ul><blockquote><p>[!TIP]
è¿è¡Œ <code>python -m hugegraph_llm.config.generate --update</code> å¯è‡ªåŠ¨ç”Ÿæˆæˆ–æ›´æ–°å¸¦æœ‰é»˜è®¤å€¼çš„é…ç½®æ–‡ä»¶ã€‚</p></blockquote><h2 id=ç¯å¢ƒå˜é‡æ¦‚è§ˆ>ç¯å¢ƒå˜é‡æ¦‚è§ˆ</h2><h3 id=1-è¯­è¨€å’Œæ¨¡å‹ç±»å‹é€‰æ‹©>1. è¯­è¨€å’Œæ¨¡å‹ç±»å‹é€‰æ‹©</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æç¤ºè¯è¯­è¨€ï¼ˆå½±å“ç³»ç»Ÿæç¤ºè¯å’Œç”Ÿæˆæ–‡æœ¬ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN                     <span style=color:#8f5902;font-style:italic># é€‰é¡¹: EN | CN</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä¸åŒä»»åŠ¡çš„ LLM ç±»å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>CHAT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai           <span style=color:#8f5902;font-style:italic># å¯¹è¯/RAG: openai | litellm | ollama/local</span>
</span></span><span style=display:flex><span><span style=color:#000>EXTRACT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai        <span style=color:#8f5902;font-style:italic># å®ä½“æŠ½å–: openai | litellm | ollama/local</span>
</span></span><span style=display:flex><span><span style=color:#000>TEXT2GQL_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai       <span style=color:#8f5902;font-style:italic># æ–‡æœ¬è½¬ Gremlin: openai | litellm | ollama/local</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åµŒå…¥æ¨¡å‹ç±»å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>EMBEDDING_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai          <span style=color:#8f5902;font-style:italic># é€‰é¡¹: openai | litellm | ollama/local</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Reranker ç±»å‹ï¼ˆå¯é€‰ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>                 <span style=color:#8f5902;font-style:italic># é€‰é¡¹: cohere | siliconflow | (ç•™ç©ºè¡¨ç¤ºæ— )</span>
</span></span></code></pre></div><h3 id=2-openai-é…ç½®>2. OpenAI é…ç½®</h3><p>æ¯ä¸ª LLM ä»»åŠ¡ï¼ˆchatã€extractã€text2gqlï¼‰éƒ½æœ‰ç‹¬ç«‹é…ç½®ï¼š</p><h4 id=21-chat-llmrag-ç­”æ¡ˆç”Ÿæˆ>2.1 Chat LLMï¼ˆRAG ç­”æ¡ˆç”Ÿæˆï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OPENAI_CHAT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_CHAT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_CHAT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8192</span>        <span style=color:#8f5902;font-style:italic># å¯¹è¯å“åº”çš„æœ€å¤§ tokens</span>
</span></span></code></pre></div><h4 id=22-extract-llmå®ä½“å’Œå…³ç³»æŠ½å–>2.2 Extract LLMï¼ˆå®ä½“å’Œå…³ç³»æŠ½å–ï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OPENAI_EXTRACT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EXTRACT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EXTRACT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1024</span>     <span style=color:#8f5902;font-style:italic># æŠ½å–ä»»åŠ¡çš„æœ€å¤§ tokens</span>
</span></span></code></pre></div><h4 id=23-text2gql-llmè‡ªç„¶è¯­è¨€è½¬-gremlin>2.3 Text2GQL LLMï¼ˆè‡ªç„¶è¯­è¨€è½¬ Gremlinï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OPENAI_TEXT2GQL_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_TEXT2GQL_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_TEXT2GQL_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>    <span style=color:#8f5902;font-style:italic># æŸ¥è¯¢ç”Ÿæˆçš„æœ€å¤§ tokens</span>
</span></span></code></pre></div><h4 id=24-åµŒå…¥æ¨¡å‹>2.4 åµŒå…¥æ¨¡å‹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OPENAI_EMBEDDING_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EMBEDDING_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>text-embedding-3-small
</span></span></code></pre></div><blockquote><p>[!NOTE]
æ‚¨å¯ä»¥ä¸ºæ¯ä¸ªä»»åŠ¡ä½¿ç”¨ä¸åŒçš„ API å¯†é’¥/ç«¯ç‚¹ï¼Œä»¥ä¼˜åŒ–æˆæœ¬æˆ–ä½¿ç”¨ä¸“ç”¨æ¨¡å‹ã€‚</p></blockquote><h3 id=3-litellm-é…ç½®å¤šä¾›åº”å•†æ”¯æŒ>3. LiteLLM é…ç½®ï¼ˆå¤šä¾›åº”å•†æ”¯æŒï¼‰</h3><p>LiteLLM æ”¯æŒç»Ÿä¸€è®¿é—® 100 å¤šä¸ª LLM ä¾›åº”å•†ï¼ˆOpenAIã€Anthropicã€Googleã€Azure ç­‰ï¼‰ã€‚</p><h4 id=31-chat-llm>3.1 Chat LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000       <span style=color:#8f5902;font-style:italic># LiteLLM ä»£ç† URL</span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-key              <span style=color:#8f5902;font-style:italic># LiteLLM API å¯†é’¥</span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>anthropic/claude-3-5-sonnet-20241022
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8192</span>
</span></span></code></pre></div><h4 id=32-extract-llm>3.2 Extract LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>256</span>
</span></span></code></pre></div><h4 id=33-text2gql-llm>3.3 Text2GQL LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>
</span></span></code></pre></div><h4 id=34-åµŒå…¥æ¨¡å‹>3.4 åµŒå…¥æ¨¡å‹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/text-embedding-3-small
</span></span></code></pre></div><p><strong>æ¨¡å‹æ ¼å¼</strong>: <code>ä¾›åº”å•†/æ¨¡å‹åç§°</code></p><p>ç¤ºä¾‹ï¼š</p><ul><li><code>openai/gpt-4o-mini</code></li><li><code>anthropic/claude-3-5-sonnet-20241022</code></li><li><code>google/gemini-2.0-flash-exp</code></li><li><code>azure/gpt-4</code></li></ul><p>å®Œæ•´åˆ—è¡¨è¯·å‚é˜… <a href=https://docs.litellm.ai/docs/providers>LiteLLM Providers</a>ã€‚</p><h3 id=4-ollama-é…ç½®æœ¬åœ°éƒ¨ç½²>4. Ollama é…ç½®ï¼ˆæœ¬åœ°éƒ¨ç½²ï¼‰</h3><p>ä½¿ç”¨ Ollama è¿è¡Œæœ¬åœ° LLMï¼Œç¡®ä¿éšç§å’Œæˆæœ¬æ§åˆ¶ã€‚</p><h4 id=41-chat-llm>4.1 Chat LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>llama3.1:8b
</span></span></code></pre></div><h4 id=42-extract-llm>4.2 Extract LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>llama3.1:8b
</span></span></code></pre></div><h4 id=43-text2gql-llm>4.3 Text2GQL LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>qwen2.5-coder:7b
</span></span></code></pre></div><h4 id=44-åµŒå…¥æ¨¡å‹>4.4 åµŒå…¥æ¨¡å‹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>nomic-embed-text
</span></span></code></pre></div><blockquote><p>[!TIP]
ä¸‹è½½æ¨¡å‹ï¼š<code>ollama pull llama3.1:8b</code> æˆ– <code>ollama pull qwen2.5-coder:7b</code></p></blockquote><h3 id=5-reranker-é…ç½®>5. Reranker é…ç½®</h3><p>Reranker é€šè¿‡æ ¹æ®ç›¸å…³æ€§é‡æ–°æ’åºæ£€ç´¢ç»“æœæ¥æé«˜ RAG å‡†ç¡®æ€§ã€‚</p><h4 id=51-cohere-reranker>5.1 Cohere Reranker</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>cohere
</span></span><span style=display:flex><span><span style=color:#000>COHERE_BASE_URL</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.cohere.com/v1/rerank
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>your-cohere-api-key
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>rerank-english-v3.0
</span></span></code></pre></div><p>å¯ç”¨æ¨¡å‹ï¼š</p><ul><li><code>rerank-english-v3.0</code>ï¼ˆè‹±æ–‡ï¼‰</li><li><code>rerank-multilingual-v3.0</code>ï¼ˆ100+ ç§è¯­è¨€ï¼‰</li></ul><h4 id=52-siliconflow-reranker>5.2 SiliconFlow Reranker</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>siliconflow
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>your-siliconflow-api-key
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>BAAI/bge-reranker-v2-m3
</span></span></code></pre></div><h3 id=6-hugegraph-è¿æ¥>6. HugeGraph è¿æ¥</h3><p>é…ç½®ä¸ HugeGraph æœåŠ¡å™¨å®ä¾‹çš„è¿æ¥ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æœåŠ¡å™¨è¿æ¥</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_IP</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8080</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_NAME</span><span style=color:#ce5c00;font-weight:700>=</span>hugegraph            <span style=color:#8f5902;font-style:italic># å›¾å®ä¾‹åç§°</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_USER</span><span style=color:#ce5c00;font-weight:700>=</span>admin                <span style=color:#8f5902;font-style:italic># ç”¨æˆ·å</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PWD</span><span style=color:#ce5c00;font-weight:700>=</span>admin-password        <span style=color:#8f5902;font-style:italic># å¯†ç </span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_SPACE</span><span style=color:#ce5c00;font-weight:700>=</span>                    <span style=color:#8f5902;font-style:italic># å›¾ç©ºé—´ï¼ˆå¯é€‰ï¼Œç”¨äºå¤šç§Ÿæˆ·ï¼‰</span>
</span></span></code></pre></div><h3 id=7-æŸ¥è¯¢å‚æ•°>7. æŸ¥è¯¢å‚æ•°</h3><p>æ§åˆ¶å›¾éå†è¡Œä¸ºå’Œç»“æœé™åˆ¶ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å›¾éå†é™åˆ¶</span>
</span></span><span style=display:flex><span><span style=color:#000>MAX_GRAPH_PATH</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>10</span>               <span style=color:#8f5902;font-style:italic># å›¾æŸ¥è¯¢çš„æœ€å¤§è·¯å¾„æ·±åº¦</span>
</span></span><span style=display:flex><span><span style=color:#000>MAX_GRAPH_ITEMS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span>              <span style=color:#8f5902;font-style:italic># ä»å›¾ä¸­æ£€ç´¢çš„æœ€å¤§é¡¹æ•°</span>
</span></span><span style=display:flex><span><span style=color:#000>EDGE_LIMIT_PRE_LABEL</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8</span>          <span style=color:#8f5902;font-style:italic># æ¯ä¸ªæ ‡ç­¾ç±»å‹çš„æœ€å¤§è¾¹æ•°</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å±æ€§è¿‡æ»¤</span>
</span></span><span style=display:flex><span><span style=color:#000>LIMIT_PROPERTY</span><span style=color:#ce5c00;font-weight:700>=</span>False            <span style=color:#8f5902;font-style:italic># é™åˆ¶ç»“æœä¸­çš„å±æ€§ï¼ˆTrue/Falseï¼‰</span>
</span></span></code></pre></div><h3 id=8-å‘é‡æœç´¢é…ç½®>8. å‘é‡æœç´¢é…ç½®</h3><p>é…ç½®å‘é‡ç›¸ä¼¼æ€§æœç´¢å‚æ•°ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å‘é‡æœç´¢é˜ˆå€¼</span>
</span></span><span style=display:flex><span><span style=color:#000>VECTOR_DIS_THRESHOLD</span><span style=color:#ce5c00;font-weight:700>=</span>0.9        <span style=color:#8f5902;font-style:italic># æœ€å°ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆ0-1ï¼Œè¶Šé«˜è¶Šä¸¥æ ¼ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>TOPK_PER_KEYWORD</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1</span>              <span style=color:#8f5902;font-style:italic># æ¯ä¸ªæå–å…³é”®è¯çš„ Top-K ç»“æœ</span>
</span></span></code></pre></div><h3 id=9-rerank-é…ç½®>9. Rerank é…ç½®</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Rerank ç»“æœé™åˆ¶</span>
</span></span><span style=display:flex><span><span style=color:#000>TOPK_RETURN_RESULTS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>20</span>          <span style=color:#8f5902;font-style:italic># é‡æ’åºåçš„ top ç»“æœæ•°</span>
</span></span></code></pre></div><h2 id=é…ç½®ä¼˜å…ˆçº§>é…ç½®ä¼˜å…ˆçº§</h2><p>ç³»ç»ŸæŒ‰ä»¥ä¸‹é¡ºåºåŠ è½½é…ç½®ï¼ˆåé¢çš„æ¥æºè¦†ç›–å‰é¢çš„ï¼‰ï¼š</p><ol><li><strong>é»˜è®¤å€¼</strong>ï¼ˆåœ¨ <code>*_config.py</code> æ–‡ä»¶ä¸­ï¼‰</li><li><strong>ç¯å¢ƒå˜é‡</strong>ï¼ˆæ¥è‡ª <code>.env</code> æ–‡ä»¶ï¼‰</li><li><strong>è¿è¡Œæ—¶æ›´æ–°</strong>ï¼ˆé€šè¿‡ Web UI æˆ– API è°ƒç”¨ï¼‰</li></ol><h2 id=é…ç½®ç¤ºä¾‹>é…ç½®ç¤ºä¾‹</h2><h3 id=æœ€å°é…ç½®openai>æœ€å°é…ç½®ï¼ˆOpenAIï¼‰</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è¯­è¨€</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># LLM ç±»å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>CHAT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai
</span></span><span style=display:flex><span><span style=color:#000>EXTRACT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai
</span></span><span style=display:flex><span><span style=color:#000>TEXT2GQL_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai
</span></span><span style=display:flex><span><span style=color:#000>EMBEDDING_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># OpenAI å‡­æ®ï¼ˆæ‰€æœ‰ä»»åŠ¡å…±ç”¨ä¸€ä¸ªå¯†é’¥ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>text-embedding-3-small
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># HugeGraph è¿æ¥</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_IP</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8080</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_NAME</span><span style=color:#ce5c00;font-weight:700>=</span>hugegraph
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_USER</span><span style=color:#ce5c00;font-weight:700>=</span>admin
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PWD</span><span style=color:#ce5c00;font-weight:700>=</span>admin
</span></span></code></pre></div><h3 id=ç”Ÿäº§ç¯å¢ƒé…ç½®litellm--reranker>ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆLiteLLM + Rerankerï¼‰</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åŒè¯­æ”¯æŒ</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># çµæ´»ä½¿ç”¨ LiteLLM</span>
</span></span><span style=display:flex><span><span style=color:#000>CHAT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>EXTRACT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>TEXT2GQL_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>EMBEDDING_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># LiteLLM ä»£ç†</span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-master-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>anthropic/claude-3-5-sonnet-20241022
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8192</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-master-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>256</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-master-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-master-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/text-embedding-3-small
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Cohere Reranker æé«˜å‡†ç¡®æ€§</span>
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>cohere
</span></span><span style=display:flex><span><span style=color:#000>COHERE_BASE_URL</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.cohere.com/v1/rerank
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>your-cohere-key
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>rerank-multilingual-v3.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å¸¦è®¤è¯çš„ HugeGraph</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_IP</span><span style=color:#ce5c00;font-weight:700>=</span>prod-hugegraph.example.com
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8080</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_NAME</span><span style=color:#ce5c00;font-weight:700>=</span>production_graph
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_USER</span><span style=color:#ce5c00;font-weight:700>=</span>rag_user
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PWD</span><span style=color:#ce5c00;font-weight:700>=</span>secure-password
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_SPACE</span><span style=color:#ce5c00;font-weight:700>=</span>prod_space
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä¼˜åŒ–çš„æŸ¥è¯¢å‚æ•°</span>
</span></span><span style=display:flex><span><span style=color:#000>MAX_GRAPH_PATH</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>15</span>
</span></span><span style=display:flex><span><span style=color:#000>MAX_GRAPH_ITEMS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>50</span>
</span></span><span style=display:flex><span><span style=color:#000>VECTOR_DIS_THRESHOLD</span><span style=color:#ce5c00;font-weight:700>=</span>0.85
</span></span><span style=display:flex><span><span style=color:#000>TOPK_RETURN_RESULTS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span>
</span></span></code></pre></div><h3 id=æœ¬åœ°ç¦»çº¿é…ç½®ollama>æœ¬åœ°/ç¦»çº¿é…ç½®ï¼ˆOllamaï¼‰</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è¯­è¨€</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å…¨éƒ¨é€šè¿‡ Ollama ä½¿ç”¨æœ¬åœ°æ¨¡å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>CHAT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>ollama/local
</span></span><span style=display:flex><span><span style=color:#000>EXTRACT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>ollama/local
</span></span><span style=display:flex><span><span style=color:#000>TEXT2GQL_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>ollama/local
</span></span><span style=display:flex><span><span style=color:#000>EMBEDDING_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>ollama/local
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Ollama ç«¯ç‚¹</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>llama3.1:8b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>llama3.1:8b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>qwen2.5-coder:7b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>nomic-embed-text
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç¦»çº¿ç¯å¢ƒä¸ä½¿ç”¨ reranker</span>
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æœ¬åœ° HugeGraph</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_IP</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8080</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_NAME</span><span style=color:#ce5c00;font-weight:700>=</span>hugegraph
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_USER</span><span style=color:#ce5c00;font-weight:700>=</span>admin
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PWD</span><span style=color:#ce5c00;font-weight:700>=</span>admin
</span></span></code></pre></div><h2 id=é…ç½®éªŒè¯>é…ç½®éªŒè¯</h2><p>ä¿®æ”¹ <code>.env</code> åï¼ŒéªŒè¯é…ç½®ï¼š</p><ol><li><strong>é€šè¿‡ Web UI</strong>ï¼šè®¿é—® <code>http://localhost:8001</code> å¹¶æ£€æŸ¥è®¾ç½®é¢æ¿</li><li><strong>é€šè¿‡ Python</strong>ï¼š</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.config</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>settings</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>llm_config</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>hugegraph_config</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><ol start=3><li><strong>é€šè¿‡ REST API</strong>ï¼š</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:8001/config
</span></span></code></pre></div><h2 id=æ•…éšœæ’é™¤>æ•…éšœæ’é™¤</h2><table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>&ldquo;API key not found&rdquo;</td><td>æ£€æŸ¥ <code>.env</code> ä¸­çš„ <code>*_API_KEY</code> æ˜¯å¦æ­£ç¡®è®¾ç½®</td></tr><tr><td>&ldquo;Connection refused&rdquo;</td><td>éªŒè¯ <code>GRAPH_IP</code> å’Œ <code>GRAPH_PORT</code> æ˜¯å¦æ­£ç¡®</td></tr><tr><td>&ldquo;Model not found&rdquo;</td><td>å¯¹äº Ollamaï¼šè¿è¡Œ <code>ollama pull &lt;æ¨¡å‹åç§°></code></td></tr><tr><td>&ldquo;Rate limit exceeded&rdquo;</td><td>å‡å°‘ <code>MAX_GRAPH_ITEMS</code> æˆ–ä½¿ç”¨ä¸åŒçš„ API å¯†é’¥</td></tr><tr><td>&ldquo;Embedding dimension mismatch&rdquo;</td><td>åˆ é™¤ç°æœ‰å‘é‡å¹¶ä½¿ç”¨æ­£ç¡®æ¨¡å‹é‡å»º</td></tr></tbody></table><h2 id=å¦è§>å¦è§</h2><ul><li><a href=./hugegraph-llm.md>HugeGraph-LLM æ¦‚è¿°</a></li><li><a href=./rest-api.md>REST API å‚è€ƒ</a></li><li><a href=./quick_start.md>å¿«é€Ÿå…¥é—¨æŒ‡å—</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-705186bd8a71dc04683f1f744e9d36b4>5 - REST API å‚è€ƒ</h1><p>HugeGraph-LLM æä¾› REST API ç«¯ç‚¹ï¼Œç”¨äºå°† RAG å’Œ Text2Gremlin åŠŸèƒ½é›†æˆåˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ã€‚</p><h2 id=åŸºç¡€-url>åŸºç¡€ URL</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>http://localhost:8001
</span></span></code></pre></div><p>å¯åŠ¨æœåŠ¡æ—¶æ›´æ”¹ä¸»æœº/ç«¯å£ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python -m hugegraph_llm.demo.rag_demo.app --host 127.0.0.1 --port <span style=color:#0000cf;font-weight:700>8001</span>
</span></span></code></pre></div><h2 id=è®¤è¯>è®¤è¯</h2><p>ç›®å‰ API æ”¯æŒå¯é€‰çš„åŸºäºä»¤ç‰Œçš„è®¤è¯ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åœ¨ .env ä¸­å¯ç”¨è®¤è¯</span>
</span></span><span style=display:flex><span><span style=color:#000>ENABLE_LOGIN</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span>
</span></span><span style=display:flex><span><span style=color:#000>USER_TOKEN</span><span style=color:#ce5c00;font-weight:700>=</span>your-user-token
</span></span><span style=display:flex><span><span style=color:#000>ADMIN_TOKEN</span><span style=color:#ce5c00;font-weight:700>=</span>your-admin-token
</span></span></code></pre></div><p>åœ¨è¯·æ±‚å¤´ä¸­ä¼ é€’ä»¤ç‰Œï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Authorization: Bearer &lt;token&gt;
</span></span></code></pre></div><hr><h2 id=rag-ç«¯ç‚¹>RAG ç«¯ç‚¹</h2><h3 id=1-å®Œæ•´-rag-æŸ¥è¯¢>1. å®Œæ•´ RAG æŸ¥è¯¢</h3><p><strong>POST</strong> <code>/rag</code></p><p>æ‰§è¡Œå®Œæ•´çš„ RAG å·¥ä½œæµï¼ŒåŒ…æ‹¬å…³é”®è¯æå–ã€å›¾æ£€ç´¢ã€å‘é‡æœç´¢ã€é‡æ’åºå’Œç­”æ¡ˆç”Ÿæˆã€‚</p><h4 id=è¯·æ±‚ä½“>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®²é˜¿å°”Â·å¸•è¥¿è¯ºçš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;raw_answer&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;vector_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_vector_answer&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_ratio&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;rerank_method&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cohere&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;near_neighbor_first&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_tmpl_num&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;max_graph_items&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;topk_return_results&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>20</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;vector_dis_threshold&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.9</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;topk_per_keyword&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;custom_priority_info&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;answer_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;keywords_extract_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;client_config&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;gs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p><table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>å¿…éœ€</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>query</code></td><td>string</td><td>æ˜¯</td><td>-</td><td>ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€é—®é¢˜</td></tr><tr><td><code>raw_answer</code></td><td>boolean</td><td>å¦</td><td>false</td><td>è¿”å› LLM ç­”æ¡ˆè€Œä¸æ£€ç´¢</td></tr><tr><td><code>vector_only</code></td><td>boolean</td><td>å¦</td><td>false</td><td>ä»…ä½¿ç”¨å‘é‡æœç´¢ï¼ˆæ— å›¾ï¼‰</td></tr><tr><td><code>graph_only</code></td><td>boolean</td><td>å¦</td><td>false</td><td>ä»…ä½¿ç”¨å›¾æ£€ç´¢ï¼ˆæ— å‘é‡ï¼‰</td></tr><tr><td><code>graph_vector_answer</code></td><td>boolean</td><td>å¦</td><td>false</td><td>ç»“åˆå›¾å’Œå‘é‡ç»“æœ</td></tr><tr><td><code>graph_ratio</code></td><td>float</td><td>å¦</td><td>0.5</td><td>å›¾ä¸å‘é‡ç»“æœçš„æ¯”ä¾‹ï¼ˆ0-1ï¼‰</td></tr><tr><td><code>rerank_method</code></td><td>string</td><td>å¦</td><td>""</td><td>é‡æ’åºå™¨ï¼š&ldquo;cohere&rdquo;ã€&ldquo;siliconflow&rdquo;ã€""</td></tr><tr><td><code>near_neighbor_first</code></td><td>boolean</td><td>å¦</td><td>false</td><td>ä¼˜å…ˆé€‰æ‹©ç›´æ¥é‚»å±…</td></tr><tr><td><code>gremlin_tmpl_num</code></td><td>integer</td><td>å¦</td><td>5</td><td>å°è¯•çš„ Gremlin æ¨¡æ¿æ•°é‡</td></tr><tr><td><code>max_graph_items</code></td><td>integer</td><td>å¦</td><td>30</td><td>å›¾æ£€ç´¢çš„æœ€å¤§é¡¹æ•°</td></tr><tr><td><code>topk_return_results</code></td><td>integer</td><td>å¦</td><td>20</td><td>é‡æ’åºåçš„ Top-K</td></tr><tr><td><code>vector_dis_threshold</code></td><td>float</td><td>å¦</td><td>0.9</td><td>å‘é‡ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆ0-1ï¼‰</td></tr><tr><td><code>topk_per_keyword</code></td><td>integer</td><td>å¦</td><td>1</td><td>æ¯ä¸ªå…³é”®è¯çš„ Top-K å‘é‡</td></tr><tr><td><code>custom_priority_info</code></td><td>string</td><td>å¦</td><td>""</td><td>è¦ä¼˜å…ˆè€ƒè™‘çš„è‡ªå®šä¹‰ä¸Šä¸‹æ–‡</td></tr><tr><td><code>answer_prompt</code></td><td>string</td><td>å¦</td><td>""</td><td>è‡ªå®šä¹‰ç­”æ¡ˆç”Ÿæˆæç¤ºè¯</td></tr><tr><td><code>keywords_extract_prompt</code></td><td>string</td><td>å¦</td><td>""</td><td>è‡ªå®šä¹‰å…³é”®è¯æå–æç¤ºè¯</td></tr><tr><td><code>gremlin_prompt</code></td><td>string</td><td>å¦</td><td>""</td><td>è‡ªå®šä¹‰ Gremlin ç”Ÿæˆæç¤ºè¯</td></tr><tr><td><code>client_config</code></td><td>object</td><td>å¦</td><td>null</td><td>è¦†ç›–å›¾è¿æ¥è®¾ç½®</td></tr></tbody></table><h4 id=å“åº”>å“åº”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®²é˜¿å°”Â·å¸•è¥¿è¯ºçš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;answer&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯ºä¸»æ¼”äº†ã€Šæ•™çˆ¶ã€‹ï¼ˆ1972 å¹´ï¼‰ï¼Œç”±å¼—æœ—è¥¿æ–¯Â·ç¦ç‰¹Â·ç§‘æ³¢æ‹‰æ‰§å¯¼...&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;context&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;ã€Šæ•™çˆ¶ã€‹æ˜¯ 1972 å¹´çš„çŠ¯ç½ªç”µå½±...&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;...&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph_paths&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;...&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;keywords&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ç”µå½±&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=ç¤ºä¾‹curl>ç¤ºä¾‹ï¼ˆcurlï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8001/rag <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;query&#34;: &#34;ç»™æˆ‘è®²è®²é˜¿å°”Â·å¸•è¥¿è¯º&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;graph_only&#34;: true,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;max_graph_items&#34;: 30
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }&#39;</span>
</span></span></code></pre></div><h3 id=2-ä»…å›¾æ£€ç´¢>2. ä»…å›¾æ£€ç´¢</h3><p><strong>POST</strong> <code>/rag/graph</code></p><p>æ£€ç´¢å›¾ä¸Šä¸‹æ–‡è€Œä¸ç”Ÿæˆç­”æ¡ˆã€‚ç”¨äºè°ƒè¯•æˆ–è‡ªå®šä¹‰å¤„ç†ã€‚</p><h4 id=è¯·æ±‚ä½“-1>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯ºçš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;max_graph_items&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;topk_return_results&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>20</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;vector_dis_threshold&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.9</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;topk_per_keyword&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_tmpl_num&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;rerank_method&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cohere&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;near_neighbor_first&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;custom_priority_info&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;get_vertex_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;client_config&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;gs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>é¢å¤–å‚æ•°ï¼š</strong></p><table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>get_vertex_only</code></td><td>boolean</td><td>false</td><td>ä»…è¿”å›é¡¶ç‚¹ IDï¼Œä¸è¿”å›å®Œæ•´è¯¦æƒ…</td></tr></tbody></table><h4 id=å“åº”-1>å“åº”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_recall&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯ºçš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;keywords&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ç”µå½±&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;match_vids&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;1:é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2:æ•™çˆ¶&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph_result_flag&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;gremlin&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;g.V(&#39;1:é˜¿å°”Â·å¸•è¥¿è¯º&#39;).outE().inV().limit(30)&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph_result&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1:é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;properties&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>}},</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2:æ•™çˆ¶&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;movie&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;properties&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;æ•™çˆ¶&#34;</span><span style=color:#000;font-weight:700>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;vertex_degree_list&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>12</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=ç¤ºä¾‹curl-1>ç¤ºä¾‹ï¼ˆcurlï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8001/rag/graph <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;query&#34;: &#34;é˜¿å°”Â·å¸•è¥¿è¯º&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;max_graph_items&#34;: 30,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;get_vertex_only&#34;: false
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }&#39;</span>
</span></span></code></pre></div><hr><h2 id=text2gremlin-ç«¯ç‚¹>Text2Gremlin ç«¯ç‚¹</h2><h3 id=3-è‡ªç„¶è¯­è¨€è½¬-gremlin>3. è‡ªç„¶è¯­è¨€è½¬ Gremlin</h3><p><strong>POST</strong> <code>/text2gremlin</code></p><p>å°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ Gremlin å‘½ä»¤ã€‚</p><h4 id=è¯·æ±‚ä½“-2>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;æŸ¥æ‰¾æ‰€æœ‰ç”±å¼—æœ—è¥¿æ–¯Â·ç¦ç‰¹Â·ç§‘æ³¢æ‹‰æ‰§å¯¼çš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;example_num&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;output_types&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;GREMLIN&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;RESULT&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;client_config&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;gs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p><table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>å¿…éœ€</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>query</code></td><td>string</td><td>æ˜¯</td><td>-</td><td>è‡ªç„¶è¯­è¨€æŸ¥è¯¢</td></tr><tr><td><code>example_num</code></td><td>integer</td><td>å¦</td><td>5</td><td>ä½¿ç”¨çš„ç¤ºä¾‹æ¨¡æ¿æ•°é‡</td></tr><tr><td><code>gremlin_prompt</code></td><td>string</td><td>å¦</td><td>""</td><td>Gremlin ç”Ÿæˆçš„è‡ªå®šä¹‰æç¤ºè¯</td></tr><tr><td><code>output_types</code></td><td>array</td><td>å¦</td><td>null</td><td>è¾“å‡ºç±»å‹ï¼š[&ldquo;GREMLIN&rdquo;, &ldquo;RESULT&rdquo;, &ldquo;CYPHER&rdquo;]</td></tr><tr><td><code>client_config</code></td><td>object</td><td>å¦</td><td>null</td><td>å›¾è¿æ¥è¦†ç›–</td></tr></tbody></table><p><strong>è¾“å‡ºç±»å‹ï¼š</strong></p><ul><li><code>GREMLIN</code>ï¼šç”Ÿæˆçš„ Gremlin æŸ¥è¯¢</li><li><code>RESULT</code>ï¼šå›¾çš„æ‰§è¡Œç»“æœ</li><li><code>CYPHER</code>ï¼šCypher æŸ¥è¯¢ï¼ˆå¦‚æœè¯·æ±‚ï¼‰</li></ul><h4 id=å“åº”-2>å“åº”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;g.V().has(&#39;person&#39;,&#39;name&#39;,&#39;å¼—æœ—è¥¿æ–¯Â·ç¦ç‰¹Â·ç§‘æ³¢æ‹‰&#39;).out(&#39;directed&#39;).hasLabel(&#39;movie&#39;).values(&#39;title&#39;)&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;result&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;æ•™çˆ¶&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;æ•™çˆ¶ 2&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;ç°ä»£å¯ç¤ºå½•&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=ç¤ºä¾‹curl-2>ç¤ºä¾‹ï¼ˆcurlï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8001/text2gremlin <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;query&#34;: &#34;æŸ¥æ‰¾æ‰€æœ‰ç”±å¼—æœ—è¥¿æ–¯Â·ç¦ç‰¹Â·ç§‘æ³¢æ‹‰æ‰§å¯¼çš„ç”µå½±&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;output_types&#34;: [&#34;GREMLIN&#34;, &#34;RESULT&#34;]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }&#39;</span>
</span></span></code></pre></div><hr><h2 id=é…ç½®ç«¯ç‚¹>é…ç½®ç«¯ç‚¹</h2><h3 id=4-æ›´æ–°å›¾è¿æ¥>4. æ›´æ–°å›¾è¿æ¥</h3><p><strong>POST</strong> <code>/config/graph</code></p><p>åŠ¨æ€æ›´æ–° HugeGraph è¿æ¥è®¾ç½®ã€‚</p><h4 id=è¯·æ±‚ä½“-3>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=å“åº”-3>å“åº”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;status_code&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>201</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;message&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;å›¾é…ç½®æ›´æ–°æˆåŠŸ&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=5-æ›´æ–°-llm-é…ç½®>5. æ›´æ–° LLM é…ç½®</h3><p><strong>POST</strong> <code>/config/llm</code></p><p>è¿è¡Œæ—¶æ›´æ–°èŠå¤©/æå– LLM è®¾ç½®ã€‚</p><h4 id=è¯·æ±‚ä½“openai>è¯·æ±‚ä½“ï¼ˆOpenAIï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;llm_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;openai&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_key&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;sk-your-api-key&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_base&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;https://api.openai.com/v1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;language_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;gpt-4o-mini&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;max_tokens&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>4096</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=è¯·æ±‚ä½“ollama>è¯·æ±‚ä½“ï¼ˆOllamaï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;llm_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ollama/local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;host&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;port&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>11434</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;language_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;llama3.1:8b&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=6-æ›´æ–°åµŒå…¥é…ç½®>6. æ›´æ–°åµŒå…¥é…ç½®</h3><p><strong>POST</strong> <code>/config/embedding</code></p><p>æ›´æ–°åµŒå…¥æ¨¡å‹è®¾ç½®ã€‚</p><h4 id=è¯·æ±‚ä½“-4>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;llm_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;openai&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_key&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;sk-your-api-key&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_base&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;https://api.openai.com/v1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;language_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;text-embedding-3-small&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=7-æ›´æ–°-reranker-é…ç½®>7. æ›´æ–° Reranker é…ç½®</h3><p><strong>POST</strong> <code>/config/rerank</code></p><p>é…ç½®é‡æ’åºå™¨è®¾ç½®ã€‚</p><h4 id=è¯·æ±‚ä½“cohere>è¯·æ±‚ä½“ï¼ˆCohereï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;reranker_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cohere&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_key&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;your-cohere-key&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;reranker_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;rerank-multilingual-v3.0&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;cohere_base_url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;https://api.cohere.com/v1/rerank&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=è¯·æ±‚ä½“siliconflow>è¯·æ±‚ä½“ï¼ˆSiliconFlowï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;reranker_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;siliconflow&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_key&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;your-siliconflow-key&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;reranker_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;BAAI/bge-reranker-v2-m3&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><hr><h2 id=é”™è¯¯å“åº”>é”™è¯¯å“åº”</h2><p>æ‰€æœ‰ç«¯ç‚¹è¿”å›æ ‡å‡† HTTP çŠ¶æ€ç ï¼š</p><table><thead><tr><th>ä»£ç </th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>200</td><td>æˆåŠŸ</td></tr><tr><td>201</td><td>å·²åˆ›å»ºï¼ˆé…ç½®å·²æ›´æ–°ï¼‰</td></tr><tr><td>400</td><td>é”™è¯¯è¯·æ±‚ï¼ˆæ— æ•ˆå‚æ•°ï¼‰</td></tr><tr><td>500</td><td>å†…éƒ¨æœåŠ¡å™¨é”™è¯¯</td></tr><tr><td>501</td><td>æœªå®ç°</td></tr></tbody></table><p>é”™è¯¯å“åº”æ ¼å¼ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;detail&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;æè¿°é”™è¯¯çš„æ¶ˆæ¯&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><hr><h2 id=python-å®¢æˆ·ç«¯ç¤ºä¾‹>Python å®¢æˆ·ç«¯ç¤ºä¾‹</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>requests</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>BASE_URL</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;http://localhost:8001&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. é…ç½®å›¾è¿æ¥</span>
</span></span><span style=display:flex><span><span style=color:#000>graph_config</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000>requests</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>f</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>{</span><span style=color:#000>BASE_URL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/config/graph&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>json</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph_config</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. æ‰§è¡Œ RAG æŸ¥è¯¢</span>
</span></span><span style=display:flex><span><span style=color:#000>rag_request</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®²é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;graph_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>True</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;max_graph_items&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>30</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>requests</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>f</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>{</span><span style=color:#000>BASE_URL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/rag&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>json</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>rag_request</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>json</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. ä»è‡ªç„¶è¯­è¨€ç”Ÿæˆ Gremlin</span>
</span></span><span style=display:flex><span><span style=color:#000>text2gql_request</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;æŸ¥æ‰¾æ‰€æœ‰ä¸é˜¿å°”Â·å¸•è¥¿è¯ºåˆä½œçš„å¯¼æ¼”&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;output_types&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;GREMLIN&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;RESULT&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>requests</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>f</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>{</span><span style=color:#000>BASE_URL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/text2gremlin&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>json</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>text2gql_request</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>json</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><hr><h2 id=å¦è§>å¦è§</h2><ul><li><a href=./config-reference.md>é…ç½®å‚è€ƒ</a> - å®Œæ•´çš„ .env é…ç½®æŒ‡å—</li><li><a href=./hugegraph-llm.md>HugeGraph-LLM æ¦‚è¿°</a> - æ¶æ„å’ŒåŠŸèƒ½</li><li><a href=./quick_start.md>å¿«é€Ÿå…¥é—¨æŒ‡å—</a> - Web UI å…¥é—¨</li></ul></div></main></div></div><footer class="bg-dark py-3 row d-print-none"><div class=footer-container><div class="row bg-dark"><div class=col-1></div><div class="col-4 text-center container-center"><div class=footer-row><a href=https://www.apache.org/><div class=footer-apache-logo><svg id="Layer_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 7127.6 2890" enable-background="new 0 0 7127.6 2890"><path fill="#6d6e71" d="M7104.7 847.8c15.3 15.3 22.9 33.7 22.9 55.2s-7.6 39.9-22.9 55.4c-15.3 15.4-33.8 23.1-55.6 23.1s-40.2-7.6-55.4-22.9c-15.1-15.3-22.7-33.7-22.7-55.2s7.6-39.9 22.9-55.4c15.3-15.4 33.7-23.1 55.4-23.1C7070.9 824.9 7089.4 832.5 7104.7 847.8zM7098.1 951.9c13.3-13.6 20-29.8 20-48.7s-6.6-35-19.8-48.5c-13.2-13.4-29.4-20.1-48.6-20.1-19.2.0-35.4 6.7-48.7 20.2s-19.9 29.7-19.9 48.7 6.6 35.2 19.7 48.6c13.1 13.4 29.3 20.1 48.5 20.1S7084.7 965.4 7098.1 951.9zm-11-63.8c0 14-6.1 22.8-18.4 26.4l22.5 30.5H7073l-20.3-28.3h-18.6V945h-14.7v-84.6h31.8c12.8.0 22 2.2 27.6 6.6C7084.4 871.4 7087.1 878.4 7087.1 888.1zM7068.2 9e2c3-2.4 4.4-6.5 4.4-12s-1.5-9.4-4.5-11.6-8.4-3.2-16-3.2h-18v30.5h17.5C7059.7 903.6 7065.3 902.4 7068.2 9e2z"/><path fill="#6d6e71" d="M1803.6 499.8v155.4h-20V499.8h-56.8v-19.2h133.9v19.2H1803.6z"/><path fill="#6d6e71" d="M2082.2 655.2v-76.9H1977v76.9h-20V480.5h20v78.9h105.2v-78.9h20v174.7h-20z"/><path fill="#6d6e71" d="M2241.4 499.8v57.4h88.1v19.2h-88.1v59.8h101.8v19h-121.8V480.5H2340v19.2H2241.4z"/><path fill="#d22128" d="M1574.5 1852.4l417.3-997.6h80.1l417.3 997.6h-105.4l-129.3-311.9h-448.2l-127.9 311.9H1574.5zM2032.6 970l-205.1 493.2h404.7L2032.6 970z"/><path fill="#d22128" d="M2596.9 1852.4V854.8H3010c171.4.0 295.1 158.8 295.1 313.3.0 163-115.2 316.1-286.6 316.1h-324.6v368.1h-97zm97-455.3h318.9c118 0 193.9-108.2 193.9-229 0-125.1-92.7-226.2-202.3-226.2h-310.5v455.2z"/><path fill="#d22128" d="M3250.5 1852.4l417.3-997.6h80.1l417.3 997.6h-105.4l-129.3-311.9h-448.2l-127.9 311.9H3250.5zM3708.6 970l-205.1 493.2h404.7L3708.6 970z"/><path fill="#d22128" d="M4637.3 849.1c177 0 306.3 89.9 368.1 217.8l-78.7 47.8c-63.2-132.1-186.9-177-295.1-177-238.9.0-369.5 213.6-369.5 414.5.0 220.6 161.6 420.1 373.7 420.1 112.4.0 244.5-56.2 307.7-185.5l81.5 42.1c-64.6 148.9-241.7 231.8-394.8 231.8-274 0-466.5-261.3-466.5-514.2C4163.8 1106.3 4336.6 849.1 4637.3 849.1z"/><path fill="#d22128" d="M5949.1 854.8v997.6h-98.4v-466.5h-591.5v466.5h-96.9V854.8h96.9v444h591.5v-444H5949.1z"/><path fill="#d22128" d="M6844.6 1765.2v87.1h-670.2V854.8H6832v87.1h-560.6v359.7h489v82.9h-489v380.8H6844.6z"/><path fill="#6d6e71" d="M1667.6 2063.6c11.8 3.5 22.2 8.3 31 14.2l-10.3 22.6c-9-6-18.6-10.4-28.9-13.4-10.2-2.9-20-4.4-29.2-4.4-13.6.0-24.5 2.4-32.6 7.3s-12.2 11.8-12.2 20.7c0 7.6 2.3 14 6.8 19s10.2 8.9 17 11.7c6.8 2.8 16.1 6 28 9.6 14.4 4.6 26 8.9 34.7 12.9 8.8 4 16.3 9.9 22.5 17.8 6.2 7.8 9.3 18.2 9.3 31 0 11.7-3.2 21.8-9.5 30.6-6.3 8.7-15.3 15.5-26.8 20.3-11.6 4.8-24.9 7.2-40 7.2s-29.7-2.9-43.9-8.7c-14.2-5.8-26.4-13.6-36.6-23.4l10.7-21.6c9.6 9.4 20.7 16.7 33.3 21.9 12.6 5.2 24.8 7.8 36.8 7.8 15.3.0 27.3-3 36.1-8.9s13.2-13.9 13.2-23.9c0-7.8-2.3-14.3-6.9-19.4-4.6-5.1-10.3-9-17.1-11.9-6.8-2.8-16.1-6-28-9.6-14.2-4.2-25.7-8.3-34.6-12.2-8.9-3.9-16.4-9.7-22.5-17.5-6.1-7.7-9.2-17.9-9.2-30.6.0-10.9 3-20.4 9-28.6s14.6-14.6 25.6-19.1c11.1-4.5 23.8-6.8 38.2-6.8C1643.8 2058.3 1655.7 2060.1 1667.6 2063.6z"/><path fill="#6d6e71" d="M1980.1 2072.8c16.8 9.4 30.2 22.3 40 38.4 9.8 16.2 14.8 33.9 14.8 53.3.0 19.5-4.9 37.4-14.8 53.6-9.8 16.3-23.2 29.1-40 38.6s-35.3 14.3-55.2 14.3c-20.3.0-38.8-4.7-55.7-14.3-16.8-9.5-30.2-22.4-40-38.6-9.8-16.3-14.8-34.1-14.8-53.6s4.9-37.3 14.8-53.5c9.8-16.2 23.2-29 40-38.3 16.8-9.4 35.4-14 55.7-14C1944.8 2058.6 1963.2 2063.3 1980.1 2072.8zM1881.9 2092.7c-13.1 7.4-23.6 17.5-31.4 30.1-7.8 12.6-11.8 26.5-11.8 41.7.0 15.3 3.9 29.3 11.8 42 7.8 12.7 18.3 22.8 31.4 30.2 13.1 7.4 27.4 11.1 42.9 11.1s29.7-3.7 42.7-11.1 23.3-17.4 31.1-30.2c7.7-12.7 11.6-26.7 11.6-42s-3.9-29.2-11.6-41.8c-7.7-12.6-18.1-22.6-31.1-30s-27.2-11.2-42.6-11.2C1909.4 2081.5 1895.1 2085.2 1881.9 2092.7z"/><path fill="#6d6e71" d="M2186.5 2082.4v74h98.4v23.2h-98.4v90.2h-24.1v-210.6h133.8v23.2H2186.5z"/><path fill="#6d6e71" d="M2491.6 2082.4v187.4h-24.1v-187.4h-68.4v-23.2h161.4v23.2H2491.6z"/><path fill="#6d6e71" d="M2871.8 2269.8l-56.8-177.4-57.6 177.4h-24.5l-70.5-210.6h25.9l57.9 182.7 57.1-182.4 24.1-.3 57.7 182.7 57.1-182.7h25l-70.6 210.6H2871.8z"/><path fill="#6d6e71" d="M3087.3 2216.6l-23.5 53.2h-25.6l94.4-210.6h25l94.1 210.6h-26.1l-23.5-53.2H3087.3zM3144.5 2086.6l-46.9 106.8h94.4l-47.5-106.8z"/><path fill="#6d6e71" d="M3461.1 2202.7c-6 .4-10.7.6-14.1.6h-56v66.5h-24v-210.6h80c26.2.0 46.6 6.2 61.2 18.5 14.5 12.3 21.8 29.8 21.8 52.3.0 17.2-4.1 31.7-12.2 43.3-8.1 11.6-19.8 20-35 25l49.2 71.5h-27.3L3461.1 2202.7zM3491.3 2167.6c10.3-8.4 15.5-20.8 15.5-37 0-15.9-5.2-27.9-15.5-36s-25.1-12.2-44.3-12.2h-56v97.8h56C3466.2 2180.2 3481 2176 3491.3 2167.6z"/><path fill="#6d6e71" d="M3688.3 2082.4v69.2h106.2v23.2h-106.2v72.1h122.8v22.9h-146.9v-210.6h142.9v23.2H3688.3z"/><path fill="#6d6e71" d="M4147 2082.4v74h98.4v23.2H4147v90.2h-24.1v-210.6h133.8v23.2H4147z"/><path fill="#6d6e71" d="M4523.3 2072.8c16.8 9.4 30.2 22.3 40 38.4 9.8 16.2 14.8 33.9 14.8 53.3.0 19.5-4.9 37.4-14.8 53.6-9.8 16.3-23.2 29.1-40 38.6s-35.3 14.3-55.2 14.3c-20.3.0-38.8-4.7-55.7-14.3-16.8-9.5-30.2-22.4-40-38.6-9.8-16.3-14.8-34.1-14.8-53.6s4.9-37.3 14.8-53.5c9.8-16.2 23.2-29 40-38.3 16.8-9.4 35.4-14 55.7-14C4488.1 2058.6 4506.5 2063.3 4523.3 2072.8zM4425.2 2092.7c-13.1 7.4-23.6 17.5-31.4 30.1-7.8 12.6-11.8 26.5-11.8 41.7.0 15.3 3.9 29.3 11.8 42 7.8 12.7 18.3 22.8 31.4 30.2 13.1 7.4 27.4 11.1 42.9 11.1s29.7-3.7 42.7-11.1 23.3-17.4 31.1-30.2c7.7-12.7 11.6-26.7 11.6-42s-3.9-29.2-11.6-41.8c-7.7-12.6-18.1-22.6-31.1-30s-27.2-11.2-42.6-11.2C4452.6 2081.5 4438.3 2085.2 4425.2 2092.7z"/><path fill="#6d6e71" d="M4854.7 2247.7c-15.7 15.5-37.3 23.3-64.8 23.3-27.7.0-49.4-7.8-65.1-23.3-15.7-15.5-23.6-37-23.6-64.6v-124h24.1v124c0 20.3 5.8 36.1 17.3 47.5 11.6 11.4 27.3 17.1 47.3 17.1 20.1.0 35.8-5.7 47.1-17 11.4-11.3 17-27.2 17-47.7v-124h24.1v124C4878.2 2210.7 4870.4 2232.2 4854.7 2247.7z"/><path fill="#6d6e71" d="M5169.5 2269.8l-126.3-169.1v169.1h-24.1v-210.6h25l126.3 169.3v-169.3h23.8v210.6H5169.5z"/><path fill="#6d6e71" d="M5478.4 2073.1c16.4 9.3 29.4 21.9 38.9 37.9 9.6 16 14.3 33.9 14.3 53.5s-4.8 37.6-14.3 53.6c-9.5 16.1-22.6 28.7-39.3 37.9-16.6 9.2-35.2 13.8-55.5 13.8h-84.3v-210.6h85.2C5443.7 2059.2 5462 2063.8 5478.4 2073.1zM5362.3 2246.9h61.4c15.5.0 29.6-3.5 42.3-10.6s22.8-16.9 30.2-29.5c7.4-12.5 11.1-26.5 11.1-42s-3.8-29.4-11.3-41.9-17.7-22.3-30.6-29.6c-12.8-7.2-27-10.9-42.6-10.9h-60.5v164.5z"/><path fill="#6d6e71" d="M5668.6 2216.6l-23.5 53.2h-25.6l94.4-210.6h25l94.1 210.6h-26l-23.5-53.2H5668.6zM5725.8 2086.6l-46.9 106.8h94.4l-47.5-106.8z"/><path fill="#6d6e71" d="M5991 2082.4v187.4h-24v-187.4h-68.4v-23.2H6060v23.2h-69z"/><path fill="#6d6e71" d="M6175.9 2269.8v-210.6h24.1v210.6H6175.9z"/><path fill="#6d6e71" d="M6493.7 2072.8c16.8 9.4 30.2 22.3 40 38.4 9.8 16.2 14.8 33.9 14.8 53.3.0 19.5-4.9 37.4-14.8 53.6-9.8 16.3-23.2 29.1-40 38.6s-35.3 14.3-55.2 14.3c-20.3.0-38.8-4.7-55.7-14.3-16.8-9.5-30.2-22.4-40-38.6-9.8-16.3-14.8-34.1-14.8-53.6s4.9-37.3 14.8-53.5c9.8-16.2 23.2-29 40-38.3 16.8-9.4 35.4-14 55.7-14C6458.5 2058.6 6476.9 2063.3 6493.7 2072.8zM6395.6 2092.7c-13.1 7.4-23.6 17.5-31.4 30.1-7.8 12.6-11.8 26.5-11.8 41.7.0 15.3 3.9 29.3 11.8 42 7.8 12.7 18.3 22.8 31.4 30.2 13.1 7.4 27.4 11.1 42.9 11.1s29.7-3.7 42.7-11.1 23.3-17.4 31.1-30.2c7.7-12.7 11.6-26.7 11.6-42s-3.9-29.2-11.6-41.8c-7.7-12.6-18.1-22.6-31.1-30s-27.2-11.2-42.6-11.2C6423 2081.5 6408.8 2085.2 6395.6 2092.7z"/><path fill="#6d6e71" d="M6826.5 2269.8l-126.3-169.1v169.1h-24.1v-210.6h25l126.3 169.3v-169.3h23.8v210.6H6826.5z"/><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="-4516.6152" y1="-2338.7222" x2="-4108.4111" y2="-1861.3982" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset="0" style="stop-color:#F69923"/><stop offset=".3123" style="stop-color:#F79A23"/><stop offset=".8383" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_1_)" d="M1230.1 13.7c-45.3 26.8-120.6 102.5-210.5 212.3l82.6 155.9c58-82.9 116.9-157.5 176.3-221.2 4.6-5.1 7-7.5 7-7.5-2.3 2.5-4.6 5-7 7.5-19.2 21.2-77.5 89.2-165.5 224.4 84.7-4.2 214.9-21.6 321.1-39.7 31.6-177-31-258-31-258S1323.4-41.4 1230.1 13.7z"/><path fill="none" d="M1090.2 903.1c.6-.1 1.2-.2 1.8-.3l-11.9 1.3c-.7.3-1.4.7-2.1 1C1082.1 904.4 1086.2 903.7 1090.2 903.1z"/><path fill="none" d="M1005.9 1182.3c-6.7 1.5-13.7 2.7-20.7 3.7C992.3 1185 999.2 1183.8 1005.9 1182.3z"/><path fill="none" d="M432.9 1808.8c.9-2.3 1.8-4.7 2.6-7 18.2-48 36.2-94.7 54-140.1 20-51 39.8-100.4 59.3-148.3 20.6-50.4 40.9-99.2 60.9-146.3 21-49.4 41.7-97 62-142.8 16.5-37.3 32.8-73.4 48.9-108.3 5.4-11.7 10.7-23.2 16-34.6 10.5-22.7 21-44.8 31.3-66.5 9.5-20 19-39.6 28.3-58.8 3.1-6.4 6.2-12.8 9.3-19.1.5-1 1-2 1.5-3.1l-10.2 1.1-8-15.9c-.8 1.6-1.6 3.1-2.4 4.6-14.5 28.8-28.9 57.9-43.1 87.2-8.2 16.9-16.4 34-24.6 51-22.6 47.4-44.8 95.2-66.6 143.3-22.1 48.6-43.7 97.5-64.9 146.5-20.8 48.1-41.3 96.2-61.2 144.2-20 48-39.5 95.7-58.5 143.2-19.9 49.5-39.2 98.7-58 147.2-4.2 10.9-8.5 21.9-12.7 32.8-15 39.2-29.7 77.8-44 116l12.7 25.1 11.4-1.2c.4-1.1.8-2.3 1.3-3.4C396.7 1905.4 414.9 1856.4 432.9 1808.8z"/><path fill="none" d="M980 1186.8c.1.0.1.0.1-.1C980.1 1186.8 980.1 1186.8 980 1186.8z"/><path fill="#be202e" d="M952.6 1323c-10.6 1.9-21.4 3.8-32.5 5.7-.1.0-.1.1-.2.1 5.6-.8 11.2-1.7 16.6-2.6C942 1325.2 947.3 1324.1 952.6 1323z"/><path opacity=".35" fill="#be202e" d="M952.6 1323c-10.6 1.9-21.4 3.8-32.5 5.7-.1.0-.1.1-.2.1 5.6-.8 11.2-1.7 16.6-2.6C942 1325.2 947.3 1324.1 952.6 1323z"/><path fill="#be202e" d="M980.3 1186.7C980.2 1186.7 980.2 1186.7 980.3 1186.7c-.1.1-.2.1-.2.1 1.8-.2 3.5-.5 5.2-.8 7-1 13.9-2.2 20.7-3.7C997.5 1183.8 989 1185.2 980.3 1186.7z"/><path opacity=".35" fill="#be202e" d="M980.3 1186.7C980.2 1186.7 980.2 1186.7 980.3 1186.7c-.1.1-.2.1-.2.1 1.8-.2 3.5-.5 5.2-.8 7-1 13.9-2.2 20.7-3.7C997.5 1183.8 989 1185.2 980.3 1186.7z"/><linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="-7537.7339" y1="-2391.4075" x2="-4625.4141" y2="-2391.4075" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_2_)" d="M858.6 784.7c25.1-46.9 50.5-92.8 76.2-137.4 26.7-46.4 53.7-91.3 80.9-134.7 1.6-2.6 3.2-5.2 4.8-7.7 27-42.7 54.2-83.7 81.6-122.9L1019.5 226c-6.2 7.6-12.5 15.3-18.8 23.2-23.8 29.7-48.6 61.6-73.9 95.5-28.6 38.2-58 78.9-87.8 121.7-27.6 39.5-55.5 80.9-83.5 123.7-23.8 36.5-47.7 74-71.4 112.5-.9 1.4-1.8 2.9-2.6 4.3L789 919.2c22.8-45.6 46.1-90.5 69.6-134.5z"/><linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="-7186.1777" y1="-2099.3059" x2="-5450.7183" y2="-2099.3059" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset="0" style="stop-color:#282662"/><stop offset=".0954839" style="stop-color:#662E8D"/><stop offset=".7882" style="stop-color:#9F2064"/><stop offset=".9487" style="stop-color:#CD2032"/></linearGradient><path fill="url(#SVGID_3_)" d="M369 1981c-14.2 39.1-28.5 78.9-42.9 119.6-.2.6-.4 1.2-.6 1.8-2 5.7-4.1 11.5-6.1 17.2-9.7 27.4-18 52.1-37.3 108.2 31.7 14.5 57.1 52.5 81.1 95.6-2.6-44.7-21-86.6-56.2-119.1 156.1 7 290.6-32.4 360.1-146.6 6.2-10.2 11.9-20.9 17-32.2-31.6 40.1-70.8 57.1-144.5 53-.2.1-.3.1-.5.2.2-.1.3-.1.5-.2 108.6-48.6 163.1-95.3 211.2-172.6 11.4-18.3 22.5-38.4 33.8-60.6-94.9 97.5-205 125.3-320.9 104.2l-86.9 9.5C374.4 1966.3 371.7 1973.6 369 1981z"/><linearGradient id="SVGID_4_" gradientUnits="userSpaceOnUse" x1="-7374.1626" y1="-2418.5454" x2="-4461.8428" y2="-2418.5454" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_4_)" d="M409.6 1786.3c18.8-48.5 38.1-97.7 58-147.2 19-47.4 38.5-95.2 58.5-143.2s40.4-96.1 61.2-144.2c21.2-49 42.9-97.8 64.9-146.5 21.8-48.1 44-95.9 66.6-143.3 8.1-17.1 16.3-34.1 24.6-51 14.2-29.3 28.6-58.4 43.1-87.2.8-1.6 1.6-3.1 2.4-4.6L681.4 706.8c-1.8 2.9-3.5 5.8-5.3 8.6-25.1 40.9-50 82.7-74.4 125.4-24.7 43.1-49 87.1-72.7 131.7-20 37.6-39.6 75.6-58.6 113.9-3.8 7.8-7.6 15.5-11.3 23.2-23.4 48.2-44.6 94.8-63.7 139.5-21.7 50.7-40.7 99.2-57.5 145.1-11 30.2-21 59.4-30.1 87.4-7.5 24-14.7 47.9-21.5 71.8-16 56.3-29.9 112.4-41.2 168.3L353 1935.1c14.3-38.1 28.9-76.8 44-116C401.1 1808.2 405.4 1797.3 409.6 1786.3z"/><linearGradient id="SVGID_5_" gradientUnits="userSpaceOnUse" x1="-7161.7642" y1="-2379.1431" x2="-5631.2524" y2="-2379.1431" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset="0" style="stop-color:#282662"/><stop offset=".0954839" style="stop-color:#662E8D"/><stop offset=".7882" style="stop-color:#9F2064"/><stop offset=".9487" style="stop-color:#CD2032"/></linearGradient><path fill="url(#SVGID_5_)" d="M243.5 1729.4c-13.6 68.2-23.2 136.2-28 203.8-.2 2.4-.4 4.7-.5 7.1-33.7-54-124-106.8-123.8-106.2 64.6 93.7 113.7 186.7 120.9 278-34.6 7.1-82-3.2-136.8-23.3 57.1 52.5 1e2 67 116.7 70.9-52.5 3.3-107.1 39.3-162.1 80.8 80.5-32.8 145.5-45.8 192.1-35.3C148.1 2414.2 74.1 2645 0 2890c22.7-6.7 36.2-21.9 43.9-42.6 13.2-44.4 100.8-335.6 238-718.2 3.9-10.9 7.8-21.8 11.8-32.9 1.1-3 2.2-6.1 3.3-9.2 14.5-40.1 29.5-81.1 45.1-122.9 3.5-9.5 7.1-19 10.7-28.6.1-.2.1-.4.2-.6l-107.9-213.2C244.6 1724.4 244 1726.9 243.5 1729.4z"/><linearGradient id="SVGID_6_" gradientUnits="userSpaceOnUse" x1="-7374.1626" y1="-2117.1309" x2="-4461.8428" y2="-2117.1309" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_6_)" d="M805.6 937c-3.1 6.3-6.2 12.7-9.3 19.1-9.3 19.2-18.8 38.8-28.3 58.8-10.3 21.7-20.7 43.9-31.3 66.5-5.3 11.4-10.6 22.9-16 34.6-16.1 35-32.4 71.1-48.9 108.3-20.3 45.8-41 93.4-62 142.8-20 47.1-40.3 95.9-60.9 146.3-19.5 47.9-39.3 97.3-59.3 148.3-17.8 45.4-35.9 92.1-54 140.1-.9 2.3-1.8 4.7-2.6 7-18 47.6-36.2 96.6-54.6 146.8-.4 1.1-.8 2.3-1.3 3.4l86.9-9.5c-1.7-.3-3.5-.5-5.2-.9 103.9-13 242.1-90.6 331.4-186.5 41.1-44.2 78.5-96.3 113-157.3 25.7-45.4 49.8-95.8 72.8-151.5 20.1-48.7 39.4-101.4 58-158.6-23.9 12.6-51.2 21.8-81.4 28.2-5.3 1.1-10.7 2.2-16.1 3.1-5.5 1-11 1.8-16.6 2.6.1.0.1-.1.2-.1 96.9-37.3 158-109.2 202.4-197.4-25.5 17.4-66.9 40.1-116.6 51.1-6.7 1.5-13.7 2.7-20.7 3.7-1.7.3-3.5.6-5.2.8.1.0.1.0.1-.1h.1c33.6-14.1 62-29.8 86.6-48.4 5.3-4 10.4-8.1 15.3-12.3 7.5-6.5 14.7-13.3 21.5-20.5 4.4-4.6 8.6-9.3 12.7-14.2 9.6-11.5 18.7-23.9 27.1-37.3 2.6-4.1 5.1-8.3 7.6-12.6 3.2-6.2 6.3-12.3 9.3-18.3 13.5-27.2 24.4-51.5 33-72.8 4.3-10.6 8.1-20.5 11.3-29.7 1.3-3.7 2.5-7.2 3.7-10.6 3.4-10.2 6.2-19.3 8.4-27.3 3.3-12 5.3-21.5 6.4-28.4-3.3 2.6-7.1 5.2-11.3 7.7-29.3 17.5-79.5 33.4-119.9 40.8l79.8-8.8-79.8 8.8c-.6.1-1.2.2-1.8.3-4 .7-8.1 1.3-12.2 2 .7-.3 1.4-.7 2.1-1l-273 29.9C806.6 935 806.1 936 805.6 937z"/><linearGradient id="SVGID_7_" gradientUnits="userSpaceOnUse" x1="-7554.8232" y1="-2132.0981" x2="-4642.5034" y2="-2132.0981" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_7_)" d="M1112.9 385.1c-24.3 37.3-50.8 79.6-79.4 127.5-1.5 2.5-3 5.1-4.5 7.6-24.6 41.5-50.8 87.1-78.3 137-23.8 43.1-48.5 89.3-74.3 139C854 839.5 830.8 885.4 807 934l273-29.9c79.5-36.6 115.1-69.7 149.6-117.6 9.2-13.2 18.4-27 27.5-41.3 28-43.8 55.6-92 80.1-139.9 23.7-46.3 44.7-92.2 60.7-133.5 10.2-26.3 18.4-50.8 24.1-72.3 5-19 8.9-36.9 11.9-54.1C1327.9 363.5 1197.6 380.9 1112.9 385.1z"/><path fill="#be202e" d="M936.5 1326.1c-5.5 1-11 1.8-16.6 2.6C925.5 1328 931 1327.1 936.5 1326.1z"/><path opacity=".35" fill="#be202e" d="M936.5 1326.1c-5.5 1-11 1.8-16.6 2.6C925.5 1328 931 1327.1 936.5 1326.1z"/><linearGradient id="SVGID_8_" gradientUnits="userSpaceOnUse" x1="-7374.1626" y1="-2027.484" x2="-4461.8433" y2="-2027.484" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_8_)" d="M936.5 1326.1c-5.5 1-11 1.8-16.6 2.6C925.5 1328 931 1327.1 936.5 1326.1z"/><path fill="#be202e" d="M980 1186.8c1.8-.2 3.5-.5 5.2-.8C983.5 1186.3 981.8 1186.6 980 1186.8z"/><path opacity=".35" fill="#be202e" d="M980 1186.8c1.8-.2 3.5-.5 5.2-.8C983.5 1186.3 981.8 1186.6 980 1186.8z"/><linearGradient id="SVGID_9_" gradientUnits="userSpaceOnUse" x1="-7374.1626" y1="-2037.7417" x2="-4461.8433" y2="-2037.7417" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_9_)" d="M980 1186.8c1.8-.2 3.5-.5 5.2-.8C983.5 1186.3 981.8 1186.6 980 1186.8z"/><path fill="#be202e" d="M980.2 1186.7z"/><path opacity=".35" fill="#be202e" d="M980.2 1186.7z"/><linearGradient id="SVGID_10_" gradientUnits="userSpaceOnUse" x1="-5738.0635" y1="-2039.799" x2="-5094.3457" y2="-2039.799" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_10_)" d="M980.2 1186.7z"/></svg></div></a><ul class=footer-link><li><a class=white href=https://www.apache.org>Foundation</a></li><li><a class=white href=https://www.apache.org/licenses/>License</a></li><li><a class=white href=https://hugegraph.apache.org/docs/guides/security>Security</a></li><li><a class=white href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li><li><a class=white href=https://privacy.apache.org/policies/privacy-policy-public.html target=_blank>Privacy</a></li></ul></div></div><div class="col-6 text-white text-center container-center"><p>Copyright &copy; 2026 The Apache Software Foundation, Licensed under the <a class=white href=https://www.apache.org/licenses/LICENSE-2.0>Apache License Version 2.0</a></p><p>Apache, the names of Apache projects, and the feather logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.</p></div><div class=col-1></div></div></div></footer></div><script src=/js/popper.min.js></script>
<script src=/js/bootstrap.min.js></script>
<script src=/js/mermaid.min.js></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.e5172b35d915ae4e363d053ea36b47944d4363d50a61c129d222283019daf4e0.js integrity="sha256-5RcrNdkVrk42PQU+o2tHlE1DY9UKYcEp0iIoMBna9OA=" crossorigin=anonymous></script>
<script src=/js/prism.js></script></body></html>