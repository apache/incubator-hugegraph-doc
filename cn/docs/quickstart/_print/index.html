<!doctype html><html lang=cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=content-security-policy content="script-src 'self' 'unsafe-inline'; script-src-elem 'self' 'unsafe-inline' https://code.jquery.com https://cdn.jsdelivr.net https://fonts.googleapis.com;"><meta name=generator content="Hugo 0.102.3"><link rel=canonical type=text/html href=/cn/docs/quickstart/><link rel=alternate type=application/rss+xml href=/cn/docs/quickstart/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Quick Start | HugeGraph</title><meta name=description content><meta property="og:title" content="Quick Start"><meta property="og:description" content="Apache HugeGraph å®˜ç½‘"><meta property="og:type" content="website"><meta property="og:url" content="/cn/docs/quickstart/"><meta property="og:site_name" content="HugeGraph"><meta itemprop=name content="Quick Start"><meta itemprop=description content="Apache HugeGraph å®˜ç½‘"><meta name=twitter:card content="summary"><meta name=twitter:title content="Quick Start"><meta name=twitter:description content="Apache HugeGraph å®˜ç½‘"><link rel=preload href=/scss/main.min.3276a99ddd5b15fbe3fcf20f8237086c2cbb526b572f4f06a2246fa9279ed395.css as=style><link href=/scss/main.min.3276a99ddd5b15fbe3fcf20f8237086c2cbb526b572f4f06a2246fa9279ed395.css rel=stylesheet integrity><script src=/js/jquery.min.js></script>
<link rel=stylesheet href=/css/prism.css><script>document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll("pre code.language-mermaid, code.language-mermaid, pre code.language-fallback, code.language-fallback"),e=[];t.forEach(function(t){var n=t.textContent.trim();(n.match(/^(graph|flowchart|sequenceDiagram|classDiagram|pie|gitgraph|erDiagram|journey|gantt|stateDiagram|mindmap|timeline|quadrantChart)/m)||n.includes("-->")||n.includes("->")||n.includes("style ")||n.includes("fill:"))&&e.push(t)}),e.length>0&&(e.forEach(function(e){var n,t=document.createElement("div");t.className="mermaid",t.textContent=e.textContent.trim(),n=e.closest("pre")||e.parentElement,n.parentNode.replaceChild(t,n)}),mermaid.initialize({startOnLoad:!0,theme:"default",securityLevel:"loose"}))})</script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/cn/><span class=navbar-logo><svg id="å›¾å±‚_1" data-name="å›¾å±‚ 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs><style>.logo-cls-1{fill:none;stroke:#fff;stroke-miterlimit:10;stroke-width:.5px;opacity:.3}.logo-cls-2{fill:#229efa}.logo-cls-3{fill:#9948f7}.logo-cls-4{fill:#33bc7a}.logo-cls-5{fill:url(#æœªå‘½åçš„æ¸å˜_3)}.logo-cls-6{fill:url(#æœªå‘½åçš„æ¸å˜_13)}.logo-cls-7{fill:url(#æœªå‘½åçš„æ¸å˜_11)}</style><linearGradient id="æœªå‘½åçš„æ¸å˜_3" x1="6.16" y1="14.63" x2="6.16" y2="6.01" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2e3192"/><stop offset="0" stop-color="#229efa"/><stop offset=".44" stop-color="#239cf8"/><stop offset=".6" stop-color="#2795f2"/><stop offset=".71" stop-color="#2d8ae8"/><stop offset=".81" stop-color="#3679d9"/><stop offset=".89" stop-color="#4263c6"/><stop offset=".95" stop-color="#5048af"/><stop offset="1" stop-color="#5c319b"/></linearGradient><linearGradient id="æœªå‘½åçš„æ¸å˜_13" x1="10.75" y1="8.2" x2="4.49" y2="1.94" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#991146"/><stop offset="0" stop-color="#326b4e"/><stop offset=".02" stop-color="#3a685c"/><stop offset=".07" stop-color="#506180"/><stop offset=".13" stop-color="#645aa0"/><stop offset=".19" stop-color="#7554bc"/><stop offset=".26" stop-color="#8250d2"/><stop offset=".35" stop-color="#8d4ce3"/><stop offset=".45" stop-color="#944aee"/><stop offset=".6" stop-color="#9848f5"/><stop offset="1" stop-color="#9948f7"/></linearGradient><linearGradient id="æœªå‘½åçš„æ¸å˜_11" x1="15.34" y1="6.67" x2="7.88" y2="10.98" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#33bc7a"/><stop offset=".45" stop-color="#32ba7a"/><stop offset=".61" stop-color="#2fb37c"/><stop offset=".73" stop-color="#29a87e"/><stop offset=".82" stop-color="#219782"/><stop offset=".9" stop-color="#168186"/><stop offset=".97" stop-color="#09668b"/><stop offset="1" stop-color="#03598e"/></linearGradient></defs><title>logo</title><rect class="logo-cls-1" x="-143.14" y="-373.46" width="597.8" height="424.44"/><circle class="logo-cls-2" cx="12.02" cy="1.83" r="1.33"/><circle class="logo-cls-3" cx="12.02" cy="14.17" r="1.33"/><circle class="logo-cls-4" cx="1.33" cy="8" r="1.33"/><path class="logo-cls-5" d="M7.91 10h0a2.65 2.65.0 01-.23-3.74A1.75 1.75.0 017.91 6h0A2.66 2.66.0 014.4 6h0a1.81 1.81.0 01.24.24A2.65 2.65.0 014.4 10h0a2.62 2.62.0 00-.89 2 2.65 2.65.0 104.4-2z"/><path class="logo-cls-6" d="M12.19 5.49a2.78 2.78.0 01-.5.11A2.64 2.64.0 018.76 3.5h0a2.65 2.65.0 10-2.6 3.17A2.6 2.6.0 007 6.53H7a2.65 2.65.0 013.44 2 2.94 2.94.0 010-.51 2.65 2.65.0 011.75-2.53z"/><path class="logo-cls-7" d="M13 5.35a2.64 2.64.0 00-2.59 2.12h0a3 3 0 01-.08.32A2.65 2.65.0 017.54 9.58a2.86 2.86.0 00.37.41h0a2.63 2.63.0 01.9 2 2.84 2.84.0 01-.05.51 2.64 2.64.0 013.12-2.06l.32.08h0a2.6 2.6.0 00.84.14 2.65 2.65.0 100-5.3z"/></svg></span><span class=font-weight-bold>HugeGraph</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cn/docs/><i class='fas fa-book pr-2'></i><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cn/blog/><i class='fas fa-book pr-2'></i><span>Blog Posts</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/apache/hugegraph target=_blank><i class='fab fa-github pr-2'></i><span>GitHub</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cn/docs/download/download/><i class='fas fa-download pr-2'></i><span>Download</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cn/community/><span>Community</span></a></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>ä¸­æ–‡</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/quickstart/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/cn/docs/quickstart/>Return to the regular view of this page</a>.</p></div><h1 class=title>Quick Start</h1><ul><li>1: <a href=#pg-47e4c121d898d966f83e783dd8f23933>HugeGraph (OLTP)</a></li><ul><li>1.1: <a href=#pg-b7c813bb4e5fdd09cff177617e07847d>HugeGraph-Server Quick Start</a></li><li>1.2: <a href=#pg-e95a3dd8d4e602df35b0b6d668d7f31b>HugeGraph-PD Quick Start</a></li><li>1.3: <a href=#pg-798ddadd53db4fb98beb621b93f015d0>HugeGraph-Store Quick Start</a></li></ul><li>2: <a href=#pg-a4bced169085a0c224fa69566df656b0>HugeGraph ToolChain</a></li><ul><li>2.1: <a href=#pg-55eecaa5c3ceec829e0f0d20863baa46>HugeGraph-Hubble Quick Start</a></li><li>2.2: <a href=#pg-85740db4cef1a86c9bd97f4c81a4a701>HugeGraph-Loader Quick Start</a></li><li>2.3: <a href=#pg-578593298ffbd00c4ba2246ed746c1b8>HugeGraph-Tools Quick Start</a></li><li>2.4: <a href=#pg-7a8b9421800a2b76e91d76ba1eccb218>HugeGraph-Spark-Connector Quick Start</a></li></ul><li>3: <a href=#pg-6b30c33f21d772125fdc3d105677ea0d>HugeGraph-AI</a></li><ul><li>3.1: <a href=#pg-0b4da31f88e2852fb8a360769f3c9f28>HugeGraph-LLM</a></li><li>3.2: <a href=#pg-e0b469442bebe4a5db69564efbaa4753>HugeGraph-ML</a></li><li>3.3: <a href=#pg-bb10fc095f5061d789104547f7246a67>GraphRAG UI Details</a></li><li>3.4: <a href=#pg-6cc3291f0d6d469d81467164d710a8f2>é…ç½®å‚è€ƒ</a></li><li>3.5: <a href=#pg-705186bd8a71dc04683f1f744e9d36b4>REST API å‚è€ƒ</a></li></ul><li>4: <a href=#pg-d9d6bf778a1c59e678ba9cc8395acdd4>HugeGraph Computing (OLAP)</a></li><ul><li>4.1: <a href=#pg-195b2910f1b20ecc0c065f6e6267415a>HugeGraph-Vermeer Quick Start</a></li><li>4.2: <a href=#pg-e9c07ea6afc3c052057c026b7f07c6b9>HugeGraph-Computer Quick Start</a></li><li>4.3: <a href=#pg-094fc5e6c5eaa81703c55b700e7863d5>HugeGraph-Computer é…ç½®å‚è€ƒ</a></li></ul><li>5: <a href=#pg-5c4e63c343b59b21a30a78d519d1dcb4>HugeGraph Client</a></li><ul><li>5.1: <a href=#pg-ffe87f885ed695dba5fb26ef5ea12983>HugeGraph-Java-Client</a></li><li>5.2: <a href=#pg-0f122bc9c526a968d392f6806ad6ddce>HugeGraph Python å®¢æˆ·ç«¯å¿«é€Ÿå…¥é—¨</a></li><li>5.3: <a href=#pg-c0ed8628ca3e43165a14118d58e2b4b2>HugeGraph Go å®¢æˆ·ç«¯å¿«é€Ÿå…¥é—¨</a></li></ul></ul><div class=content></div></div><div class=td-content><h1 id=pg-47e4c121d898d966f83e783dd8f23933>1 - HugeGraph (OLTP)</h1><blockquote><p>DeepWiki æä¾›å®æ—¶æ›´æ–°çš„é¡¹ç›®æ–‡æ¡£ï¼Œå†…å®¹æ›´å…¨é¢å‡†ç¡®ï¼Œé€‚åˆå¿«é€Ÿäº†è§£é¡¹ç›®æœ€æ–°æƒ…å†µã€‚</p><p>ğŸ“– <a href=https://deepwiki.com/apache/hugegraph>https://deepwiki.com/apache/hugegraph</a></p></blockquote><p><strong>GitHub è®¿é—®ï¼š</strong> <i class="fab fa-github"></i> <a href=https://github.com/apache/hugegraph>https://github.com/apache/hugegraph</a></p></div><div class=td-content><h1 id=pg-b7c813bb4e5fdd09cff177617e07847d>1.1 - HugeGraph-Server Quick Start</h1><h3 id=1-hugegraph-server-æ¦‚è¿°>1 HugeGraph-Server æ¦‚è¿°</h3><p>HugeGraph-Server æ˜¯ HugeGraph é¡¹ç›®çš„æ ¸å¿ƒéƒ¨åˆ†ï¼ŒåŒ…å« graph-coreã€backendã€API ç­‰å­æ¨¡å—ã€‚</p><p>Core æ¨¡å—æ˜¯ Tinkerpop æ¥å£çš„å®ç°ï¼ŒBackend æ¨¡å—ç”¨äºç®¡ç†æ•°æ®å­˜å‚¨ï¼Œ1.7.0+ ç‰ˆæœ¬æ”¯æŒçš„åç«¯åŒ…æ‹¬ï¼šRocksDBï¼ˆå•æœºé»˜è®¤ï¼‰ã€HStoreï¼ˆåˆ†å¸ƒå¼ï¼‰ã€HBase å’Œ Memoryã€‚API æ¨¡å—æä¾› HTTP Serverï¼Œå°† Client çš„ HTTP è¯·æ±‚è½¬åŒ–ä¸ºå¯¹ Core çš„è°ƒç”¨ã€‚</p><blockquote><p>âš ï¸ <strong>é‡è¦å˜æ›´</strong>: ä» 1.7.0 ç‰ˆæœ¬å¼€å§‹ï¼ŒMySQLã€PostgreSQLã€Cassandraã€ScyllaDB ç­‰é—ç•™åç«¯å·²è¢«ç§»é™¤ã€‚å¦‚éœ€ä½¿ç”¨è¿™äº›åç«¯ï¼Œè¯·ä½¿ç”¨ 1.5.x æˆ–æ›´æ—©ç‰ˆæœ¬ã€‚</p></blockquote><blockquote><p>æ–‡æ¡£ä¸­ä¼šå‡ºç° <code>HugeGraph-Server</code> åŠ <code>HugeGraphServer</code> è¿™ä¸¤ç§å†™æ³•ï¼Œå…¶ä»–ç»„ä»¶ä¹Ÿç±»ä¼¼ã€‚
è¿™ä¸¤ç§å†™æ³•å«ä¹‰ä¸Šå¹¶æ˜æ˜¾å·®å¼‚ï¼Œå¯ä»¥è¿™ä¹ˆåŒºåˆ†ï¼š<code>HugeGraph-Server</code> è¡¨ç¤ºæœåŠ¡ç«¯ç›¸å…³ç»„ä»¶ä»£ç ï¼Œ<code>HugeGraphServer</code> è¡¨ç¤ºæœåŠ¡è¿›ç¨‹ã€‚</p></blockquote><h3 id=2-ä¾èµ–>2 ä¾èµ–</h3><h4 id=21-å®‰è£…-java-11-jdk-11>2.1 å®‰è£… Java 11 (JDK 11)</h4><p>è¯·è€ƒè™‘åœ¨ Java 11 çš„ç¯å¢ƒä¸Šå¯åŠ¨ <code>HugeGraph-Server</code>(åœ¨ 1.5.0 ç‰ˆå‰ï¼Œä¼šä¿ç•™å¯¹ Java 8 çš„åŸºæœ¬å…¼å®¹)</p><p><strong>åœ¨å¾€ä¸‹é˜…è¯»ä¹‹å‰å…ˆæ‰§è¡Œ <code>java -version</code> å‘½ä»¤ç¡®è®¤ jdk ç‰ˆæœ¬</strong></p><blockquote><p>æ³¨ï¼šä½¿ç”¨ Java 8 å¯åŠ¨ HugeGraph-Server ä¼šå¤±å»ä¸€äº›<strong>å®‰å…¨æ€§</strong>çš„ä¿éšœï¼Œä¹Ÿä¼šé™ä½æ€§èƒ½ç›¸å…³æŒ‡æ ‡ (è¯·å°½æ—©å‡çº§/è¿ç§»ï¼Œ1.7.0 ä¸å†æ”¯æŒ)</p></blockquote><h3 id=3-éƒ¨ç½²>3 éƒ¨ç½²</h3><p>æœ‰å››ç§æ–¹å¼å¯ä»¥éƒ¨ç½² HugeGraph-Server ç»„ä»¶ï¼š</p><ul><li>æ–¹å¼ 1ï¼šä½¿ç”¨ Docker å®¹å™¨ (ä¾¿äº<strong>æµ‹è¯•</strong>)</li><li>æ–¹å¼ 2ï¼šä¸‹è½½ tar åŒ…</li><li>æ–¹å¼ 3ï¼šæºç ç¼–è¯‘</li><li>æ–¹å¼ 4ï¼šä½¿ç”¨ tools å·¥å…·éƒ¨ç½² (Outdated)</li></ul><p><strong>æ³¨æ„</strong> ç”Ÿäº§æˆ–å¯¹å¤–ç½‘æš´éœ²è®¿é—®çš„ç¯å¢ƒå¿…é¡»ä½¿ç”¨ Java 11 å¹¶å¼€å¯ <a href=/cn/docs/config/config-authentication/>Auth æƒé™è®¤è¯</a>, å¦åˆ™ä¼šæœ‰å®‰å…¨éšæ‚£ã€‚</p><h4 id=31-ä½¿ç”¨-docker-å®¹å™¨-ä¾¿äºæµ‹è¯•>3.1 ä½¿ç”¨ Docker å®¹å™¨ (ä¾¿äº<strong>æµ‹è¯•</strong>)</h4><p>å¯å‚è€ƒ <a href=https://github.com/apache/hugegraph/blob/master/hugegraph-server/hugegraph-dist/docker/README.md>Docker éƒ¨ç½²æ–¹å¼</a>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>docker run -itd --name=server -p 8080:8080 -e PASSWORD=xxx hugegraph/hugegraph:1.7.0</code> å»å¿«é€Ÿå¯åŠ¨ä¸€ä¸ªå†…ç½®äº† <code>RocksDB</code> çš„ <code>Hugegraph server</code>.</p><p>å¯é€‰é¡¹ï¼š</p><ol><li>å¯ä»¥ä½¿ç”¨ <code>docker exec -it server bash</code> è¿›å…¥å®¹å™¨å®Œæˆä¸€äº›æ“ä½œ</li><li>å¯ä»¥ä½¿ç”¨ <code>docker run -itd --name=server -p 8080:8080 -e PRELOAD="true" hugegraph/hugegraph:1.7.0</code> åœ¨å¯åŠ¨çš„æ—¶å€™é¢„åŠ è½½ä¸€ä¸ª<strong>å†…ç½®çš„</strong>æ ·ä¾‹å›¾ã€‚å¯ä»¥é€šè¿‡ <code>RESTful API</code> è¿›è¡ŒéªŒè¯ã€‚å…·ä½“æ­¥éª¤å¯ä»¥å‚è€ƒ <a href=#519-%E5%90%AF%E5%8A%A8-server-%E7%9A%84%E6%97%B6%E5%80%99%E5%88%9B%E5%BB%BA%E7%A4%BA%E4%BE%8B%E5%9B%BE>5.1.9</a></li><li>å¯ä»¥ä½¿ç”¨ <code>-e PASSWORD=xxx</code> è®¾ç½®æ˜¯å¦å¼€å¯é‰´æƒæ¨¡å¼ä»¥åŠ admin çš„å¯†ç ï¼Œå…·ä½“æ­¥éª¤å¯ä»¥å‚è€ƒ <a href=/cn/docs/config/config-authentication#%E4%BD%BF%E7%94%A8-docker-%E6%97%B6%E5%BC%80%E5%90%AF%E9%89%B4%E6%9D%83%E6%A8%A1%E5%BC%8F>Config Authentication</a></li></ol><p>å¦‚æœä½¿ç”¨ docker desktopï¼Œåˆ™å¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„æ–¹å¼è®¾ç½®å¯é€‰é¡¹ï¼š</p><div style=text-align:center><img src=/docs/images/images-server/31docker-option.jpg alt=image style=width:33%></div><p>å¦å¤–ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ç®¡ç†é™¤äº† <code>server</code> ä¹‹å¤–çš„å…¶ä»– Hugegraph ç›¸å…³çš„å®ä¾‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>docker-compose</code>å®Œæˆéƒ¨ç½²ï¼Œä½¿ç”¨å‘½ä»¤ <code>docker-compose up -d</code>ï¼Œï¼ˆå½“ç„¶åªé…ç½® <code>server</code> ä¹Ÿæ˜¯å¯ä»¥çš„ï¼‰ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ ·ä¾‹çš„ <code>docker-compose.yml</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;3&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/hugegraph:1.7.0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>server</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>PASSWORD=xxx</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>#  - PASSWORD=xxx ä¸ºå¯é€‰å‚æ•°ï¼Œè®¾ç½®çš„æ—¶å€™å¯ä»¥å¼€å¯é‰´æƒæ¨¡å¼ï¼Œå¹¶è®¾ç½®å¯†ç </span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>#  - PRELOAD=true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>#  - PRELOAD=true ä¸ºå¯é€‰å‚æ•°ï¼Œä¸º True æ—¶å¯ä»¥åœ¨å¯åŠ¨çš„æ—¶å€™é¢„åŠ è½½ä¸€ä¸ªå†…ç½®çš„æ ·ä¾‹å›¾</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#0000cf;font-weight:700>8080</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8080</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><blockquote><p>æ³¨æ„ï¼š</p><ol><li><p>hugegraph çš„ docker é•œåƒæ˜¯ä¸€ä¸ªä¾¿æ·ç‰ˆæœ¬ï¼Œç”¨äºå¿«é€Ÿå¯åŠ¨ hugegraphï¼Œå¹¶ä¸æ˜¯<strong>å®˜æ–¹å‘å¸ƒç‰©æ–™åŒ…æ–¹å¼</strong>ã€‚ä½ å¯ä»¥ä» <a href=https://infra.apache.org/release-distribution.html#dockerhub>ASF Release Distribution Policy</a> ä¸­å¾—åˆ°æ›´å¤šç»†èŠ‚ã€‚</p></li><li><p>æ¨èä½¿ç”¨ <code>release tag</code> (å¦‚ <code>1.7.0/1.x.0</code>) ä»¥è·å–ç¨³å®šç‰ˆã€‚ä½¿ç”¨ <code>latest</code> tag å¯ä»¥ä½¿ç”¨å¼€å‘ä¸­çš„æœ€æ–°åŠŸèƒ½ã€‚</p></li></ol></blockquote><h4 id=32-ä¸‹è½½-tar-åŒ…>3.2 ä¸‹è½½ tar åŒ…</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># use the latest version, here is 1.7.0 for example</span>
</span></span><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>/apache-hugegraph-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>.tar.gz
</span></span><span style=display:flex><span>tar zxf *hugegraph*.tar.gz
</span></span></code></pre></div><h4 id=33-æºç ç¼–è¯‘>3.3 æºç ç¼–è¯‘</h4><p>æºç ç¼–è¯‘å‰è¯·ç¡®ä¿æœ¬æœºæœ‰å®‰è£… <code>wget/curl</code> å‘½ä»¤</p><p>ä¸‹è½½ HugeGraph æºä»£ç </p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/apache/hugegraph.git
</span></span></code></pre></div><p>ç¼–è¯‘æ‰“åŒ…ç”Ÿæˆ tar åŒ…</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> hugegraph
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># (Optional) use &#34;-P stage&#34; param if you build failed with the latest code(during pre-release period)</span>
</span></span><span style=display:flex><span>mvn package -DskipTests
</span></span></code></pre></div><p>æ‰§è¡Œæ—¥å¿—å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>......
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> Reactor Summary <span style=color:#204a87;font-weight:700>for</span> hugegraph 1.5.0:
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> 
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph .......................................... SUCCESS <span style=color:#ce5c00;font-weight:700>[</span>  2.405 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-core ..................................... SUCCESS <span style=color:#ce5c00;font-weight:700>[</span> 13.405 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-api ...................................... SUCCESS <span style=color:#ce5c00;font-weight:700>[</span> 25.943 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-cassandra ................................ SUCCESS <span style=color:#ce5c00;font-weight:700>[</span> 54.270 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-scylladb ................................. SUCCESS <span style=color:#ce5c00;font-weight:700>[</span>  1.032 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-rocksdb .................................. SUCCESS <span style=color:#ce5c00;font-weight:700>[</span> 34.752 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-mysql .................................... SUCCESS <span style=color:#ce5c00;font-weight:700>[</span>  1.778 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-palo ..................................... SUCCESS <span style=color:#ce5c00;font-weight:700>[</span>  1.070 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-hbase .................................... SUCCESS <span style=color:#ce5c00;font-weight:700>[</span> 32.124 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-postgresql ............................... SUCCESS <span style=color:#ce5c00;font-weight:700>[</span>  1.823 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-dist ..................................... SUCCESS <span style=color:#ce5c00;font-weight:700>[</span> 17.426 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-example .................................. SUCCESS <span style=color:#ce5c00;font-weight:700>[</span>  1.941 s<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> hugegraph-test ..................................... SUCCESS <span style=color:#ce5c00;font-weight:700>[</span>01:01 min<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> ------------------------------------------------------------------------
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> BUILD SUCCESS
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>[</span>INFO<span style=color:#ce5c00;font-weight:700>]</span> ------------------------------------------------------------------------
</span></span><span style=display:flex><span>......
</span></span></code></pre></div><p>æ‰§è¡ŒæˆåŠŸåï¼Œåœ¨ hugegraph ç›®å½•ä¸‹ç”Ÿæˆ <code>*hugegraph-*.tar.gz</code> æ–‡ä»¶ï¼Œå°±æ˜¯ç¼–è¯‘ç”Ÿæˆçš„ tar åŒ…ã€‚</p><details><summary>è¿‡æ—¶çš„ tools å·¥å…·å®‰è£…</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#### 3.4 ä½¿ç”¨ tools å·¥å…·éƒ¨ç½² (Outdated)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HugeGraph-Tools æä¾›äº†ä¸€é”®éƒ¨ç½²çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨è¯¥å·¥å…·å¿«é€Ÿåœ°ä¸€é”®ä¸‹è½½ã€è§£å‹ã€é…ç½®å¹¶å¯åŠ¨ HugeGraph-Server å’Œ HugeGraph-Hubbleï¼Œæœ€æ–°çš„ HugeGraph-Toolchain ä¸­å·²ç»åŒ…å«æ‰€æœ‰çš„è¿™äº›å·¥å…·ï¼Œç›´æ¥ä¸‹è½½å®ƒè§£å‹å°±æœ‰å·¥å…·åŒ…é›†åˆäº†
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>```</span>bash
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># download toolchain package, it includes loader + tool + hubble, please check the latest version (here is 1.7.0)</span>
</span></span><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/1.7.0/apache-hugegraph-toolchain-incubating-1.7.0.tar.gz
</span></span><span style=display:flex><span>tar zxf *hugegraph-*.tar.gz
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># enter the tool&#39;s package</span>
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> *hugegraph*/*tool*
</span></span></code></pre></div><blockquote><p>æ³¨ï¼š<code>${version}</code> ä¸ºç‰ˆæœ¬å·ï¼Œæœ€æ–°ç‰ˆæœ¬å·å¯å‚è€ƒ <a href=/docs/download/download>Download é¡µé¢</a>ï¼Œæˆ–ç›´æ¥ä» Download é¡µé¢ç‚¹å‡»é“¾æ¥ä¸‹è½½</p></blockquote><p>HugeGraph-Tools çš„æ€»å…¥å£è„šæœ¬æ˜¯ <code>bin/hugegraph</code>ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ <code>help</code> å­å‘½ä»¤æŸ¥çœ‹å…¶ç”¨æ³•ï¼Œè¿™é‡Œåªä»‹ç»ä¸€é”®éƒ¨ç½²çš„å‘½ä»¤ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/hugegraph deploy -v <span style=color:#ce5c00;font-weight:700>{</span>hugegraph-version<span style=color:#ce5c00;font-weight:700>}</span> -p <span style=color:#ce5c00;font-weight:700>{</span>install-path<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#ce5c00;font-weight:700>[</span>-u <span style=color:#ce5c00;font-weight:700>{</span>download-path-prefix<span style=color:#ce5c00;font-weight:700>}]</span>
</span></span></code></pre></div><p><code>{hugegraph-version}</code> è¡¨ç¤ºè¦éƒ¨ç½²çš„ HugeGraphServer åŠ HugeGraphStudio çš„ç‰ˆæœ¬ï¼Œç”¨æˆ·å¯æŸ¥çœ‹ <code>conf/version-mapping.yaml</code> æ–‡ä»¶è·å–ç‰ˆæœ¬ä¿¡æ¯ï¼Œ<code>{install-path}</code> æŒ‡å®š HugeGraphServer åŠ HugeGraphStudio çš„å®‰è£…ç›®å½•ï¼Œ<code>{download-path-prefix}</code> å¯é€‰ï¼ŒæŒ‡å®š HugeGraphServer åŠ HugeGraphStudio tar åŒ…çš„ä¸‹è½½åœ°å€ï¼Œä¸æä¾›æ—¶ä½¿ç”¨é»˜è®¤ä¸‹è½½åœ°å€ï¼Œæ¯”å¦‚è¦å¯åŠ¨ 0.6 ç‰ˆæœ¬çš„ HugeGraph-Server åŠ HugeGraphStudio å°†ä¸Šè¿°å‘½ä»¤å†™ä¸º <code>bin/hugegraph deploy -v 0.6 -p services</code> å³å¯ã€‚</p></details><h3 id=4-é…ç½®>4 é…ç½®</h3><p>å¦‚æœéœ€è¦å¿«é€Ÿå¯åŠ¨ HugeGraph ä»…ç”¨äºæµ‹è¯•ï¼Œé‚£ä¹ˆåªéœ€è¦è¿›è¡Œå°‘æ•°å‡ ä¸ªé…ç½®é¡¹çš„ä¿®æ”¹å³å¯ï¼ˆè§ä¸‹ä¸€èŠ‚ï¼‰ã€‚</p><p>è¯¦ç»†çš„é…ç½®ä»‹ç»è¯·å‚è€ƒ<a href=/docs/config/config-guide>é…ç½®æ–‡æ¡£</a>åŠ<a href=/docs/config/config-option>é…ç½®é¡¹ä»‹ç»</a>ã€‚</p><h3 id=5-å¯åŠ¨>5 å¯åŠ¨</h3><h4 id=51-ä½¿ç”¨å¯åŠ¨è„šæœ¬å¯åŠ¨>5.1 ä½¿ç”¨å¯åŠ¨è„šæœ¬å¯åŠ¨</h4><p>å¯åŠ¨åˆ†ä¸º"é¦–æ¬¡å¯åŠ¨"å’Œ"éé¦–æ¬¡å¯åŠ¨"ï¼Œè¿™ä¹ˆåŒºåˆ†æ˜¯å› ä¸ºåœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨å‰éœ€è¦åˆå§‹åŒ–åç«¯æ•°æ®åº“ï¼Œç„¶åå¯åŠ¨æœåŠ¡ã€‚</p><p>è€Œåœ¨äººä¸ºåœæ‰æœåŠ¡åï¼Œæˆ–è€…å…¶ä»–åŸå› éœ€è¦å†æ¬¡å¯åŠ¨æœåŠ¡æ—¶ï¼Œå› ä¸ºåç«¯æ•°æ®åº“æ˜¯æŒä¹…åŒ–å­˜åœ¨çš„ï¼Œç›´æ¥å¯åŠ¨æœåŠ¡å³å¯ã€‚</p><p>HugeGraphServer å¯åŠ¨æ—¶ä¼šè¿æ¥åç«¯å­˜å‚¨å¹¶å°è¯•æ£€æŸ¥åç«¯å­˜å‚¨ç‰ˆæœ¬å·ï¼Œå¦‚æœæœªåˆå§‹åŒ–åç«¯æˆ–è€…åç«¯å·²åˆå§‹åŒ–ä½†ç‰ˆæœ¬ä¸åŒ¹é…æ—¶ï¼ˆæ—§ç‰ˆæœ¬æ•°æ®ï¼‰ï¼ŒHugeGraphServer ä¼šå¯åŠ¨å¤±è´¥ï¼Œå¹¶ç»™å‡ºé”™è¯¯ä¿¡æ¯ã€‚</p><p>å¦‚æœéœ€è¦å¤–éƒ¨è®¿é—® HugeGraphServerï¼Œè¯·ä¿®æ”¹ <code>rest-server.properties</code> çš„ <code>restserver.url</code> é…ç½®é¡¹ï¼ˆé»˜è®¤ä¸º <code>http://127.0.0.1:8080</code>ï¼‰ï¼Œä¿®æ”¹æˆæœºå™¨åæˆ– IP åœ°å€ã€‚</p><p>ç”±äºå„ç§åç«¯æ‰€éœ€çš„é…ç½®ï¼ˆhugegraph.propertiesï¼‰åŠå¯åŠ¨æ­¥éª¤ç•¥æœ‰ä¸åŒï¼Œä¸‹é¢é€ä¸€å¯¹å„åç«¯çš„é…ç½®åŠå¯åŠ¨åšä»‹ç»ã€‚</p><p><strong>æ³¨:</strong> å¦‚æœæƒ³è¦å¼€å¯ HugeGraph æƒé™ç³»ç»Ÿï¼Œåœ¨å¯åŠ¨ Server ä¹‹å‰åº”æŒ‰ç…§ <a href=/cn/docs/config/config-authentication/>Server é‰´æƒé…ç½®</a> è¿›è¡Œé…ç½®ã€‚(å°¤å…¶æ˜¯ç”Ÿäº§ç¯å¢ƒ/å¤–ç½‘ç¯å¢ƒé¡»å¼€å¯)</p><h5 id=511-åˆ†å¸ƒå¼å­˜å‚¨-hstore>5.1.1 åˆ†å¸ƒå¼å­˜å‚¨ (HStore)</h5><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  åˆ†å¸ƒå¼å­˜å‚¨ é…ç½®åŠå¯åŠ¨æ–¹æ³•</summary><blockquote><p>åˆ†å¸ƒå¼å­˜å‚¨æ˜¯ HugeGraph 1.5.0 ä¹‹åæ¨å‡ºçš„æ–°ç‰¹æ€§ï¼Œå®ƒåŸºäº HugeGraph-PD å’Œ HugeGraph-Store ç»„ä»¶å®ç°äº†åˆ†å¸ƒå¼çš„æ•°æ®å­˜å‚¨å’Œè®¡ç®—ã€‚</p></blockquote><p>è¦ä½¿ç”¨åˆ†å¸ƒå¼å­˜å‚¨å¼•æ“ï¼Œéœ€è¦å…ˆéƒ¨ç½² HugeGraph-PD å’Œ HugeGraph-Storeï¼Œè¯¦è§ <a href=/cn/docs/quickstart/hugegraph/hugegraph-pd/>HugeGraph-PD å¿«é€Ÿå…¥é—¨</a> å’Œ <a href=/cn/docs/quickstart/hugegraph/hugegraph-hstore/>HugeGraph-Store å¿«é€Ÿå…¥é—¨</a>ã€‚</p><p>ç¡®ä¿ PD å’Œ Store æœåŠ¡å‡å·²å¯åŠ¨å</p><ol><li>ä¿®æ”¹ HugeGraph-Server çš„ <code>hugegraph.properties</code> é…ç½®ï¼š</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>backend=hstore
</span></span><span style=display:flex><span>serializer=binary
</span></span><span style=display:flex><span>task.scheduler_type=distributed
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># PD æœåŠ¡åœ°å€ï¼Œå¤šä¸ª PD åœ°å€ç”¨é€—å·åˆ†å‰²ï¼Œé…ç½® PD çš„ RPC ç«¯å£
</span></span><span style=display:flex><span>pd.peers=127.0.0.1:8686,127.0.0.1:8687,127.0.0.1:8688
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span># ç®€å•ç¤ºä¾‹ï¼ˆå¸¦é‰´æƒï¼‰
</span></span><span style=display:flex><span>gremlin.graph=org.apache.hugegraph.auth.HugeFactoryAuthProxy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># æŒ‡å®šå­˜å‚¨ hstoreï¼ˆå¿…é¡»ï¼‰
</span></span><span style=display:flex><span>backend=hstore
</span></span><span style=display:flex><span>serializer=binary
</span></span><span style=display:flex><span>store=hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># æŒ‡å®šä»»åŠ¡è°ƒåº¦å™¨ï¼ˆ1.7.0åŠä¹‹å‰ï¼Œhstore å­˜å‚¨å¿…é¡»ï¼‰
</span></span><span style=display:flex><span>task.scheduler_type=distributed
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># pd config
</span></span><span style=display:flex><span>pd.peers=127.0.0.1:8686
</span></span></code></pre></div><ol start=2><li>ä¿®æ”¹ HugeGraph-Server çš„ <code>rest-server.properties</code> é…ç½®ï¼š</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>usePD=true
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># è‹¥éœ€è¦ auth 
</span></span><span style=display:flex><span># auth.authenticator=org.apache.hugegraph.auth.StandardAuthenticator
</span></span></code></pre></div><p>å¦‚æœé…ç½®å¤šä¸ª HugeGraph-Server èŠ‚ç‚¹ï¼Œéœ€è¦ä¸ºæ¯ä¸ªèŠ‚ç‚¹ä¿®æ”¹ <code>rest-server.properties</code> é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š</p><p>èŠ‚ç‚¹ 1ï¼ˆä¸»èŠ‚ç‚¹ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>usePD=true
</span></span><span style=display:flex><span>restserver.url=http://127.0.0.1:8081
</span></span><span style=display:flex><span>gremlinserver.url=http://127.0.0.1:8181
</span></span><span style=display:flex><span>pd.peers=127.0.0.1:8686
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>rpc.server_host=127.0.0.1
</span></span><span style=display:flex><span>rpc.server_port=8091
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>server.id=server-1
</span></span><span style=display:flex><span>server.role=master
</span></span></code></pre></div><p>èŠ‚ç‚¹ 2ï¼ˆå·¥ä½œèŠ‚ç‚¹ï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>usePD=true
</span></span><span style=display:flex><span>restserver.url=http://127.0.0.1:8082
</span></span><span style=display:flex><span>gremlinserver.url=http://127.0.0.1:8182
</span></span><span style=display:flex><span>pd.peers=127.0.0.1:8686
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>rpc.server_host=127.0.0.1
</span></span><span style=display:flex><span>rpc.server_port=8092
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>server.id=server-2
</span></span><span style=display:flex><span>server.role=worker
</span></span></code></pre></div><p>åŒæ—¶ï¼Œè¿˜éœ€è¦ä¿®æ”¹æ¯ä¸ªèŠ‚ç‚¹çš„ <code>gremlin-server.yaml</code> ä¸­çš„ç«¯å£é…ç½®ï¼š</p><p>èŠ‚ç‚¹ 1ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8181</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>èŠ‚ç‚¹ 2ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8182</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>åˆå§‹åŒ–æ•°æ®åº“ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> *hugegraph-<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>
</span></span><span style=display:flex><span>bin/init-store.sh
</span></span></code></pre></div><p>å¯åŠ¨ Serverï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-hugegraph.sh
</span></span></code></pre></div><p>ä½¿ç”¨åˆ†å¸ƒå¼å­˜å‚¨å¼•æ“çš„å¯åŠ¨é¡ºåºä¸ºï¼š</p><ol><li>å¯åŠ¨ HugeGraph-PD</li><li>å¯åŠ¨ HugeGraph-Store</li><li>åˆå§‹åŒ–æ•°æ®åº“ï¼ˆä»…é¦–æ¬¡ï¼‰</li><li>å¯åŠ¨ HugeGraph-Server</li></ol><p>éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:8081/graphs
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åº”è¿”å›ï¼š{&#34;graphs&#34;:[&#34;hugegraph&#34;]}</span>
</span></span></code></pre></div><p>åœæ­¢æœåŠ¡çš„é¡ºåºåº”è¯¥ä¸å¯åŠ¨é¡ºåºç›¸åï¼š</p><ol><li>åœæ­¢ HugeGraph-Server</li><li>åœæ­¢ HugeGraph-Store</li><li>åœæ­¢ HugeGraph-PD</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/stop-hugegraph.sh
</span></span></code></pre></div></details><h5 id=512-rocksdb--toplingdb>5.1.2 RocksDB / ToplingDB</h5><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  RocksDB é…ç½®åŠå¯åŠ¨æ–¹æ³•</summary><blockquote><p>RocksDB æ˜¯ä¸€ä¸ªåµŒå…¥å¼çš„æ•°æ®åº“ï¼Œä¸éœ€è¦æ‰‹åŠ¨å®‰è£…éƒ¨ç½²ï¼Œè¦æ±‚ GCC ç‰ˆæœ¬ >= 4.3.0ï¼ˆGLIBCXX_3.4.10ï¼‰ï¼Œå¦‚ä¸æ»¡è¶³ï¼Œéœ€è¦æå‰å‡çº§ GCC</p></blockquote><p>ä¿®æ”¹ <code>hugegraph.properties</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>backend=rocksdb
</span></span><span style=display:flex><span>serializer=binary
</span></span><span style=display:flex><span>rocksdb.data_path=.
</span></span><span style=display:flex><span>rocksdb.wal_path=.
</span></span></code></pre></div><p>åˆå§‹åŒ–æ•°æ®åº“ï¼ˆç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶æˆ–åœ¨ <code>conf/graphs/</code> ä¸‹æ‰‹åŠ¨æ·»åŠ äº†æ–°é…ç½®æ—¶éœ€è¦è¿›è¡Œåˆå§‹åŒ–ï¼‰</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> *hugegraph-<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>
</span></span><span style=display:flex><span>bin/init-store.sh
</span></span></code></pre></div><p>å¯åŠ¨ server</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-hugegraph.sh
</span></span><span style=display:flex><span>Starting HugeGraphServer...
</span></span><span style=display:flex><span>Connecting to HugeGraphServer <span style=color:#ce5c00;font-weight:700>(</span>http://127.0.0.1:8080/graphs<span style=color:#ce5c00;font-weight:700>)</span>....OK
</span></span></code></pre></div><p>æç¤ºçš„ url ä¸ <code>rest-server.properties</code> ä¸­é…ç½®çš„ <code>restserver.url</code> ä¸€è‡´</p><p><strong>ToplingDB (Beta)</strong>: ä½œä¸º RocksDB çš„é«˜æ€§èƒ½æ›¿ä»£æ–¹æ¡ˆï¼Œé…ç½®æ–¹å¼è¯·å‚è€ƒ: <a href=/cn/blog/2025/10/09/toplingdb-quick-start/>ToplingDB Quick Start</a></p></details><h5 id=513-hbase>5.1.3 HBase</h5><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  HBase é…ç½®åŠå¯åŠ¨æ–¹æ³•</summary><blockquote><p>ç”¨æˆ·éœ€è‡ªè¡Œå®‰è£… HBaseï¼Œè¦æ±‚ç‰ˆæœ¬ 2.0 ä»¥ä¸Šï¼Œ<a href=https://hbase.apache.org/downloads.html>ä¸‹è½½åœ°å€</a></p></blockquote><p>ä¿®æ”¹ hugegraph.properties</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>backend=hbase
</span></span><span style=display:flex><span>serializer=hbase
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># hbase backend config
</span></span><span style=display:flex><span>hbase.hosts=localhost
</span></span><span style=display:flex><span>hbase.port=2181
</span></span><span style=display:flex><span># Note: recommend to modify the HBase partition number by the actual/env data amount &amp; RS amount before init store
</span></span><span style=display:flex><span># it may influence the loading speed a lot
</span></span><span style=display:flex><span>#hbase.enable_partition=true
</span></span><span style=display:flex><span>#hbase.vertex_partitions=10
</span></span><span style=display:flex><span>#hbase.edge_partitions=30
</span></span></code></pre></div><p>åˆå§‹åŒ–æ•°æ®åº“ï¼ˆç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶æˆ–åœ¨ <code>conf/graphs/</code> ä¸‹æ‰‹åŠ¨æ·»åŠ äº†æ–°é…ç½®æ—¶éœ€è¦è¿›è¡Œåˆå§‹åŒ–ï¼‰</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> *hugegraph-<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>
</span></span><span style=display:flex><span>bin/init-store.sh
</span></span></code></pre></div><p>å¯åŠ¨ server</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-hugegraph.sh
</span></span><span style=display:flex><span>Starting HugeGraphServer...
</span></span><span style=display:flex><span>Connecting to HugeGraphServer <span style=color:#ce5c00;font-weight:700>(</span>http://127.0.0.1:8080/graphs<span style=color:#ce5c00;font-weight:700>)</span>....OK
</span></span></code></pre></div><blockquote><p>æ›´å¤šå…¶å®ƒåç«¯é…ç½®å¯å‚è€ƒ<a href=/docs/config/config-option>é…ç½®é¡¹ä»‹ç»</a></p></blockquote></details><h5 id=514-mysql>5.1.4 MySQL</h5><blockquote><p>âš ï¸ <strong>å·²åºŸå¼ƒ</strong>: æ­¤åç«¯ä» HugeGraph 1.7.0 ç‰ˆæœ¬å¼€å§‹å·²ç§»é™¤ã€‚å¦‚éœ€ä½¿ç”¨ï¼Œè¯·å‚è€ƒ 1.5.x ç‰ˆæœ¬æ–‡æ¡£ã€‚</p></blockquote><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  MySQL é…ç½®åŠå¯åŠ¨æ–¹æ³•</summary><blockquote><p>ç”±äº MySQL æ˜¯åœ¨ GPL åè®®ä¸‹ï¼Œä¸ Apache åè®®ä¸å…¼å®¹ï¼Œç”¨æˆ·éœ€è‡ªè¡Œå®‰è£… MySQLï¼Œ<a href=https://dev.mysql.com/downloads/mysql/>ä¸‹è½½åœ°å€</a></p></blockquote><p>ä¸‹è½½ MySQL çš„<a href=https://repo1.maven.org/maven2/mysql/mysql-connector-java/>é©±åŠ¨åŒ…</a>ï¼Œæ¯”å¦‚ <code>mysql-connector-java-8.0.30.jar</code>ï¼Œå¹¶æ”¾å…¥ HugeGraph-Server çš„ <code>lib</code> ç›®å½•ä¸‹ã€‚</p><p>ä¿®æ”¹ <code>hugegraph.properties</code>ï¼Œé…ç½®æ•°æ®åº“ URLï¼Œç”¨æˆ·åå’Œå¯†ç ï¼Œ<code>store</code> æ˜¯æ•°æ®åº“åï¼Œå¦‚æœæ²¡æœ‰ä¼šè¢«è‡ªåŠ¨åˆ›å»ºã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>backend=mysql
</span></span><span style=display:flex><span>serializer=mysql
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>store=hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># mysql backend config
</span></span><span style=display:flex><span>jdbc.driver=com.mysql.cj.jdbc.Driver
</span></span><span style=display:flex><span>jdbc.url=jdbc:mysql://127.0.0.1:3306
</span></span><span style=display:flex><span>jdbc.username=
</span></span><span style=display:flex><span>jdbc.password=
</span></span><span style=display:flex><span>jdbc.reconnect_max_times=3
</span></span><span style=display:flex><span>jdbc.reconnect_interval=3
</span></span><span style=display:flex><span>jdbc.ssl_mode=false
</span></span></code></pre></div><p>åˆå§‹åŒ–æ•°æ®åº“ï¼ˆç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶æˆ–åœ¨ <code>conf/graphs/</code> ä¸‹æ‰‹åŠ¨æ·»åŠ äº†æ–°é…ç½®æ—¶éœ€è¦è¿›è¡Œåˆå§‹åŒ–ï¼‰</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> *hugegraph-<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>
</span></span><span style=display:flex><span>bin/init-store.sh
</span></span></code></pre></div><p>å¯åŠ¨ server</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-hugegraph.sh
</span></span><span style=display:flex><span>Starting HugeGraphServer...
</span></span><span style=display:flex><span>Connecting to HugeGraphServer <span style=color:#ce5c00;font-weight:700>(</span>http://127.0.0.1:8080/graphs<span style=color:#ce5c00;font-weight:700>)</span>....OK
</span></span></code></pre></div></details><h5 id=515-cassandra>5.1.5 Cassandra</h5><blockquote><p>âš ï¸ <strong>å·²åºŸå¼ƒ</strong>: æ­¤åç«¯ä» HugeGraph 1.7.0 ç‰ˆæœ¬å¼€å§‹å·²ç§»é™¤ã€‚å¦‚éœ€ä½¿ç”¨ï¼Œè¯·å‚è€ƒ 1.5.x ç‰ˆæœ¬æ–‡æ¡£ã€‚</p></blockquote><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  Cassandra é…ç½®åŠå¯åŠ¨æ–¹æ³•</summary><blockquote><p>ç”¨æˆ·éœ€è‡ªè¡Œå®‰è£… Cassandraï¼Œè¦æ±‚ç‰ˆæœ¬ 3.0 ä»¥ä¸Šï¼Œ<a href=http://cassandra.apache.org/download/>ä¸‹è½½åœ°å€</a></p></blockquote><p>ä¿®æ”¹ hugegraph.properties</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>backend=cassandra
</span></span><span style=display:flex><span>serializer=cassandra
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># cassandra backend config
</span></span><span style=display:flex><span>cassandra.host=localhost
</span></span><span style=display:flex><span>cassandra.port=9042
</span></span><span style=display:flex><span>cassandra.username=
</span></span><span style=display:flex><span>cassandra.password=
</span></span><span style=display:flex><span>#cassandra.connect_timeout=5
</span></span><span style=display:flex><span>#cassandra.read_timeout=20
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#cassandra.keyspace.strategy=SimpleStrategy
</span></span><span style=display:flex><span>#cassandra.keyspace.replication=3
</span></span></code></pre></div><p>åˆå§‹åŒ–æ•°æ®åº“ï¼ˆç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶æˆ–åœ¨ <code>conf/graphs/</code> ä¸‹æ‰‹åŠ¨æ·»åŠ äº†æ–°é…ç½®æ—¶éœ€è¦è¿›è¡Œåˆå§‹åŒ–ï¼‰</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> *hugegraph-<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>
</span></span><span style=display:flex><span>bin/init-store.sh
</span></span><span style=display:flex><span>Initing HugeGraph Store...
</span></span><span style=display:flex><span>2017-12-01 11:26:51 <span style=color:#0000cf;font-weight:700>1424</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.HugeGraph <span style=color:#ce5c00;font-weight:700>[]</span> - Opening backend store: <span style=color:#4e9a06>&#39;cassandra&#39;</span>
</span></span><span style=display:flex><span>2017-12-01 11:26:52 <span style=color:#0000cf;font-weight:700>2389</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Failed to connect keyspace: hugegraph, try init keyspace later
</span></span><span style=display:flex><span>2017-12-01 11:26:52 <span style=color:#0000cf;font-weight:700>2472</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Failed to connect keyspace: hugegraph, try init keyspace later
</span></span><span style=display:flex><span>2017-12-01 11:26:52 <span style=color:#0000cf;font-weight:700>2557</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Failed to connect keyspace: hugegraph, try init keyspace later
</span></span><span style=display:flex><span>2017-12-01 11:26:53 <span style=color:#0000cf;font-weight:700>2797</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Store initialized: huge_graph
</span></span><span style=display:flex><span>2017-12-01 11:26:53 <span style=color:#0000cf;font-weight:700>2945</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Store initialized: huge_schema
</span></span><span style=display:flex><span>2017-12-01 11:26:53 <span style=color:#0000cf;font-weight:700>3044</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Store initialized: huge_index
</span></span><span style=display:flex><span>2017-12-01 11:26:53 <span style=color:#0000cf;font-weight:700>3046</span>  <span style=color:#ce5c00;font-weight:700>[</span>pool-3-thread-1<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.Transaction <span style=color:#ce5c00;font-weight:700>[]</span> - Clear cache on event <span style=color:#4e9a06>&#39;store.init&#39;</span>
</span></span><span style=display:flex><span>2017-12-01 11:26:59 <span style=color:#0000cf;font-weight:700>9720</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.HugeGraph <span style=color:#ce5c00;font-weight:700>[]</span> - Opening backend store: <span style=color:#4e9a06>&#39;cassandra&#39;</span>
</span></span><span style=display:flex><span>2017-12-01 11:27:00 <span style=color:#0000cf;font-weight:700>9805</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Failed to connect keyspace: hugegraph1, try init keyspace later
</span></span><span style=display:flex><span>2017-12-01 11:27:00 <span style=color:#0000cf;font-weight:700>9886</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Failed to connect keyspace: hugegraph1, try init keyspace later
</span></span><span style=display:flex><span>2017-12-01 11:27:00 <span style=color:#0000cf;font-weight:700>9955</span>  <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Failed to connect keyspace: hugegraph1, try init keyspace later
</span></span><span style=display:flex><span>2017-12-01 11:27:00 <span style=color:#0000cf;font-weight:700>10175</span> <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Store initialized: huge_graph
</span></span><span style=display:flex><span>2017-12-01 11:27:00 <span style=color:#0000cf;font-weight:700>10321</span> <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Store initialized: huge_schema
</span></span><span style=display:flex><span>2017-12-01 11:27:00 <span style=color:#0000cf;font-weight:700>10413</span> <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.store.cassandra.CassandraStore <span style=color:#ce5c00;font-weight:700>[]</span> - Store initialized: huge_index
</span></span><span style=display:flex><span>2017-12-01 11:27:00 <span style=color:#0000cf;font-weight:700>10413</span> <span style=color:#ce5c00;font-weight:700>[</span>pool-3-thread-1<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> org.apache.hugegraph.backend.Transaction <span style=color:#ce5c00;font-weight:700>[]</span> - Clear cache on event <span style=color:#4e9a06>&#39;store.init&#39;</span>
</span></span></code></pre></div><p>å¯åŠ¨ server</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-hugegraph.sh
</span></span><span style=display:flex><span>Starting HugeGraphServer...
</span></span><span style=display:flex><span>Connecting to HugeGraphServer <span style=color:#ce5c00;font-weight:700>(</span>http://127.0.0.1:8080/graphs<span style=color:#ce5c00;font-weight:700>)</span>....OK
</span></span></code></pre></div></details><h5 id=516-memory>5.1.6 Memory</h5><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  Memory é…ç½®åŠå¯åŠ¨æ–¹æ³•</summary><p>ä¿®æ”¹ hugegraph.properties</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>backend=memory
</span></span><span style=display:flex><span>serializer=text
</span></span></code></pre></div><blockquote><p>Memory åç«¯çš„æ•°æ®æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­æ— æ³•æŒä¹…åŒ–çš„ï¼Œä¸éœ€è¦åˆå§‹åŒ–åç«¯ï¼Œè¿™ä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªä¸éœ€è¦åˆå§‹åŒ–çš„åç«¯ã€‚</p></blockquote><p>å¯åŠ¨ server</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-hugegraph.sh
</span></span><span style=display:flex><span>Starting HugeGraphServer...
</span></span><span style=display:flex><span>Connecting to HugeGraphServer <span style=color:#ce5c00;font-weight:700>(</span>http://127.0.0.1:8080/graphs<span style=color:#ce5c00;font-weight:700>)</span>....OK
</span></span></code></pre></div><p>æç¤ºçš„ url ä¸ rest-server.properties ä¸­é…ç½®çš„ restserver.url ä¸€è‡´</p></details><h5 id=517-scylladb>5.1.7 ScyllaDB</h5><blockquote><p>âš ï¸ <strong>å·²åºŸå¼ƒ</strong>: æ­¤åç«¯ä» HugeGraph 1.7.0 ç‰ˆæœ¬å¼€å§‹å·²ç§»é™¤ã€‚å¦‚éœ€ä½¿ç”¨ï¼Œè¯·å‚è€ƒ 1.5.x ç‰ˆæœ¬æ–‡æ¡£ã€‚</p></blockquote><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  ScyllaDB é…ç½®åŠå¯åŠ¨æ–¹æ³•</summary><blockquote><p>ç”¨æˆ·éœ€è‡ªè¡Œå®‰è£… ScyllaDBï¼Œæ¨èç‰ˆæœ¬ 2.1 ä»¥ä¸Šï¼Œ<a href=https://docs.scylladb.com/getting-started/>ä¸‹è½½åœ°å€</a></p></blockquote><p>ä¿®æ”¹ hugegraph.properties</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>backend=scylladb
</span></span><span style=display:flex><span>serializer=scylladb
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># cassandra backend config
</span></span><span style=display:flex><span>cassandra.host=localhost
</span></span><span style=display:flex><span>cassandra.port=9042
</span></span><span style=display:flex><span>cassandra.username=
</span></span><span style=display:flex><span>cassandra.password=
</span></span><span style=display:flex><span>#cassandra.connect_timeout=5
</span></span><span style=display:flex><span>#cassandra.read_timeout=20
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#cassandra.keyspace.strategy=SimpleStrategy
</span></span><span style=display:flex><span>#cassandra.keyspace.replication=3
</span></span></code></pre></div><p>ç”±äº scylladb æ•°æ®åº“æœ¬èº«å°±æ˜¯åŸºäº cassandra çš„"ä¼˜åŒ–ç‰ˆ"ï¼Œå¦‚æœç”¨æˆ·æœªå®‰è£… scylladbï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ cassandra ä½œä¸ºåç«¯å­˜å‚¨ï¼Œåªéœ€è¦æŠŠ backend å’Œ serializer ä¿®æ”¹ä¸º scylladbï¼Œhost å’Œ post æŒ‡å‘ cassandra é›†ç¾¤çš„ seeds å’Œ port å³å¯ï¼Œä½†æ˜¯å¹¶ä¸å»ºè®®è¿™æ ·åšï¼Œè¿™æ ·å‘æŒ¥ä¸å‡º scylladb æœ¬èº«çš„ä¼˜åŠ¿äº†ã€‚</p><p>åˆå§‹åŒ–æ•°æ®åº“ï¼ˆç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶æˆ–åœ¨ <code>conf/graphs/</code> ä¸‹æ‰‹åŠ¨æ·»åŠ äº†æ–°é…ç½®æ—¶éœ€è¦è¿›è¡Œåˆå§‹åŒ–ï¼‰</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> *hugegraph-<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>
</span></span><span style=display:flex><span>bin/init-store.sh
</span></span></code></pre></div><p>å¯åŠ¨ server</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-hugegraph.sh
</span></span><span style=display:flex><span>Starting HugeGraphServer...
</span></span><span style=display:flex><span>Connecting to HugeGraphServer <span style=color:#ce5c00;font-weight:700>(</span>http://127.0.0.1:8080/graphs<span style=color:#ce5c00;font-weight:700>)</span>....OK
</span></span></code></pre></div></details><h5 id=518-å¯åŠ¨-server-çš„æ—¶å€™åˆ›å»ºç¤ºä¾‹å›¾>5.1.8 å¯åŠ¨ server çš„æ—¶å€™åˆ›å»ºç¤ºä¾‹å›¾</h5><p>åœ¨è„šæœ¬å¯åŠ¨æ—¶å€™æºå¸¦ <code>-p true</code>å‚æ•°ï¼Œè¡¨ç¤º preload, å³åˆ›å»ºç¤ºä¾‹å›¾å›¾</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>bin/start-hugegraph.sh -p true
</span></span><span style=display:flex><span>Starting HugeGraphServer in daemon mode...
</span></span><span style=display:flex><span>Connecting to HugeGraphServer (http://127.0.0.1:8080/graphs)......OK
</span></span></code></pre></div><p>å¹¶ä¸”ä½¿ç”¨ RESTful API è¯·æ±‚ <code>HugeGraphServer</code> å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>curl</span> <span style=color:#4e9a06>&#34;http://localhost:8080/graphs/hugegraph/graph/vertices&#34;</span> <span style=color:#ce5c00;font-weight:700>|</span> <span style=color:#000>gunzip</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;vertices&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>[{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;2:lop&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;lop&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;java&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>328</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1:josh&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;josh&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>32</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1:marko&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>29</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1:peter&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;peter&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>35</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;Shanghai&#34;</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1:vadas&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vadas&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>27</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;Hongkong&#34;</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;2:ripple&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;ripple&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;java&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>199</span><span style=color:#000;font-weight:700>}}]}</span>
</span></span></code></pre></div><p>ä»£è¡¨åˆ›å»ºç¤ºä¾‹å›¾æˆåŠŸã€‚</p><h4 id=52-ä½¿ç”¨-docker>5.2 ä½¿ç”¨ Docker</h4><p>åœ¨ <a href=#31-%E4%BD%BF%E7%94%A8-docker-%E5%AE%B9%E5%99%A8-%E4%BE%BF%E4%BA%8E%E6%B5%8B%E8%AF%95>3.1 ä½¿ç”¨ Docker å®¹å™¨</a>ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ <code>docker</code> éƒ¨ç½² <code>hugegraph-server</code>, æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–çš„åç«¯å­˜å‚¨æˆ–è€…è®¾ç½®å‚æ•°åœ¨ sever å¯åŠ¨çš„æ—¶å€™åŠ è½½æ ·ä¾‹å›¾</p><h5 id=521-ä½¿ç”¨-cassandra-ä½œä¸ºåç«¯>5.2.1 ä½¿ç”¨ Cassandra ä½œä¸ºåç«¯</h5><blockquote><p>âš ï¸ <strong>å·²åºŸå¼ƒ</strong>: Cassandra åç«¯ä» HugeGraph 1.7.0 ç‰ˆæœ¬å¼€å§‹å·²ç§»é™¤ã€‚å¦‚éœ€ä½¿ç”¨ï¼Œè¯·å‚è€ƒ 1.5.x ç‰ˆæœ¬æ–‡æ¡£ã€‚</p></blockquote><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  Cassandra é…ç½®åŠå¯åŠ¨æ–¹æ³•</summary><p>åœ¨ä½¿ç”¨ Docker çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Cassandra ä½œä¸ºåç«¯å­˜å‚¨ã€‚æˆ‘ä»¬æ›´åŠ æ¨èç›´æ¥ä½¿ç”¨ docker-compose æ¥å¯¹äº server ä»¥åŠ Cassandra è¿›è¡Œç»Ÿä¸€ç®¡ç†</p><p>æ ·ä¾‹çš„ <code>docker-compose.yml</code> å¯ä»¥åœ¨ <a href=https://github.com/apache/hugegraph/blob/master/hugegraph-server/hugegraph-dist/docker/example/docker-compose-cassandra.yml>github</a> ä¸­è·å–ï¼Œä½¿ç”¨ <code>docker-compose up -d</code> å¯åŠ¨ã€‚(å¦‚æœä½¿ç”¨ cassandra 4.0 ç‰ˆæœ¬ä½œä¸ºåç«¯å­˜å‚¨ï¼Œåˆ™éœ€è¦å¤§çº¦ä¸¤ä¸ªåˆ†é’Ÿåˆå§‹åŒ–ï¼Œè¯·è€å¿ƒç­‰å¾…)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;3&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/hugegraph</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>cas-server</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#0000cf;font-weight:700>8080</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8080</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>hugegraph.backend</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>cassandra</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>hugegraph.serializer</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>cassandra</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>hugegraph.cassandra.host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>cas-cassandra</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>hugegraph.cassandra.port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>9042</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>networks</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>ca-network</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>depends_on</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>cassandra</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>healthcheck</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>test</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;CMD&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;bin/gremlin-console.sh&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;--&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;-e&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;scripts/remote-connect.groovy&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>interval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>10s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>timeout</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>30s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>retries</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>cassandra</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>cassandra:4</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>cas-cassandra</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#0000cf;font-weight:700>7000</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>7000</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#0000cf;font-weight:700>9042</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>9042</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>security_opt</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>seccomp:unconfined</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>networks</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>ca-network</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>healthcheck</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>test</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;CMD&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;cqlsh&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;--execute&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;describe keyspaces;&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>interval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>10s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>timeout</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>30s</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>retries</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>networks</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>ca-network</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>hugegraph-data</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>åœ¨è¿™ä¸ª yaml ä¸­ï¼Œéœ€è¦åœ¨ç¯å¢ƒå˜é‡ä¸­ä»¥ <code>hugegraph.&lt;parameter_name></code>çš„å½¢å¼è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œé…ç½® Cassandra ç›¸å…³çš„å‚æ•°ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œåœ¨ <code>hugegraph.properties</code> é…ç½®æ–‡ä»¶ä¸­ï¼Œæä¾›äº† <code>backend=xxx</code>, <code>cassandra.host=xxx</code> ç­‰é…ç½®é¡¹ï¼Œä¸ºäº†é…ç½®è¿™äº›é…ç½®é¡¹ï¼Œåœ¨ä¼ é€’ç¯å¢ƒå˜é‡çš„è¿‡ç¨‹ä¹‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿™äº›é…ç½®é¡¹å‰åŠ ä¸Š <code>hugegrpah.</code>ï¼Œå³ <code>hugegraph.backend</code> å’Œ <code>hugegraph.cassandra.host</code>ã€‚</p><p>å…¶ä»–é…ç½®å¯ä»¥å‚ç…§ <a href=#4-%E9%85%8D%E7%BD%AE>4 é…ç½®</a></p></details><h5 id=522-å¯åŠ¨-server-çš„æ—¶å€™åˆ›å»ºç¤ºä¾‹å›¾>5.2.2 å¯åŠ¨ server çš„æ—¶å€™åˆ›å»ºç¤ºä¾‹å›¾</h5><p>åœ¨ docker å¯åŠ¨çš„æ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡ <code>PRELOAD=true</code>, ä»è€Œå®ç°å¯åŠ¨è„šæœ¬çš„æ—¶å€™åŠ è½½æ•°æ®ã€‚</p><ol><li><p>ä½¿ç”¨<code>docker run</code></p><p>ä½¿ç”¨ <code>docker run -itd --name=server -p 8080:8080 -e PRELOAD=true hugegraph/hugegraph:1.7.0</code></p></li><li><p>ä½¿ç”¨<code>docker-compose</code></p><p>åˆ›å»º<code>docker-compose.yml</code>ï¼Œå…·ä½“æ–‡ä»¶å¦‚ä¸‹ï¼Œåœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½® PRELOAD=trueã€‚å…¶ä¸­ï¼Œ<a href=https://github.com/apache/hugegraph/blob/master/hugegraph-server/hugegraph-dist/src/assembly/static/scripts/example.groovy><code>example.groovy</code></a> æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„è„šæœ¬ï¼Œç”¨äºé¢„åŠ è½½æ ·ä¾‹æ•°æ®ã€‚å¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥é€šè¿‡æŒ‚è½½æ–°çš„ <code>example.groovy</code> è„šæœ¬æ”¹å˜é¢„åŠ è½½çš„æ•°æ®ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;3&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/hugegraph:1.7.0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>server</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>PRELOAD=true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>PASSWORD=xxx</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>/path/to/yourscript:/hugegraph/scripts/example.groovy</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#0000cf;font-weight:700>8080</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8080</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>ä½¿ç”¨å‘½ä»¤ <code>docker-compose up -d</code> å¯åŠ¨å®¹å™¨</p></li></ol><p>ä½¿ç”¨ RESTful API è¯·æ±‚ <code>HugeGraphServer</code> å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>curl</span> <span style=color:#4e9a06>&#34;http://localhost:8080/graphs/hugegraph/graph/vertices&#34;</span> <span style=color:#ce5c00;font-weight:700>|</span> <span style=color:#000>gunzip</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;vertices&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>[{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;2:lop&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;lop&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;java&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>328</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1:josh&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;josh&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>32</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1:marko&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>29</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1:peter&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;peter&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>35</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;Shanghai&#34;</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1:vadas&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vadas&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>27</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;Hongkong&#34;</span><span style=color:#000;font-weight:700>}},{</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;2:ripple&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;properties&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;ripple&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;java&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>199</span><span style=color:#000;font-weight:700>}}]}</span>
</span></span></code></pre></div><p>ä»£è¡¨åˆ›å»ºç¤ºä¾‹å›¾æˆåŠŸã€‚</p><h3 id=6-è®¿é—®-server>6 è®¿é—® Server</h3><h4 id=61-æœåŠ¡å¯åŠ¨çŠ¶æ€æ ¡éªŒ>6.1 æœåŠ¡å¯åŠ¨çŠ¶æ€æ ¡éªŒ</h4><p><code>jps</code> æŸ¥çœ‹æœåŠ¡è¿›ç¨‹</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>jps
</span></span><span style=display:flex><span><span style=color:#0000cf;font-weight:700>6475</span> HugeGraphServer
</span></span></code></pre></div><p><code>curl</code> è¯·æ±‚ RESTful API</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>echo</span> <span style=color:#4e9a06>`</span>curl -o /dev/null -s -w %<span style=color:#ce5c00;font-weight:700>{</span>http_code<span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#4e9a06>&#34;http://localhost:8080/graphs/hugegraph/graph/vertices&#34;</span><span style=color:#4e9a06>`</span>
</span></span></code></pre></div><p>è¿”å›ç»“æœ 200ï¼Œä»£è¡¨ server å¯åŠ¨æ­£å¸¸</p><h4 id=62-è¯·æ±‚-server>6.2 è¯·æ±‚ Server</h4><p>HugeGraphServer çš„ RESTful API åŒ…æ‹¬å¤šç§ç±»å‹çš„èµ„æºï¼Œå…¸å‹çš„åŒ…æ‹¬ graphã€schemaã€gremlinã€traverser å’Œ task</p><ul><li><code>graph</code> åŒ…å« <code>vertices</code>ã€<code>edges</code></li><li><code>schema</code> åŒ…å« <code>vertexlabels</code>ã€<code>propertykeys</code>ã€<code>edgelabels</code>ã€<code>indexlabels</code></li><li><code>gremlin</code> åŒ…å«å„ç§ <code>Gremlin</code> è¯­å¥ï¼Œå¦‚ <code>g.v()</code>ï¼Œå¯ä»¥åŒæ­¥æˆ–è€…å¼‚æ­¥æ‰§è¡Œ</li><li><code>traverser</code> åŒ…å«å„ç§é«˜çº§æŸ¥è¯¢ï¼ŒåŒ…æ‹¬æœ€çŸ­è·¯å¾„ã€äº¤å‰ç‚¹ã€N æ­¥å¯è¾¾é‚»å±…ç­‰</li><li><code>task</code> åŒ…å«å¼‚æ­¥ä»»åŠ¡çš„æŸ¥è¯¢å’Œåˆ é™¤</li></ul><h5 id=621-è·å–-hugegraph-çš„é¡¶ç‚¹åŠç›¸å…³å±æ€§>6.2.1 è·å– <code>hugegraph</code> çš„é¡¶ç‚¹åŠç›¸å…³å±æ€§</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:8080/graphs/hugegraph/graph/vertices 
</span></span></code></pre></div><p><em>è¯´æ˜</em></p><ol><li><p>ç”±äºå›¾çš„ç‚¹å’Œè¾¹å¾ˆå¤šï¼Œå¯¹äº list å‹çš„è¯·æ±‚ï¼Œæ¯”å¦‚è·å–æ‰€æœ‰é¡¶ç‚¹ï¼Œè·å–æ‰€æœ‰è¾¹ç­‰ï¼ŒServer ä¼šå°†æ•°æ®å‹ç¼©å†è¿”å›ï¼Œæ‰€ä»¥ä½¿ç”¨ curl æ—¶å¾—åˆ°ä¸€å †ä¹±ç ï¼Œå¯ä»¥é‡å®šå‘è‡³ <code>gunzip</code> è¿›è¡Œè§£å‹ã€‚æ¨èä½¿ç”¨ Chrome æµè§ˆå™¨ + Restlet æ’ä»¶å‘é€ HTTP è¯·æ±‚è¿›è¡Œæµ‹è¯•ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>curl &#34;http://localhost:8080/graphs/hugegraph/graph/vertices&#34; | gunzip
</span></span></code></pre></div></li><li><p>å½“å‰ HugeGraphServer çš„é»˜è®¤é…ç½®åªèƒ½æ˜¯æœ¬æœºè®¿é—®ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®ï¼Œä½¿å…¶èƒ½åœ¨å…¶ä»–æœºå™¨è®¿é—®ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>vim conf/rest-server.properties
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>restserver.url=http://0.0.0.0:8080
</span></span></code></pre></div></li></ol><p>å“åº”ä½“å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;vertices&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2lop&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;properties&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&#34;price&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;value&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>328</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;value&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;lop&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&#34;lang&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;value&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;java&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1josh&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;properties&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;value&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;josh&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&#34;age&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&#34;value&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>32</span>
</span></span><span style=display:flex><span>                    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>                <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>            <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#a40000>...</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p id=swaggerui-example></p><p>è¯¦ç»†çš„ API è¯·å‚è€ƒ <a href=/docs/clients/restful-api>RESTful-API</a> æ–‡æ¡£ã€‚</p><p>å¦å¤–ä¹Ÿå¯ä»¥é€šè¿‡è®¿é—® <code>localhost:8080/swagger-ui/index.html</code> æŸ¥çœ‹ APIã€‚</p><div style=text-align:center><img src=/docs/images/images-server/swagger-ui.png alt=image></div><p>åœ¨ä½¿ç”¨ Swagger UI è°ƒè¯• HugeGraph æä¾›çš„ API æ—¶ï¼Œå¦‚æœ HugeGraph Server å¼€å¯äº†é‰´æƒæ¨¡å¼ï¼Œå¯ä»¥åœ¨ Swagger é¡µé¢è¾“å…¥é‰´æƒä¿¡æ¯ã€‚</p><div style=text-align:center><img src=/docs/images/images-server/swagger-ui-where-set-auth-example.png alt=image></div><p>å½“å‰ HugeGraph æ”¯æŒåŸºäº Basic å’Œ Bearer ä¸¤ç§å½¢å¼è®¾ç½®é‰´æƒä¿¡æ¯ã€‚</p><div style=text-align:center><img src=/docs/images/images-server/swagger-ui-set-auth-example.png alt=image></div><h3 id=7-åœæ­¢-server>7 åœæ­¢ Server</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>$cd</span> *hugegraph-<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>
</span></span><span style=display:flex><span><span style=color:#000>$bin</span>/stop-hugegraph.sh
</span></span></code></pre></div><h3 id=8-ä½¿ç”¨-intellij-idea-è°ƒè¯•-server>8 ä½¿ç”¨ IntelliJ IDEA è°ƒè¯• Server</h3><p>è¯·å‚è€ƒ<a href=/docs/contribution-guidelines/hugegraph-server-idea-setup>åœ¨ IDEA ä¸­é…ç½® Server å¼€å‘ç¯å¢ƒ</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-e95a3dd8d4e602df35b0b6d668d7f31b>1.2 - HugeGraph-PD Quick Start</h1><h3 id=1-hugegraph-pd-æ¦‚è¿°>1 HugeGraph-PD æ¦‚è¿°</h3><p>HugeGraph-PD (Placement Driver) æ˜¯ HugeGraph åˆ†å¸ƒå¼ç‰ˆæœ¬çš„å…ƒæ•°æ®ç®¡ç†ç»„ä»¶ï¼Œè´Ÿè´£ç®¡ç†å›¾æ•°æ®çš„åˆ†å¸ƒå’Œå­˜å‚¨èŠ‚ç‚¹çš„åè°ƒã€‚å®ƒåœ¨åˆ†å¸ƒå¼ HugeGraph ä¸­æ‰®æ¼”ç€æ ¸å¿ƒè§’è‰²ï¼Œç»´æŠ¤é›†ç¾¤çŠ¶æ€å¹¶åè°ƒ HugeGraph-Store å­˜å‚¨èŠ‚ç‚¹ã€‚</p><h3 id=2-ä¾èµ–>2 ä¾èµ–</h3><h4 id=21-å‰ç½®æ¡ä»¶>2.1 å‰ç½®æ¡ä»¶</h4><ul><li>æ“ä½œç³»ç»Ÿï¼šLinux æˆ– MacOSï¼ˆWindows å°šæœªç»è¿‡å®Œæ•´æµ‹è¯•ï¼‰</li><li>Java ç‰ˆæœ¬ï¼šâ‰¥ 11</li><li>Maven ç‰ˆæœ¬ï¼šâ‰¥ 3.5.0</li></ul><h3 id=3-éƒ¨ç½²>3 éƒ¨ç½²</h3><p>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥éƒ¨ç½² HugeGraph-PD ç»„ä»¶ï¼š</p><ul><li>æ–¹å¼ 1ï¼šä¸‹è½½ tar åŒ…</li><li>æ–¹å¼ 2ï¼šæºç ç¼–è¯‘</li></ul><h4 id=31-ä¸‹è½½-tar-åŒ…>3.1 ä¸‹è½½ tar åŒ…</h4><p>ä» Apache HugeGraph å®˜æ–¹ä¸‹è½½é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ HugeGraph-PDï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç”¨æœ€æ–°ç‰ˆæœ¬å·æ›¿æ¢ {version}ï¼Œä¾‹å¦‚ 1.5.0</span>
</span></span><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>/apache-hugegraph-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>.tar.gz  
</span></span><span style=display:flex><span>tar zxf apache-hugegraph-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>.tar.gz
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> apache-hugegraph-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>/apache-hugegraph-pd-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=32-æºç ç¼–è¯‘>3.2 æºç ç¼–è¯‘</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. å…‹éš†æºä»£ç </span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/hugegraph.git
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. ç¼–è¯‘é¡¹ç›®</span>
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> hugegraph
</span></span><span style=display:flex><span>mvn clean install -DskipTests<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. ç¼–è¯‘æˆåŠŸåï¼ŒPD æ¨¡å—çš„æ„å»ºäº§ç‰©å°†ä½äº</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#    apache-hugegraph-incubating-{version}/apache-hugegraph-pd-incubating-{version}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#    target/apache-hugegraph-incubating-{version}.tar.gz</span>
</span></span></code></pre></div><h3 id=4-é…ç½®>4 é…ç½®</h3><p>PD çš„ä¸»è¦é…ç½®æ–‡ä»¶ä¸º <code>conf/application.yml</code>ï¼Œä»¥ä¸‹æ˜¯å…³é”®é…ç½®é¡¹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>spring</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>application</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph-pd</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>grpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># é›†ç¾¤æ¨¡å¼ä¸‹çš„ gRPC ç«¯å£</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8686</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># REST æœåŠ¡ç«¯å£å·</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8620</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>pd</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># å­˜å‚¨è·¯å¾„</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>data-path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>./pd_data</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># è‡ªåŠ¨æ‰©å®¹çš„æ£€æŸ¥å‘¨æœŸï¼ˆç§’ï¼‰</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>patrol-interval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1800</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># åˆå§‹ store åˆ—è¡¨ï¼Œåœ¨åˆ—è¡¨å†…çš„ store è‡ªåŠ¨æ¿€æ´»</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>initial-store-count</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># store çš„é…ç½®ä¿¡æ¯ï¼Œæ ¼å¼ä¸º IP:gRPCç«¯å£</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>initial-store-list</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8500</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>raft</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># é›†ç¾¤æ¨¡å¼</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8610</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># é›†ç¾¤ä¸­æ‰€æœ‰ PD èŠ‚ç‚¹çš„ raft åœ°å€</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>peers-list</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8610</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>store</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># store ä¸‹çº¿æ—¶é—´ï¼ˆç§’ï¼‰ã€‚è¶…è¿‡è¯¥æ—¶é—´ï¼Œè®¤ä¸º store æ°¸ä¹…ä¸å¯ç”¨ï¼Œåˆ†é…å‰¯æœ¬åˆ°å…¶ä»–æœºå™¨</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>max-down-time</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>172800</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># æ˜¯å¦å¼€å¯ store ç›‘æ§æ•°æ®å­˜å‚¨</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>monitor_data_enabled</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># ç›‘æ§æ•°æ®çš„é—´éš”</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>monitor_data_interval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>minute</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># ç›‘æ§æ•°æ®çš„ä¿ç•™æ—¶é—´</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>monitor_data_retention</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>day</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>initial-store-count</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>partition</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># é»˜è®¤æ¯ä¸ªåˆ†åŒºå‰¯æœ¬æ•°</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>default-shard-count</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># é»˜è®¤æ¯æœºå™¨æœ€å¤§å‰¯æœ¬æ•°</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>store-max-shard-count</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>12</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>å¯¹äºå¤šèŠ‚ç‚¹éƒ¨ç½²ï¼Œéœ€è¦ä¿®æ”¹å„èŠ‚ç‚¹çš„ç«¯å£å’Œåœ°å€é…ç½®ï¼Œç¡®ä¿å„èŠ‚ç‚¹ä¹‹é—´èƒ½å¤Ÿæ­£å¸¸é€šä¿¡ã€‚</p><h3 id=5-å¯åŠ¨ä¸åœæ­¢>5 å¯åŠ¨ä¸åœæ­¢</h3><h4 id=51-å¯åŠ¨-pd>5.1 å¯åŠ¨ PD</h4><p>åœ¨ PD å®‰è£…ç›®å½•ä¸‹æ‰§è¡Œï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/start-hugegraph-pd.sh
</span></span></code></pre></div><p>å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥åœ¨ <code>logs/hugegraph-pd-stdout.log</code> ä¸­çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„æ—¥å¿—ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>2024-xx-xx xx:xx:xx [main] [INFO] o.a.h.p.b.HugePDServer - Started HugePDServer in x.xxx seconds (JVM running for x.xxx)
</span></span></code></pre></div><h4 id=52-åœæ­¢-pd>5.2 åœæ­¢ PD</h4><p>åœ¨ PD å®‰è£…ç›®å½•ä¸‹æ‰§è¡Œï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/stop-hugegraph-pd.sh
</span></span></code></pre></div><h3 id=6-éªŒè¯>6 éªŒè¯</h3><p>ç¡®è®¤ PD æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:8620/actuator/health
</span></span></code></pre></div><p>å¦‚æœè¿”å› <code>{"status":"UP"}</code>ï¼Œåˆ™è¡¨ç¤º PD æœåŠ¡å·²æˆåŠŸå¯åŠ¨ã€‚</p></div><div class=td-content style=page-break-before:always><h1 id=pg-798ddadd53db4fb98beb621b93f015d0>1.3 - HugeGraph-Store Quick Start</h1><h3 id=1-hugegraph-store-æ¦‚è¿°>1 HugeGraph-Store æ¦‚è¿°</h3><p>HugeGraph-Store æ˜¯ HugeGraph åˆ†å¸ƒå¼ç‰ˆæœ¬çš„å­˜å‚¨èŠ‚ç‚¹ç»„ä»¶ï¼Œè´Ÿè´£å®é™…å­˜å‚¨å’Œç®¡ç†å›¾æ•°æ®ã€‚å®ƒä¸ HugeGraph-PD ååŒå·¥ä½œï¼Œå…±åŒæ„æˆ HugeGraph çš„åˆ†å¸ƒå¼å­˜å‚¨å¼•æ“ï¼Œæä¾›é«˜å¯ç”¨æ€§å’Œæ°´å¹³æ‰©å±•èƒ½åŠ›ã€‚</p><h3 id=2-ä¾èµ–>2 ä¾èµ–</h3><h4 id=21-å‰ç½®æ¡ä»¶>2.1 å‰ç½®æ¡ä»¶</h4><ul><li>æ“ä½œç³»ç»Ÿï¼šLinux æˆ– MacOSï¼ˆWindows å°šæœªç»è¿‡å®Œæ•´æµ‹è¯•ï¼‰</li><li>Java ç‰ˆæœ¬ï¼šâ‰¥ 11</li><li>Maven ç‰ˆæœ¬ï¼šâ‰¥ 3.5.0</li><li>å·²éƒ¨ç½²çš„ HugeGraph-PDï¼ˆå¦‚æœæ˜¯å¤šèŠ‚ç‚¹éƒ¨ç½²ï¼‰</li></ul><h3 id=3-éƒ¨ç½²>3 éƒ¨ç½²</h3><p>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥éƒ¨ç½² HugeGraph-Store ç»„ä»¶ï¼š</p><ul><li>æ–¹å¼ 1ï¼šä¸‹è½½ tar åŒ…</li><li>æ–¹å¼ 2ï¼šæºç ç¼–è¯‘</li></ul><h4 id=31-ä¸‹è½½-tar-åŒ…>3.1 ä¸‹è½½ tar åŒ…</h4><p>ä» Apache HugeGraph å®˜æ–¹ä¸‹è½½é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ HugeGraph-Storeï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç”¨æœ€æ–°ç‰ˆæœ¬å·æ›¿æ¢ {version}ï¼Œä¾‹å¦‚ 1.5.0</span>
</span></span><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>/apache-hugegraph-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>.tar.gz  
</span></span><span style=display:flex><span>tar zxf apache-hugegraph-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>.tar.gz
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> apache-hugegraph-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>/apache-hugegraph-hstore-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=32-æºç ç¼–è¯‘>3.2 æºç ç¼–è¯‘</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. å…‹éš†æºä»£ç </span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/hugegraph.git
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. ç¼–è¯‘é¡¹ç›®</span>
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> hugegraph
</span></span><span style=display:flex><span>mvn clean install -DskipTests<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. ç¼–è¯‘æˆåŠŸåï¼ŒStore æ¨¡å—çš„æ„å»ºäº§ç‰©å°†ä½äº</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#    apache-hugegraph-incubating-{version}/apache-hugegraph-hstore-incubating-{version}</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#    target/apache-hugegraph-incubating-{version}.tar.gz</span>
</span></span></code></pre></div><h3 id=4-é…ç½®>4 é…ç½®</h3><p>Store çš„ä¸»è¦é…ç½®æ–‡ä»¶ä¸º <code>conf/application.yml</code>ï¼Œä»¥ä¸‹æ˜¯å…³é”®é…ç½®é¡¹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>pdserver</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># PD æœåŠ¡åœ°å€ï¼Œå¤šä¸ª PD åœ°å€ç”¨é€—å·åˆ†å‰²ï¼ˆé…ç½® PD çš„ gRPC ç«¯å£ï¼‰</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8686</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>grpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># gRPC çš„æœåŠ¡åœ°å€</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>host</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8500</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>netty-server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>max-inbound-message-size</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>1000MB</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>raft</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># raft ç¼“å­˜é˜Ÿåˆ—å¤§å°</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>disruptorBufferSize</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1024</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8510</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>max-log-file-size</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>600000000000</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># å¿«ç…§ç”Ÿæˆæ—¶é—´é—´éš”ï¼Œå•ä½ç§’</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>snapshotInterval</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1800</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># REST æœåŠ¡åœ°å€</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8520</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># å­˜å‚¨è·¯å¾„ï¼Œæ”¯æŒå¤šä¸ªè·¯å¾„ï¼Œé€—å·åˆ†å‰²</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>data-path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>./storage</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic>#raft-path: ./storage</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spring</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>application</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>store-node-grpc-server</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>profiles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>active</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>default</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>include</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>pd</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>logging</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>config</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;file:./conf/log4j2.xml&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>level</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>root</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>info</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>å¯¹äºå¤šèŠ‚ç‚¹éƒ¨ç½²ï¼Œéœ€è¦ä¸ºæ¯ä¸ª Store èŠ‚ç‚¹ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š</p><ol><li>æ¯ä¸ªèŠ‚ç‚¹çš„ <code>grpc.port</code>ï¼ˆRPC ç«¯å£ï¼‰</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„ <code>raft.address</code>ï¼ˆRaft åè®®ç«¯å£ï¼‰</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„ <code>server.port</code>ï¼ˆREST ç«¯å£ï¼‰</li><li>æ¯ä¸ªèŠ‚ç‚¹çš„ <code>app.data-path</code>ï¼ˆæ•°æ®å­˜å‚¨è·¯å¾„ï¼‰</li></ol><h3 id=5-å¯åŠ¨ä¸åœæ­¢>5 å¯åŠ¨ä¸åœæ­¢</h3><h4 id=51-å¯åŠ¨-store>5.1 å¯åŠ¨ Store</h4><p>ç¡®ä¿ PD æœåŠ¡å·²ç»å¯åŠ¨ï¼Œç„¶ååœ¨ Store å®‰è£…ç›®å½•ä¸‹æ‰§è¡Œï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/start-hugegraph-store.sh
</span></span></code></pre></div><p>å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥åœ¨ <code>logs/hugegraph-store-server.log</code> ä¸­çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„æ—¥å¿—ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>2024-xx-xx xx:xx:xx [main] [INFO] o.a.h.s.n.StoreNodeApplication - Started StoreNodeApplication in x.xxx seconds (JVM running for x.xxx)
</span></span></code></pre></div><h4 id=52-åœæ­¢-store>5.2 åœæ­¢ Store</h4><p>åœ¨ Store å®‰è£…ç›®å½•ä¸‹æ‰§è¡Œï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/stop-hugegraph-store.sh
</span></span></code></pre></div><h3 id=6-å¤šèŠ‚ç‚¹éƒ¨ç½²ç¤ºä¾‹>6 å¤šèŠ‚ç‚¹éƒ¨ç½²ç¤ºä¾‹</h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¸‰èŠ‚ç‚¹éƒ¨ç½²çš„é…ç½®ç¤ºä¾‹ï¼š</p><h4 id=61-ä¸‰èŠ‚ç‚¹é…ç½®å‚è€ƒ>6.1 ä¸‰èŠ‚ç‚¹é…ç½®å‚è€ƒ</h4><ul><li>3 PD èŠ‚ç‚¹<ul><li>raft ç«¯å£ï¼š8610, 8611, 8612</li><li>rpc ç«¯å£ï¼š8686, 8687, 8688</li><li>rest ç«¯å£ï¼š8620, 8621, 8622</li></ul></li><li>3 Store èŠ‚ç‚¹<ul><li>raft ç«¯å£ï¼š8510, 8511, 8512</li><li>rpc ç«¯å£ï¼š8500, 8501, 8502</li><li>rest ç«¯å£ï¼š8520, 8521, 8522</li></ul></li></ul><h4 id=62-store-èŠ‚ç‚¹é…ç½®>6.2 Store èŠ‚ç‚¹é…ç½®</h4><p>å¯¹äºä¸‰ä¸ª Store èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ä¸»è¦é…ç½®å·®å¼‚å¦‚ä¸‹ï¼š</p><p>èŠ‚ç‚¹ Aï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>grpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8500</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>raft</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8510</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8520</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>data-path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>./storage-a</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>èŠ‚ç‚¹ Bï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>grpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8501</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>raft</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8511</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8521</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>data-path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>./storage-b</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>èŠ‚ç‚¹ Cï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>grpc</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8502</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>raft</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8512</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>port</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>8522</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>app</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>data-path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>./storage-c</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>æ‰€æœ‰èŠ‚ç‚¹éƒ½åº”è¯¥æŒ‡å‘ç›¸åŒçš„ PD é›†ç¾¤ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>pdserver</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8686</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8687</span><span style=color:#000;font-weight:700>,</span><span style=color:#0000cf;font-weight:700>127.0.0.1</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8688</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h3 id=7-éªŒè¯-store-æœåŠ¡>7 éªŒè¯ Store æœåŠ¡</h3><p>ç¡®è®¤ Store æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:8520/actuator/health
</span></span></code></pre></div><p>å¦‚æœè¿”å› <code>{"status":"UP"}</code>ï¼Œåˆ™è¡¨ç¤º Store æœåŠ¡å·²æˆåŠŸå¯åŠ¨ã€‚</p><p>æ­¤å¤–ï¼Œå¯ä»¥é€šè¿‡ PD çš„ API æŸ¥çœ‹é›†ç¾¤ä¸­çš„ Store èŠ‚ç‚¹çŠ¶æ€ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:8620/v1/stores
</span></span></code></pre></div><p>å¦‚æœStoreé…ç½®æˆåŠŸï¼Œä¸Šè¿°æ¥å£çš„å“åº”ä¸­åº”è¯¥åŒ…å«å½“å‰èŠ‚ç‚¹çš„çŠ¶æ€ä¿¡æ¯ï¼ŒçŠ¶æ€ä¸ºUpè¡¨ç¤ºèŠ‚ç‚¹æ­£å¸¸è¿è¡Œï¼Œè¿™é‡Œåªå±•ç¤ºäº†ä¸€ä¸ªèŠ‚ç‚¹é…ç½®æˆåŠŸçš„å“åº”ï¼Œå¦‚æœä¸‰ä¸ªèŠ‚ç‚¹éƒ½é…ç½®æˆåŠŸå¹¶æ­£åœ¨è¿è¡Œï¼Œå“åº”ä¸­<code>storeId</code>åˆ—è¡¨åº”è¯¥åŒ…å«ä¸‰ä¸ªidï¼Œå¹¶ä¸”<code>stateCountMap</code>ä¸­<code>Up</code>ã€<code>numOfService</code>ã€<code>numOfNormalService</code>ä¸‰ä¸ªå­—æ®µåº”è¯¥ä¸º3ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;message&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;OK&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;data&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;stores&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;storeId&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>8319292642220586694</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;address&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8500&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;raftAddress&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8510&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;version&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;state&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Up&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;deployPath&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;/Users/{your_user_name}/hugegraph/apache-hugegraph-incubating-1.5.0/apache-hugegraph-store-incubating-1.5.0/lib/hg-store-node-1.5.0.jar&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;dataPath&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;./storage&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;startTimeStamp&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1754027127969</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;registedTimeStamp&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1754027127969</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;lastHeartBeat&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1754027909444</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;capacity&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>494384795648</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;available&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>346535829504</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;partitionCount&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;graphSize&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;keyCount&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;leaderCount&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;serviceName&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8500-store&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;serviceVersion&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;serviceCreatedTimeStamp&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1754027127000</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;partitions&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;stateCountMap&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#4e9a06>&#34;Up&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;numOfService&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;numOfNormalService&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;status&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-a4bced169085a0c224fa69566df656b0>2 - HugeGraph ToolChain</h1><blockquote><p><strong>æµ‹è¯•æŒ‡å—</strong>ï¼šå¦‚éœ€åœ¨æœ¬åœ°è¿è¡Œå·¥å…·é“¾æµ‹è¯•ï¼Œè¯·å‚è€ƒ <a href=/cn/docs/guides/toolchain-local-test>HugeGraph å·¥å…·é“¾æœ¬åœ°æµ‹è¯•æŒ‡å—</a></p></blockquote><blockquote><p>DeepWiki æä¾›å®æ—¶æ›´æ–°çš„é¡¹ç›®æ–‡æ¡£ï¼Œå†…å®¹æ›´å…¨é¢å‡†ç¡®ï¼Œé€‚åˆå¿«é€Ÿäº†è§£é¡¹ç›®æœ€æ–°æƒ…å†µã€‚</p><p>ğŸ“– <a href=https://deepwiki.com/apache/hugegraph-toolchain>https://deepwiki.com/apache/hugegraph-toolchain</a></p></blockquote><p><strong>GitHub è®¿é—®ï¼š</strong> <i class="fab fa-github"></i> <a href=https://github.com/apache/hugegraph-toolchain>https://github.com/apache/hugegraph-toolchain</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-55eecaa5c3ceec829e0f0d20863baa46>2.1 - HugeGraph-Hubble Quick Start</h1><h3 id=1-hugegraph-hubble-æ¦‚è¿°>1 HugeGraph-Hubble æ¦‚è¿°</h3><blockquote><p><strong>ç‰¹åˆ«æ³¨æ„:</strong> å½“å‰ç‰ˆæœ¬çš„ Hubble è¿˜æ²¡æœ‰æ·»åŠ  Auth/Login ç›¸å…³ç•Œé¢å’Œæ¥å£å’Œå•ç‹¬é˜²æŠ¤, åœ¨ä¸‹ä¸€ä¸ª Release ç‰ˆ (ï¼ 1.5) ä¼šåŠ å…¥,
è¯·ç•™æ„é¿å…æŠŠå®ƒæš´éœ²åœ¨å…¬ç½‘ç¯å¢ƒæˆ–ä¸å—ä¿¡ä»»çš„ç½‘ç»œä¸­ï¼Œä»¥å…å¼•èµ·ç›¸å…³ SEC é—®é¢˜ (å¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>IP & ç«¯å£</strong>ç™½åå• + HTTPS)</p><p><strong>æµ‹è¯•æŒ‡å—</strong>ï¼šå¦‚éœ€åœ¨æœ¬åœ°è¿è¡Œ Hubble æµ‹è¯•ï¼Œè¯·å‚è€ƒ <a href=/cn/docs/guides/toolchain-local-test>å·¥å…·é“¾æœ¬åœ°æµ‹è¯•æŒ‡å—</a></p></blockquote><p><strong>HugeGraph-Hubble</strong> æ˜¯ HugeGraph çš„ä¸€ç«™å¼å¯è§†åŒ–åˆ†æå¹³å°ï¼Œå¹³å°æ¶µç›–äº†ä»æ•°æ®å»ºæ¨¡ï¼Œåˆ°æ•°æ®å¿«é€Ÿå¯¼å…¥ï¼Œ
å†åˆ°æ•°æ®çš„åœ¨çº¿ã€ç¦»çº¿åˆ†æã€ä»¥åŠå›¾çš„ç»Ÿä¸€ç®¡ç†çš„å…¨è¿‡ç¨‹ï¼Œå®ç°äº†å›¾åº”ç”¨çš„å…¨æµç¨‹å‘å¯¼å¼æ“ä½œï¼Œæ—¨åœ¨æå‡ç”¨æˆ·çš„ä½¿ç”¨æµç•…åº¦ï¼Œ
é™ä½ç”¨æˆ·çš„ä½¿ç”¨é—¨æ§›ï¼Œæä¾›æ›´ä¸ºé«˜æ•ˆæ˜“ç”¨çš„ä½¿ç”¨ä½“éªŒã€‚</p><p>å¹³å°ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æ¨¡å—ï¼š</p><h5 id=å›¾ç®¡ç†>å›¾ç®¡ç†</h5><p>å›¾ç®¡ç†æ¨¡å—é€šè¿‡å›¾çš„åˆ›å»ºï¼Œè¿æ¥å¹³å°ä¸å›¾æ•°æ®ï¼Œå®ç°å¤šå›¾çš„ç»Ÿä¸€ç®¡ç†ï¼Œå¹¶å®ç°å›¾çš„è®¿é—®ã€ç¼–è¾‘ã€åˆ é™¤ã€æŸ¥è¯¢æ“ä½œã€‚</p><h5 id=å…ƒæ•°æ®å»ºæ¨¡>å…ƒæ•°æ®å»ºæ¨¡</h5><p>å…ƒæ•°æ®å»ºæ¨¡æ¨¡å—é€šè¿‡åˆ›å»ºå±æ€§åº“ï¼Œé¡¶ç‚¹ç±»å‹ï¼Œè¾¹ç±»å‹ï¼Œç´¢å¼•ç±»å‹ï¼Œå®ç°å›¾æ¨¡å‹çš„æ„å»ºä¸ç®¡ç†ï¼Œå¹³å°æä¾›ä¸¤ç§æ¨¡å¼ï¼Œåˆ—è¡¨æ¨¡å¼å’Œå›¾æ¨¡å¼ï¼Œå¯å®æ—¶å±•ç¤ºå…ƒæ•°æ®æ¨¡å‹ï¼Œæ›´åŠ ç›´è§‚ã€‚åŒæ—¶è¿˜æä¾›äº†è·¨å›¾çš„å…ƒæ•°æ®å¤ç”¨åŠŸèƒ½ï¼Œçœå»ç›¸åŒå…ƒæ•°æ®ç¹ççš„é‡å¤åˆ›å»ºè¿‡ç¨‹ï¼Œæå¤§åœ°æå‡å»ºæ¨¡æ•ˆç‡ï¼Œå¢å¼ºæ˜“ç”¨æ€§ã€‚</p><h5 id=å›¾åˆ†æ>å›¾åˆ†æ</h5><p>é€šè¿‡è¾“å…¥å›¾éå†è¯­è¨€ Gremlin å¯å®ç°å›¾æ•°æ®çš„é«˜æ€§èƒ½é€šç”¨åˆ†æï¼Œå¹¶æä¾›é¡¶ç‚¹çš„å®šåˆ¶åŒ–å¤šç»´è·¯å¾„æŸ¥è¯¢ç­‰åŠŸèƒ½ï¼Œæä¾› 3 ç§å›¾ç»“æœå±•ç¤ºæ–¹å¼ï¼ŒåŒ…æ‹¬ï¼šå›¾å½¢å¼ã€è¡¨æ ¼å½¢å¼ã€Json å½¢å¼ï¼Œå¤šç»´åº¦å±•ç¤ºæ•°æ®å½¢æ€ï¼Œæ»¡è¶³ç”¨æˆ·ä½¿ç”¨çš„å¤šç§åœºæ™¯éœ€æ±‚ã€‚æä¾›è¿è¡Œè®°å½•åŠå¸¸ç”¨è¯­å¥æ”¶è—ç­‰åŠŸèƒ½ï¼Œå®ç°å›¾æ“ä½œçš„å¯è¿½æº¯ï¼Œä»¥åŠæŸ¥è¯¢è¾“å…¥çš„å¤ç”¨å…±äº«ï¼Œå¿«æ·é«˜æ•ˆã€‚æ”¯æŒå›¾æ•°æ®çš„å¯¼å‡ºï¼Œå¯¼å‡ºæ ¼å¼ä¸º Json æ ¼å¼ã€‚</p><h5 id=ä»»åŠ¡ç®¡ç†>ä»»åŠ¡ç®¡ç†</h5><p>å¯¹äºéœ€è¦éå†å…¨å›¾çš„ Gremlin ä»»åŠ¡ï¼Œç´¢å¼•çš„åˆ›å»ºä¸é‡å»ºç­‰è€—æ—¶è¾ƒé•¿çš„å¼‚æ­¥ä»»åŠ¡ï¼Œå¹³å°æä¾›ç›¸åº”çš„ä»»åŠ¡ç®¡ç†åŠŸèƒ½ï¼Œå®ç°å¼‚æ­¥ä»»åŠ¡çš„ç»Ÿä¸€çš„ç®¡ç†ä¸ç»“æœæŸ¥çœ‹ã€‚</p><h5 id=æ•°æ®å¯¼å…¥-beta>æ•°æ®å¯¼å…¥ (BETA)</h5><blockquote><p>æ³¨: æ•°æ®å¯¼å…¥åŠŸèƒ½ç›®å‰é€‚åˆåˆæ­¥è¯•ç”¨ï¼Œæ­£å¼æ•°æ®å¯¼å…¥è¯·ä½¿ç”¨ <a href=/cn/docs/quickstart/toolchain/hugegraph-loader>hugegraph-loader</a>, æ€§èƒ½/ç¨³å®šæ€§/åŠŸèƒ½å…¨é¢è®¸å¤š</p></blockquote><p>æ•°æ®å¯¼å…¥æ˜¯å°†ç”¨æˆ·çš„ä¸šåŠ¡æ•°æ®è½¬åŒ–ä¸ºå›¾çš„é¡¶ç‚¹å’Œè¾¹å¹¶æ’å…¥å›¾æ•°æ®åº“ä¸­ï¼Œå¹³å°æä¾›äº†å‘å¯¼å¼çš„å¯è§†åŒ–å¯¼å…¥æ¨¡å—ï¼Œé€šè¿‡åˆ›å»ºå¯¼å…¥ä»»åŠ¡ï¼Œ
å®ç°å¯¼å…¥ä»»åŠ¡çš„ç®¡ç†åŠå¤šä¸ªå¯¼å…¥ä»»åŠ¡çš„å¹¶è¡Œè¿è¡Œï¼Œæé«˜å¯¼å…¥æ•ˆèƒ½ã€‚è¿›å…¥å¯¼å…¥ä»»åŠ¡åï¼Œåªéœ€è·Ÿéšå¹³å°æ­¥éª¤æç¤ºï¼ŒæŒ‰éœ€ä¸Šä¼ æ–‡ä»¶ï¼Œå¡«å†™å†…å®¹ï¼Œ
å°±å¯è½»æ¾å®ç°å›¾æ•°æ®çš„å¯¼å…¥è¿‡ç¨‹ï¼ŒåŒæ—¶æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œé”™è¯¯é‡è¯•æœºåˆ¶ç­‰ï¼Œé™ä½å¯¼å…¥æˆæœ¬ï¼Œæå‡æ•ˆç‡ã€‚</p><h3 id=2-éƒ¨ç½²>2 éƒ¨ç½²</h3><p>æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥éƒ¨ç½²<code>hugegraph-hubble</code></p><ul><li>ä½¿ç”¨ docker (ä¾¿äº<strong>æµ‹è¯•</strong>)</li><li>ä¸‹è½½ toolchain äºŒè¿›åˆ¶åŒ…</li><li>æºç ç¼–è¯‘</li></ul><h4 id=21-ä½¿ç”¨-docker-ä¾¿äºæµ‹è¯•>2.1 ä½¿ç”¨ Docker (ä¾¿äº<strong>æµ‹è¯•</strong>)</h4><blockquote><p><strong>ç‰¹åˆ«æ³¨æ„</strong>: docker æ¨¡å¼ä¸‹ï¼Œè‹¥ hubble å’Œ server åœ¨åŒä¸€å®¿ä¸»æœºï¼Œhubble é¡µé¢ä¸­è®¾ç½® server çš„ <code>hostname</code> <strong>ä¸èƒ½è®¾ç½®</strong>ä¸º <code>localhost/127.0.0.1</code>ï¼Œå› è¿™ä¼šæŒ‡å‘ hubble <strong>å®¹å™¨å†…éƒ¨</strong>è€Œéå®¿ä¸»æœºï¼Œå¯¼è‡´æ— æ³•è¿æ¥åˆ° server.</p><p>è‹¥ hubble å’Œ server åœ¨åŒä¸€ docker ç½‘ç»œä¸‹ï¼Œ<strong>æ¨è</strong>ç›´æ¥ä½¿ç”¨<code>container_name</code> (å¦‚ä¸‹ä¾‹çš„ <code>server</code>) ä½œä¸ºä¸»æœºåã€‚æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>å®¿ä¸»æœº IP</strong> ä½œä¸ºä¸»æœºåï¼Œæ­¤æ—¶ç«¯å£å·ä¸ºå®¿ä¸»æœºç»™ server é…ç½®çš„ç«¯å£</p></blockquote><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>docker run -itd --name=hubble -p 8088:8088 hugegraph/hubble:1.5.0</code> å¿«é€Ÿå¯åŠ¨ <a href=https://hub.docker.com/r/hugegraph/hubble>hubble</a>.</p><p>æˆ–è€…ä½¿ç”¨ docker-compose å¯åŠ¨ hubbleï¼Œå¦å¤–å¦‚æœ hubble å’Œ server åœ¨åŒä¸€ä¸ª docker ç½‘ç»œä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ server çš„ contain_name è¿›è¡Œè®¿é—®ï¼Œè€Œä¸éœ€è¦å®¿ä¸»æœºçš„ ip</p><p>ä½¿ç”¨<code>docker-compose up -d</code>ï¼Œ<code>docker-compose.yml</code>å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;3&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/hugegraph:1.5.0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>server</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>PASSWORD=xxx</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#0000cf;font-weight:700>8080</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8080</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>hubble</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/hubble:1.5.0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hubble</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#0000cf;font-weight:700>8088</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8088</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><blockquote><p>æ³¨æ„ï¼š</p><ol><li><p><code>hugegraph-hubble</code> çš„ docker é•œåƒæ˜¯ä¸€ä¸ªä¾¿æ·å‘å¸ƒç‰ˆæœ¬ï¼Œç”¨äºå¿«é€Ÿæµ‹è¯•è¯•ç”¨ hubbleï¼Œå¹¶é<strong>ASF å®˜æ–¹å‘å¸ƒç‰©æ–™åŒ…çš„æ–¹å¼</strong>ã€‚ä½ å¯ä»¥ä» <a href=https://infra.apache.org/release-distribution.html#dockerhub>ASF Release Distribution Policy</a> ä¸­å¾—åˆ°æ›´å¤šç»†èŠ‚ã€‚</p></li><li><p><strong>ç”Ÿäº§ç¯å¢ƒ</strong>æ¨èä½¿ç”¨ <code>release tag</code>(å¦‚ <code>1.5.0</code>) ç¨³å®šç‰ˆã€‚ä½¿ç”¨ <code>latest</code> tag é»˜è®¤å¯¹åº” master æœ€æ–°ä»£ç ã€‚</p></li></ol></blockquote><h4 id=22-ä¸‹è½½-toolchain-äºŒè¿›åˆ¶åŒ…>2.2 ä¸‹è½½ toolchain äºŒè¿›åˆ¶åŒ…</h4><p><code>hubble</code>é¡¹ç›®åœ¨<code>toolchain</code>é¡¹ç›®ä¸­ï¼Œé¦–å…ˆä¸‹è½½<code>toolchain</code>çš„ tar åŒ…</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>/apache-hugegraph-toolchain-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>.tar.gz
</span></span><span style=display:flex><span>tar -xvf apache-hugegraph-toolchain-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>.tar.gz 
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> apache-hugegraph-toolchain-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>.tar.gz/apache-hugegraph-hubble-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>è¿è¡Œ<code>hubble</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-hubble.sh
</span></span></code></pre></div><p>éšåæˆ‘ä»¬å¯ä»¥çœ‹åˆ°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>starting HugeGraphHubble ..............timed out with http status <span style=color:#0000cf;font-weight:700>502</span>
</span></span><span style=display:flex><span>2023-08-30 20:38:34 <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> o.a.h.HugeGraphHubble <span style=color:#ce5c00;font-weight:700>[]</span> - Starting HugeGraphHubble v1.0.0 on cpu05 with PID xxx <span style=color:#ce5c00;font-weight:700>(</span>~/apache-hugegraph-toolchain-incubating-1.0.0/apache-hugegraph-hubble-incubating-1.0.0/lib/hubble-be-1.0.0.jar started by <span style=color:#000>$USER</span> in ~/apache-hugegraph-toolchain-incubating-1.0.0/apache-hugegraph-hubble-incubating-1.0.0<span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>2023-08-30 20:38:38 <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> c.z.h.HikariDataSource <span style=color:#ce5c00;font-weight:700>[]</span> - hugegraph-hubble-HikariCP - Start completed.
</span></span><span style=display:flex><span>2023-08-30 20:38:41 <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> o.a.c.h.Http11NioProtocol <span style=color:#ce5c00;font-weight:700>[]</span> - Starting ProtocolHandler <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#34;http-nio-0.0.0.0-8088&#34;</span><span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>2023-08-30 20:38:41 <span style=color:#ce5c00;font-weight:700>[</span>main<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>INFO <span style=color:#ce5c00;font-weight:700>]</span> o.a.h.HugeGraphHubble <span style=color:#ce5c00;font-weight:700>[]</span> - Started HugeGraphHubble in 7.379 seconds <span style=color:#ce5c00;font-weight:700>(</span>JVM running <span style=color:#204a87;font-weight:700>for</span> 8.499<span style=color:#ce5c00;font-weight:700>)</span>
</span></span></code></pre></div><p>ç„¶åä½¿ç”¨æµè§ˆå™¨è®¿é—® <code>ip:8088</code> å¯çœ‹åˆ°<code>hubble</code>é¡µé¢ï¼Œé€šè¿‡<code>bin/stop-hubble.sh</code>åˆ™å¯ä»¥åœæ­¢æœåŠ¡</p><h4 id=23-æºç ç¼–è¯‘>2.3 æºç ç¼–è¯‘</h4><p><strong>æ³¨æ„ï¼š</strong> ç›®å‰å·²åœ¨ <code>hugegraph-hubble/hubble-be/pom.xml</code> ä¸­å¼•å…¥æ’ä»¶ <code>frontend-maven-plugin</code>ï¼Œç¼–è¯‘ hubble æ—¶ä¸éœ€è¦ç”¨æˆ·æœ¬åœ°ç¯å¢ƒæå‰å®‰è£… <code>Nodejs V16.x</code> ä¸ <code>yarn</code> ç¯å¢ƒï¼Œå¯ç›´æ¥æŒ‰ä¸‹è¿°æ­¥éª¤æ‰§è¡Œ</p><p>ä¸‹è½½ toolchain æºç åŒ…</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git clone https://github.com/apache/hugegraph-toolchain.git
</span></span></code></pre></div><p>ç¼–è¯‘<code>hubble</code>, å®ƒä¾èµ– loader å’Œ client, ç¼–è¯‘æ—¶éœ€æå‰æ„å»ºè¿™äº›ä¾èµ– (åç»­å¯è·³)</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#204a87>cd</span> hugegraph-toolchain
</span></span><span style=display:flex><span>sudo pip install -r hugegraph-hubble/hubble-dist/assembly/travis/requirements.txt
</span></span><span style=display:flex><span>mvn install -pl hugegraph-client,hugegraph-loader -am -Dmaven.javadoc.skip<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span> -DskipTests -ntp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> hugegraph-hubble
</span></span><span style=display:flex><span>mvn -e package -Dmaven.javadoc.skip<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span> -Dmaven.test.skip<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span> -ntp
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> apache-hugegraph-hubble-incubating*
</span></span></code></pre></div><p>å¯åŠ¨<code>hubble</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-hubble.sh -d
</span></span></code></pre></div><h3 id=3å¹³å°ä½¿ç”¨æµç¨‹>3 å¹³å°ä½¿ç”¨æµç¨‹</h3><p>å¹³å°çš„æ¨¡å—ä½¿ç”¨æµç¨‹å¦‚ä¸‹ï¼š</p><div style=text-align:center><img src=/docs/images/images-hubble/2å¹³å°ä½¿ç”¨æµç¨‹.png alt=image></div><h3 id=4å¹³å°ä½¿ç”¨è¯´æ˜>4 å¹³å°ä½¿ç”¨è¯´æ˜</h3><h4 id=41å›¾ç®¡ç†>4.1 å›¾ç®¡ç†</h4><h5 id=411å›¾åˆ›å»º>4.1.1 å›¾åˆ›å»º</h5><p>å›¾ç®¡ç†æ¨¡å—ä¸‹ï¼Œç‚¹å‡»ã€åˆ›å»ºå›¾ã€‘ï¼Œé€šè¿‡å¡«å†™å›¾ IDã€å›¾åç§°ã€ä¸»æœºåã€ç«¯å£å·ã€ç”¨æˆ·åã€å¯†ç çš„ä¿¡æ¯ï¼Œå®ç°å¤šå›¾çš„è¿æ¥ã€‚</p><div style=text-align:center><img src=/docs/images/images-hubble/311å›¾åˆ›å»º.png alt=image></div><p>åˆ›å»ºå›¾å¡«å†™å†…å®¹å¦‚ä¸‹ï¼š</p><div style=text-align:center><img src=/docs/images/images-hubble/311å›¾åˆ›å»º2.png alt=image></div><blockquote><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä½¿ç”¨ docker å¯åŠ¨ <code>hubble</code>ï¼Œä¸” <code>server</code> å’Œ <code>hubble</code> ä½äºåŒä¸€å®¿ä¸»æœºï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ <code>localhost/127.0.0.1</code> ä½œä¸ºä¸»æœºåã€‚å¦‚æœ <code>hubble</code> å’Œ <code>server</code> åœ¨åŒä¸€ docker ç½‘ç»œä¸‹ï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨ container_name ä½œä¸ºä¸»æœºåï¼Œç«¯å£åˆ™ä¸º 8080ã€‚æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨å®¿ä¸»æœº ip ä½œä¸ºä¸»æœºåï¼Œæ­¤æ—¶ç«¯å£ä¸ºå®¿ä¸»æœºä¸º server é…ç½®çš„ç«¯å£</p></blockquote><h5 id=412å›¾è®¿é—®>4.1.2 å›¾è®¿é—®</h5><p>å®ç°å›¾ç©ºé—´çš„ä¿¡æ¯è®¿é—®ï¼Œè¿›å…¥åï¼Œå¯è¿›è¡Œå›¾çš„å¤šç»´æŸ¥è¯¢åˆ†æã€å…ƒæ•°æ®ç®¡ç†ã€æ•°æ®å¯¼å…¥ã€ç®—æ³•åˆ†æç­‰æ“ä½œã€‚</p><div style=text-align:center><img src=/docs/images/images-hubble/312å›¾è®¿é—®.png alt=image></div><h5 id=413å›¾ç®¡ç†>4.1.3 å›¾ç®¡ç†</h5><ol><li>ç”¨æˆ·é€šè¿‡å¯¹å›¾çš„æ¦‚è§ˆã€æœç´¢ä»¥åŠå•å›¾çš„ä¿¡æ¯ç¼–è¾‘ä¸åˆ é™¤ï¼Œå®ç°å›¾çš„ç»Ÿä¸€ç®¡ç†ã€‚</li><li>æœç´¢èŒƒå›´ï¼šå¯å¯¹å›¾åç§°å’Œ ID è¿›è¡Œæœç´¢ã€‚</li></ol><div style=text-align:center><img src=/docs/images/images-hubble/313å›¾ç®¡ç†.png alt=image></div><h4 id=42å…ƒæ•°æ®å»ºæ¨¡åˆ—è¡¨--å›¾æ¨¡å¼>4.2 å…ƒæ•°æ®å»ºæ¨¡ï¼ˆåˆ—è¡¨ + å›¾æ¨¡å¼ï¼‰</h4><h5 id=421æ¨¡å—å…¥å£>4.2.1 æ¨¡å—å…¥å£</h5><p>å·¦ä¾§å¯¼èˆªå¤„ï¼š</p><div style=text-align:center><img src=/docs/images/images-hubble/321å…ƒæ•°æ®å…¥å£.png alt=image></div><h5 id=422å±æ€§ç±»å‹>4.2.2 å±æ€§ç±»å‹</h5><h6 id=4221åˆ›å»º>4.2.2.1 åˆ›å»º</h6><ol><li>å¡«å†™æˆ–é€‰æ‹©å±æ€§åç§°ã€æ•°æ®ç±»å‹ã€åŸºæ•°ï¼Œå®Œæˆå±æ€§çš„åˆ›å»ºã€‚</li><li>åˆ›å»ºçš„å±æ€§å¯ä½œä¸ºé¡¶ç‚¹ç±»å‹å’Œè¾¹ç±»å‹çš„å±æ€§ã€‚</li></ol><p>åˆ—è¡¨æ¨¡å¼ï¼š</p><div style=text-align:center><img src=/docs/images/images-hubble/3221å±æ€§åˆ›å»º.png alt=image></div><p>å›¾æ¨¡å¼ï¼š</p><div style=text-align:center><img src=/docs/images/images-hubble/3221å±æ€§åˆ›å»º2.png alt=image></div><h6 id=4222å¤ç”¨>4.2.2.2 å¤ç”¨</h6><ol><li>å¹³å°æä¾›ã€å¤ç”¨ã€‘åŠŸèƒ½ï¼Œå¯ç›´æ¥å¤ç”¨å…¶ä»–å›¾çš„å…ƒæ•°æ®ã€‚</li><li>é€‰æ‹©éœ€è¦å¤ç”¨çš„å›¾ IDï¼Œç»§ç»­é€‰æ‹©éœ€è¦å¤ç”¨çš„å±æ€§ï¼Œä¹‹åå¹³å°ä¼šè¿›è¡Œæ˜¯å¦å†²çªçš„æ ¡éªŒï¼Œé€šè¿‡åï¼Œå¯å®ç°å…ƒæ•°æ®çš„å¤ç”¨ã€‚</li></ol><p>é€‰æ‹©å¤ç”¨é¡¹ï¼š</p><div style=text-align:center><img src=/docs/images/images-hubble/3222å±æ€§å¤ç”¨.png alt=image></div><p>æ ¡éªŒå¤ç”¨é¡¹ï¼š</p><div style=text-align:center><img src=/docs/images/images-hubble/3222å±æ€§å¤ç”¨2.png alt=image></div><h6 id=4223ç®¡ç†>4.2.2.3 ç®¡ç†</h6><ol><li>åœ¨å±æ€§åˆ—è¡¨ä¸­å¯è¿›è¡Œå•æ¡åˆ é™¤æˆ–æ‰¹é‡åˆ é™¤æ“ä½œã€‚</li></ol><h5 id=423é¡¶ç‚¹ç±»å‹>4.2.3 é¡¶ç‚¹ç±»å‹</h5><h6 id=4231åˆ›å»º>4.2.3.1 åˆ›å»º</h6><ol><li>å¡«å†™æˆ–é€‰æ‹©é¡¶ç‚¹ç±»å‹åç§°ã€ID ç­–ç•¥ã€å…³è”å±æ€§ã€ä¸»é”®å±æ€§ï¼Œé¡¶ç‚¹æ ·å¼ã€æŸ¥è¯¢ç»“æœä¸­é¡¶ç‚¹ä¸‹æ–¹å±•ç¤ºçš„å†…å®¹ï¼Œä»¥åŠç´¢å¼•çš„ä¿¡æ¯ï¼šåŒ…æ‹¬æ˜¯å¦åˆ›å»ºç±»å‹ç´¢å¼•ï¼ŒåŠå±æ€§ç´¢å¼•çš„å…·ä½“å†…å®¹ï¼Œå®Œæˆé¡¶ç‚¹ç±»å‹çš„åˆ›å»ºã€‚</li></ol><p>åˆ—è¡¨æ¨¡å¼ï¼š</p><center><img src=/docs/images/images-hubble/3231é¡¶ç‚¹åˆ›å»º.png alt=image></center><p>å›¾æ¨¡å¼ï¼š</p><center><img src=/docs/images/images-hubble/3231é¡¶ç‚¹åˆ›å»º2.png alt=image></center><h6 id=4232å¤ç”¨>4.2.3.2 å¤ç”¨</h6><ol><li>é¡¶ç‚¹ç±»å‹çš„å¤ç”¨ï¼Œä¼šå°†æ­¤ç±»å‹å…³è”çš„å±æ€§å’Œå±æ€§ç´¢å¼•ä¸€å¹¶å¤ç”¨ã€‚</li><li>å¤ç”¨åŠŸèƒ½ä½¿ç”¨æ–¹æ³•ç±»ä¼¼å±æ€§çš„å¤ç”¨ï¼Œè§ 3.2.2.2ã€‚</li></ol><h6 id=4233ç®¡ç†>4.2.3.3 ç®¡ç†</h6><ol><li><p>å¯è¿›è¡Œç¼–è¾‘æ“ä½œï¼Œé¡¶ç‚¹æ ·å¼ã€å…³è”ç±»å‹ã€é¡¶ç‚¹å±•ç¤ºå†…å®¹ã€å±æ€§ç´¢å¼•å¯ç¼–è¾‘ï¼Œå…¶ä½™ä¸å¯ç¼–è¾‘ã€‚</p></li><li><p>å¯è¿›è¡Œå•æ¡åˆ é™¤æˆ–æ‰¹é‡åˆ é™¤æ“ä½œã€‚</p></li></ol><center><img src=/docs/images/images-hubble/3233é¡¶ç‚¹åˆ é™¤.png alt=image></center><h5 id=424è¾¹ç±»å‹>4.2.4 è¾¹ç±»å‹</h5><h6 id=4241åˆ›å»º>4.2.4.1 åˆ›å»º</h6><ol><li>å¡«å†™æˆ–é€‰æ‹©è¾¹ç±»å‹åç§°ã€èµ·ç‚¹ç±»å‹ã€ç»ˆç‚¹ç±»å‹ã€å…³è”å±æ€§ã€æ˜¯å¦å…è®¸å¤šæ¬¡è¿æ¥ã€è¾¹æ ·å¼ã€æŸ¥è¯¢ç»“æœä¸­è¾¹ä¸‹æ–¹å±•ç¤ºçš„å†…å®¹ï¼Œä»¥åŠç´¢å¼•çš„ä¿¡æ¯ï¼šåŒ…æ‹¬æ˜¯å¦åˆ›å»ºç±»å‹ç´¢å¼•ï¼ŒåŠå±æ€§ç´¢å¼•çš„å…·ä½“å†…å®¹ï¼Œå®Œæˆè¾¹ç±»å‹çš„åˆ›å»ºã€‚</li></ol><p>åˆ—è¡¨æ¨¡å¼ï¼š</p><center><img src=/docs/images/images-hubble/3241è¾¹åˆ›å»º.png alt=image></center><p>å›¾æ¨¡å¼ï¼š</p><center><img src=/docs/images/images-hubble/3241è¾¹åˆ›å»º2.png alt=image></center><h6 id=4242å¤ç”¨>4.2.4.2 å¤ç”¨</h6><ol><li>è¾¹ç±»å‹çš„å¤ç”¨ï¼Œä¼šå°†æ­¤ç±»å‹çš„èµ·ç‚¹ç±»å‹ã€ç»ˆç‚¹ç±»å‹ã€å…³è”çš„å±æ€§å’Œå±æ€§ç´¢å¼•ä¸€å¹¶å¤ç”¨ã€‚</li><li>å¤ç”¨åŠŸèƒ½ä½¿ç”¨æ–¹æ³•ç±»ä¼¼å±æ€§çš„å¤ç”¨ï¼Œè§ 3.2.2.2ã€‚</li></ol><h6 id=4243ç®¡ç†>4.2.4.3 ç®¡ç†</h6><ol><li>å¯è¿›è¡Œç¼–è¾‘æ“ä½œï¼Œè¾¹æ ·å¼ã€å…³è”å±æ€§ã€è¾¹å±•ç¤ºå†…å®¹ã€å±æ€§ç´¢å¼•å¯ç¼–è¾‘ï¼Œå…¶ä½™ä¸å¯ç¼–è¾‘ï¼ŒåŒé¡¶ç‚¹ç±»å‹ã€‚</li><li>å¯è¿›è¡Œå•æ¡åˆ é™¤æˆ–æ‰¹é‡åˆ é™¤æ“ä½œã€‚</li></ol><h5 id=425ç´¢å¼•ç±»å‹>4.2.5 ç´¢å¼•ç±»å‹</h5><p>å±•ç¤ºé¡¶ç‚¹ç±»å‹å’Œè¾¹ç±»å‹çš„é¡¶ç‚¹ç´¢å¼•å’Œè¾¹ç´¢å¼•ã€‚</p><h4 id=43æ•°æ®å¯¼å…¥>4.3 æ•°æ®å¯¼å…¥</h4><blockquote><p><strong>æ³¨æ„</strong>ï¼šç›®å‰æ¨èä½¿ç”¨ <a href=/cn/docs/quickstart/toolchain/hugegraph-loader>hugegraph-loader</a> è¿›è¡Œæ­£å¼æ•°æ®å¯¼å…¥ï¼Œhubble å†…ç½®çš„å¯¼å…¥ç”¨æ¥åš<strong>æµ‹è¯•</strong>å’Œ<strong>ç®€å•ä¸Šæ‰‹</strong></p></blockquote><p>æ•°æ®å¯¼å…¥çš„ä½¿ç”¨æµç¨‹å¦‚ä¸‹ï¼š</p><center><img src=/docs/images/images-hubble/33å¯¼å…¥æµç¨‹.png alt=image></center><h5 id=431æ¨¡å—å…¥å£>4.3.1 æ¨¡å—å…¥å£</h5><p>å·¦ä¾§å¯¼èˆªå¤„ï¼š</p><center><img src=/docs/images/images-hubble/331å¯¼å…¥å…¥å£.png alt=image></center><h5 id=432åˆ›å»ºä»»åŠ¡>4.3.2 åˆ›å»ºä»»åŠ¡</h5><ol><li>å¡«å†™ä»»åŠ¡åç§°å’Œå¤‡æ³¨ï¼ˆéå¿…å¡«ï¼‰ï¼Œå¯ä»¥åˆ›å»ºå¯¼å…¥ä»»åŠ¡ã€‚</li><li>å¯åˆ›å»ºå¤šä¸ªå¯¼å…¥ä»»åŠ¡ï¼Œå¹¶è¡Œå¯¼å…¥ã€‚</li></ol><center><img src=/docs/images/images-hubble/332åˆ›å»ºä»»åŠ¡.png alt=image></center><h5 id=433ä¸Šä¼ æ–‡ä»¶>4.3.3 ä¸Šä¼ æ–‡ä»¶</h5><ol><li>ä¸Šä¼ éœ€è¦æ„å›¾çš„æ–‡ä»¶ï¼Œç›®å‰æ”¯æŒçš„æ ¼å¼ä¸º CSVï¼Œåç»­ä¼šä¸æ–­æ›´æ–°ã€‚</li><li>å¯åŒæ—¶ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ã€‚</li></ol><center><img src=/docs/images/images-hubble/333ä¸Šä¼ æ–‡ä»¶.png alt=image></center><h5 id=434è®¾ç½®æ•°æ®æ˜ å°„>4.3.4 è®¾ç½®æ•°æ®æ˜ å°„</h5><ol><li><p>å¯¹ä¸Šä¼ çš„æ–‡ä»¶åˆ†åˆ«è®¾ç½®æ•°æ®æ˜ å°„ï¼ŒåŒ…æ‹¬æ–‡ä»¶è®¾ç½®å’Œç±»å‹è®¾ç½®</p></li><li><p>æ–‡ä»¶è®¾ç½®ï¼šå‹¾é€‰æˆ–å¡«å†™æ˜¯å¦åŒ…å«è¡¨å¤´ã€åˆ†éš”ç¬¦ã€ç¼–ç æ ¼å¼ç­‰æ–‡ä»¶æœ¬èº«çš„è®¾ç½®å†…å®¹ï¼Œå‡è®¾ç½®é»˜è®¤å€¼ï¼Œæ— éœ€æ‰‹åŠ¨å¡«å†™</p></li><li><p>ç±»å‹è®¾ç½®ï¼š</p><ol><li><p>é¡¶ç‚¹æ˜ å°„å’Œè¾¹æ˜ å°„ï¼š</p><p>ã€é¡¶ç‚¹ç±»å‹ã€‘ ï¼šé€‰æ‹©é¡¶ç‚¹ç±»å‹ï¼Œå¹¶ä¸ºå…¶ ID æ˜ å°„ä¸Šä¼ æ–‡ä»¶ä¸­åˆ—æ•°æ®ï¼›</p><p>ã€è¾¹ç±»å‹ã€‘ï¼šé€‰æ‹©è¾¹ç±»å‹ï¼Œä¸ºå…¶èµ·ç‚¹ç±»å‹å’Œç»ˆç‚¹ç±»å‹çš„ ID åˆ—æ˜ å°„ä¸Šä¼ æ–‡ä»¶çš„åˆ—æ•°æ®ï¼›</p></li><li><p>æ˜ å°„è®¾ç½®ï¼šä¸ºé€‰å®šçš„é¡¶ç‚¹ç±»å‹çš„å±æ€§æ˜ å°„ä¸Šä¼ æ–‡ä»¶ä¸­çš„åˆ—æ•°æ®ï¼Œæ­¤å¤„ï¼Œè‹¥å±æ€§åç§°ä¸æ–‡ä»¶çš„è¡¨å¤´åç§°ä¸€è‡´ï¼Œå¯è‡ªåŠ¨åŒ¹é…æ˜ å°„å±æ€§ï¼Œæ— éœ€æ‰‹åŠ¨å¡«é€‰</p></li><li><p>å®Œæˆè®¾ç½®åï¼Œæ˜¾ç¤ºè®¾ç½®åˆ—è¡¨ï¼Œæ–¹å¯è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼Œæ”¯æŒæ˜ å°„çš„æ–°å¢ã€ç¼–è¾‘ã€åˆ é™¤æ“ä½œ</p></li></ol></li></ol><p>è®¾ç½®æ˜ å°„çš„å¡«å†™å†…å®¹ï¼š</p><center><img src=/docs/images/images-hubble/334è®¾ç½®æ˜ å°„.png alt=image></center><p>æ˜ å°„åˆ—è¡¨ï¼š</p><center><img src=/docs/images/images-hubble/334è®¾ç½®æ˜ å°„2.png alt=image></center><h5 id=435å¯¼å…¥æ•°æ®>4.3.5 å¯¼å…¥æ•°æ®</h5><p>å¯¼å…¥å‰éœ€è¦å¡«å†™å¯¼å…¥è®¾ç½®å‚æ•°ï¼Œå¡«å†™å®Œæˆåï¼Œå¯å¼€å§‹å‘å›¾åº“ä¸­å¯¼å…¥æ•°æ®</p><ol><li>å¯¼å…¥è®¾ç½®</li></ol><ul><li>å¯¼å…¥è®¾ç½®å‚æ•°é¡¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå‡è®¾ç½®é»˜è®¤å€¼ï¼Œæ— éœ€æ‰‹åŠ¨å¡«å†™</li></ul><center><img src=/docs/images/images-hubble/335å¯¼å…¥è®¾ç½®.png alt=image></center><ol start=2><li>å¯¼å…¥è¯¦æƒ…</li></ol><ul><li>ç‚¹å‡»å¼€å§‹å¯¼å…¥ï¼Œå¼€å§‹æ–‡ä»¶çš„å¯¼å…¥ä»»åŠ¡</li><li>å¯¼å…¥è¯¦æƒ…ä¸­æä¾›æ¯ä¸ªä¸Šä¼ æ–‡ä»¶è®¾ç½®çš„æ˜ å°„ç±»å‹ã€å¯¼å…¥é€Ÿåº¦ã€å¯¼å…¥çš„è¿›åº¦ã€è€—æ—¶ä»¥åŠå½“å‰ä»»åŠ¡çš„å…·ä½“çŠ¶æ€ï¼Œå¹¶å¯å¯¹æ¯ä¸ªä»»åŠ¡è¿›è¡Œæš‚åœã€ç»§ç»­ã€åœæ­¢ç­‰æ“ä½œ</li><li>è‹¥å¯¼å…¥å¤±è´¥ï¼Œå¯æŸ¥çœ‹å…·ä½“åŸå› </li></ul><center><img src=/docs/images/images-hubble/335å¯¼å…¥è¯¦æƒ….png alt=image></center><h4 id=44æ•°æ®åˆ†æ>4.4 æ•°æ®åˆ†æ</h4><h5 id=441æ¨¡å—å…¥å£>4.4.1 æ¨¡å—å…¥å£</h5><p>å·¦ä¾§å¯¼èˆªå¤„ï¼š</p><center><img src=/docs/images/images-hubble/341åˆ†æå…¥å£.png alt=image></center><h5 id=442å¤šå›¾åˆ‡æ¢>4.4.2 å¤šå›¾åˆ‡æ¢</h5><p>é€šè¿‡å·¦ä¾§åˆ‡æ¢å…¥å£ï¼Œçµæ´»åˆ‡æ¢å¤šå›¾çš„æ“ä½œç©ºé—´</p><center><img src=/docs/images/images-hubble/342å¤šå›¾åˆ‡æ¢.png alt=image></center><h5 id=443å›¾åˆ†æä¸å¤„ç†>4.4.3 å›¾åˆ†æä¸å¤„ç†</h5><p>HugeGraph æ”¯æŒ Apache TinkerPop3 çš„å›¾éå†æŸ¥è¯¢è¯­è¨€ Gremlinï¼ŒGremlin æ˜¯ä¸€ç§é€šç”¨çš„å›¾æ•°æ®åº“æŸ¥è¯¢è¯­è¨€ï¼Œé€šè¿‡è¾“å…¥ Gremlin è¯­å¥ï¼Œç‚¹å‡»æ‰§è¡Œï¼Œå³å¯æ‰§è¡Œå›¾æ•°æ®çš„æŸ¥è¯¢åˆ†ææ“ä½œï¼Œå¹¶å¯å®ç°é¡¶ç‚¹/è¾¹çš„åˆ›å»ºåŠåˆ é™¤ã€é¡¶ç‚¹/è¾¹çš„å±æ€§ä¿®æ”¹ç­‰ã€‚</p><p>Gremlin æŸ¥è¯¢åï¼Œä¸‹æ–¹ä¸ºå›¾ç»“æœå±•ç¤ºåŒºåŸŸï¼Œæä¾› 3 ç§å›¾ç»“æœå±•ç¤ºæ–¹å¼ï¼Œåˆ†åˆ«ä¸ºï¼šã€å›¾æ¨¡å¼ã€‘ã€ã€è¡¨æ ¼æ¨¡å¼ã€‘ã€ã€Json æ¨¡å¼ã€‘ã€‚</p><p>æ”¯æŒç¼©æ”¾ã€å±…ä¸­ã€å…¨å±ã€å¯¼å‡ºç­‰æ“ä½œã€‚</p><p>ã€å›¾æ¨¡å¼ã€‘</p><center><img src=/docs/images/images-hubble/343å›¾åˆ†æ-å›¾.png alt=image></center><p>ã€è¡¨æ ¼æ¨¡å¼ã€‘</p><center><img src=/docs/images/images-hubble/343å›¾åˆ†æ-è¡¨æ ¼.png alt=image></center><p>ã€Json æ¨¡å¼ã€‘</p><center><img src=/docs/images/images-hubble/343å›¾åˆ†æ-json.png alt=image></center><h5 id=444æ•°æ®è¯¦æƒ…>4.4.4 æ•°æ®è¯¦æƒ…</h5><p>ç‚¹å‡»é¡¶ç‚¹/è¾¹å®ä½“ï¼Œå¯æŸ¥çœ‹é¡¶ç‚¹/è¾¹çš„æ•°æ®è¯¦æƒ…ï¼ŒåŒ…æ‹¬ï¼šé¡¶ç‚¹/è¾¹ç±»å‹ï¼Œé¡¶ç‚¹ IDï¼Œå±æ€§åŠå¯¹åº”å€¼ï¼Œæ‹“å±•å›¾çš„ä¿¡æ¯å±•ç¤ºç»´åº¦ï¼Œæé«˜æ˜“ç”¨æ€§ã€‚</p><h5 id=445å›¾ç»“æœçš„å¤šç»´è·¯å¾„æŸ¥è¯¢>4.4.5 å›¾ç»“æœçš„å¤šç»´è·¯å¾„æŸ¥è¯¢</h5><p>é™¤äº†å…¨å±€çš„æŸ¥è¯¢å¤–ï¼Œå¯é’ˆå¯¹æŸ¥è¯¢ç»“æœä¸­çš„é¡¶ç‚¹è¿›è¡Œæ·±åº¦å®šåˆ¶åŒ–æŸ¥è¯¢ä»¥åŠéšè—æ“ä½œï¼Œå®ç°å›¾ç»“æœçš„å®šåˆ¶åŒ–æŒ–æ˜ã€‚</p><p>å³å‡»é¡¶ç‚¹ï¼Œå‡ºç°é¡¶ç‚¹çš„èœå•å…¥å£ï¼Œå¯è¿›è¡Œå±•ç¤ºã€æŸ¥è¯¢ã€éšè—ç­‰æ“ä½œã€‚</p><ul><li>å±•å¼€ï¼šç‚¹å‡»åï¼Œå±•ç¤ºä¸é€‰ä¸­ç‚¹å…³è”çš„é¡¶ç‚¹ã€‚</li><li>æŸ¥è¯¢ï¼šé€šè¿‡é€‰æ‹©ä¸é€‰ä¸­ç‚¹å…³è”çš„è¾¹ç±»å‹åŠè¾¹æ–¹å‘ï¼Œåœ¨æ­¤æ¡ä»¶ä¸‹ï¼Œå†é€‰æ‹©å…¶å±æ€§åŠç›¸åº”ç­›é€‰è§„åˆ™ï¼Œå¯å®ç°å®šåˆ¶åŒ–çš„è·¯å¾„å±•ç¤ºã€‚</li><li>éšè—ï¼šç‚¹å‡»åï¼Œéšè—é€‰ä¸­ç‚¹åŠä¸ä¹‹å…³è”çš„è¾¹ã€‚</li></ul><p>åŒå‡»é¡¶ç‚¹ï¼Œä¹Ÿå¯å±•ç¤ºä¸é€‰ä¸­ç‚¹å…³è”çš„é¡¶ç‚¹ã€‚</p><center><img src=/docs/images/images-hubble/345å®šåˆ¶è·¯å¾„æŸ¥è¯¢.png alt=image></center><h5 id=446æ–°å¢é¡¶ç‚¹è¾¹>4.4.6 æ–°å¢é¡¶ç‚¹/è¾¹</h5><h6 id=4461æ–°å¢é¡¶ç‚¹>4.4.6.1 æ–°å¢é¡¶ç‚¹</h6><p>åœ¨å›¾åŒºå¯é€šè¿‡ä¸¤ä¸ªå…¥å£ï¼ŒåŠ¨æ€æ–°å¢é¡¶ç‚¹ï¼Œå¦‚ä¸‹ï¼š</p><ol><li>ç‚¹å‡»å›¾åŒºé¢æ¿ï¼Œå‡ºç°æ·»åŠ é¡¶ç‚¹å…¥å£</li><li>ç‚¹å‡»å³ä¸Šè§’çš„æ“ä½œæ ä¸­çš„é¦–ä¸ªå›¾æ ‡</li></ol><p>é€šè¿‡é€‰æ‹©æˆ–å¡«å†™é¡¶ç‚¹ç±»å‹ã€ID å€¼ã€å±æ€§ä¿¡æ¯ï¼Œå®Œæˆé¡¶ç‚¹çš„å¢åŠ ã€‚</p><p>å…¥å£å¦‚ä¸‹ï¼š</p><center><img src=/docs/images/images-hubble/346æ–°å¢é¡¶ç‚¹.png alt=image></center><p>æ·»åŠ é¡¶ç‚¹å†…å®¹å¦‚ä¸‹ï¼š</p><center><img src=/docs/images/images-hubble/346æ–°å¢é¡¶ç‚¹2.png alt=image></center><h6 id=4462æ–°å¢è¾¹>4.4.6.2 æ–°å¢è¾¹</h6><p>å³å‡»å›¾ç»“æœä¸­çš„é¡¶ç‚¹ï¼Œå¯å¢åŠ è¯¥ç‚¹çš„å‡ºè¾¹æˆ–è€…å…¥è¾¹ã€‚</p><h5 id=447æ‰§è¡Œè®°å½•ä¸æ”¶è—çš„æŸ¥è¯¢>4.4.7 æ‰§è¡Œè®°å½•ä¸æ”¶è—çš„æŸ¥è¯¢</h5><ol><li>å›¾åŒºä¸‹æ–¹è®°è½½æ¯æ¬¡æŸ¥è¯¢è®°å½•ï¼ŒåŒ…æ‹¬ï¼šæŸ¥è¯¢æ—¶é—´ã€æ‰§è¡Œç±»å‹ã€å†…å®¹ã€çŠ¶æ€ã€è€—æ—¶ã€ä»¥åŠã€æ”¶è—ã€‘å’Œã€åŠ è½½ã€‘æ“ä½œï¼Œå®ç°å›¾æ‰§è¡Œçš„å…¨æ–¹ä½è®°å½•ï¼Œæœ‰è¿¹å¯å¾ªï¼Œå¹¶å¯å¯¹æ‰§è¡Œå†…å®¹å¿«é€ŸåŠ è½½å¤ç”¨</li><li>æä¾›è¯­å¥çš„æ”¶è—åŠŸèƒ½ï¼Œå¯å¯¹å¸¸ç”¨è¯­å¥è¿›è¡Œæ”¶è—æ“ä½œï¼Œæ–¹ä¾¿é«˜é¢‘è¯­å¥å¿«é€Ÿè°ƒç”¨</li></ol><center><img src=/docs/images/images-hubble/347æ”¶è—.png alt=image></center><h4 id=45ä»»åŠ¡ç®¡ç†>4.5 ä»»åŠ¡ç®¡ç†</h4><h5 id=451æ¨¡å—å…¥å£>4.5.1 æ¨¡å—å…¥å£</h5><p>å·¦ä¾§å¯¼èˆªå¤„ï¼š</p><center><img src=/docs/images/images-hubble/351ä»»åŠ¡ç®¡ç†å…¥å£.png alt=image></center><h5 id=452ä»»åŠ¡ç®¡ç†>4.5.2 ä»»åŠ¡ç®¡ç†</h5><ol><li>æä¾›å¼‚æ­¥ä»»åŠ¡çš„ç»Ÿä¸€çš„ç®¡ç†ä¸ç»“æœæŸ¥çœ‹ï¼Œå¼‚æ­¥ä»»åŠ¡åŒ…æ‹¬ 4 ç±»ï¼Œåˆ†åˆ«ä¸ºï¼š</li></ol><ul><li>gremlinï¼šGremlin ä»»åŠ¡åŠ¡</li><li>algorithmï¼šOLAP ç®—æ³•ä»»åŠ¡åŠ¡</li><li>remove_schemaï¼šåˆ é™¤å…ƒæ•°æ®</li><li>rebuild_indexï¼šé‡å»ºç´¢å¼•</li></ul><ol start=2><li>åˆ—è¡¨æ˜¾ç¤ºå½“å‰å›¾çš„å¼‚æ­¥ä»»åŠ¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼šä»»åŠ¡ IDï¼Œä»»åŠ¡åç§°ï¼Œä»»åŠ¡ç±»å‹ï¼Œåˆ›å»ºæ—¶é—´ï¼Œè€—æ—¶ï¼ŒçŠ¶æ€ï¼Œæ“ä½œï¼Œå®ç°å¯¹å¼‚æ­¥ä»»åŠ¡çš„ç®¡ç†ã€‚</li><li>æ”¯æŒå¯¹ä»»åŠ¡ç±»å‹å’ŒçŠ¶æ€è¿›è¡Œç­›é€‰</li><li>æ”¯æŒæœç´¢ä»»åŠ¡ ID å’Œä»»åŠ¡åç§°</li><li>å¯å¯¹å¼‚æ­¥ä»»åŠ¡è¿›è¡Œåˆ é™¤æˆ–æ‰¹é‡åˆ é™¤æ“ä½œ</li></ol><center><img src=/docs/images/images-hubble/352ä»»åŠ¡åˆ—è¡¨.png alt=image></center><h5 id=453gremlin-å¼‚æ­¥ä»»åŠ¡>4.5.3 Gremlin å¼‚æ­¥ä»»åŠ¡</h5><p>1.åˆ›å»ºä»»åŠ¡</p><ul><li>æ•°æ®åˆ†ææ¨¡å—ï¼Œç›®å‰æ”¯æŒä¸¤ç§ Gremlin æ“ä½œï¼ŒGremlin æŸ¥è¯¢å’Œ Gremlin ä»»åŠ¡ï¼›è‹¥ç”¨æˆ·åˆ‡æ¢åˆ° Gremlin ä»»åŠ¡ï¼Œç‚¹å‡»æ‰§è¡Œåï¼Œåœ¨å¼‚æ­¥ä»»åŠ¡ä¸­å¿ƒä¼šå»ºç«‹ä¸€æ¡å¼‚æ­¥ä»»åŠ¡ï¼›
2.ä»»åŠ¡æäº¤</li><li>ä»»åŠ¡æäº¤æˆåŠŸåï¼Œå›¾åŒºéƒ¨åˆ†è¿”å›æäº¤ç»“æœå’Œä»»åŠ¡ ID
3.ä»»åŠ¡è¯¦æƒ…</li><li>æä¾›ã€æŸ¥çœ‹ã€‘å…¥å£ï¼Œå¯è·³è½¬åˆ°ä»»åŠ¡è¯¦æƒ…æŸ¥çœ‹å½“å‰ä»»åŠ¡å…·ä½“æ‰§è¡Œæƒ…å†µè·³è½¬åˆ°ä»»åŠ¡ä¸­å¿ƒåï¼Œç›´æ¥æ˜¾ç¤ºå½“å‰æ‰§è¡Œçš„ä»»åŠ¡è¡Œ</li></ul><center><img src=/docs/images/images-hubble/353gremlinä»»åŠ¡.png alt=image></center><p>ç‚¹å‡»æŸ¥çœ‹å…¥å£ï¼Œè·³è½¬åˆ°ä»»åŠ¡ç®¡ç†åˆ—è¡¨ï¼Œå¦‚ä¸‹ï¼š</p><center><img src=/docs/images/images-hubble/353gremlinä»»åŠ¡2.png alt=image></center><p>4.æŸ¥çœ‹ç»“æœ</p><ul><li>ç»“æœé€šè¿‡ json å½¢å¼å±•ç¤º</li></ul><h5 id=454olap-ç®—æ³•ä»»åŠ¡>4.5.4 OLAP ç®—æ³•ä»»åŠ¡</h5><p>Hubble ä¸Šæš‚æœªæä¾›å¯è§†åŒ–çš„ OLAP ç®—æ³•æ‰§è¡Œï¼Œå¯è°ƒç”¨ RESTful API è¿›è¡Œ OLAP ç±»ç®—æ³•ä»»åŠ¡ï¼Œåœ¨ä»»åŠ¡ç®¡ç†ä¸­é€šè¿‡ ID æ‰¾åˆ°ç›¸åº”ä»»åŠ¡ï¼ŒæŸ¥çœ‹è¿›åº¦ä¸ç»“æœç­‰ã€‚</p><h5 id=455åˆ é™¤å…ƒæ•°æ®é‡å»ºç´¢å¼•>4.5.5 åˆ é™¤å…ƒæ•°æ®ã€é‡å»ºç´¢å¼•</h5><p>1.åˆ›å»ºä»»åŠ¡</p><ul><li>åœ¨å…ƒæ•°æ®å»ºæ¨¡æ¨¡å—ä¸­ï¼Œåˆ é™¤å…ƒæ•°æ®æ—¶ï¼Œå¯å»ºç«‹åˆ é™¤å…ƒæ•°æ®çš„å¼‚æ­¥ä»»åŠ¡</li></ul><center><img src=/docs/images/images-hubble/355åˆ é™¤å…ƒæ•°æ®.png alt=image></center><ul><li>åœ¨ç¼–è¾‘å·²æœ‰çš„é¡¶ç‚¹/è¾¹ç±»å‹æ“ä½œä¸­ï¼Œæ–°å¢ç´¢å¼•æ—¶ï¼Œå¯å»ºç«‹åˆ›å»ºç´¢å¼•çš„å¼‚æ­¥ä»»åŠ¡</li></ul><center><img src=/docs/images/images-hubble/355æ„å»ºç´¢å¼•.png alt=image></center><p>2.ä»»åŠ¡è¯¦æƒ…</p><ul><li>ç¡®è®¤/ä¿å­˜åï¼Œå¯è·³è½¬åˆ°ä»»åŠ¡ä¸­å¿ƒæŸ¥çœ‹å½“å‰ä»»åŠ¡çš„è¯¦æƒ…</li></ul><center><img src=/docs/images/images-hubble/355ä»»åŠ¡è¯¦æƒ….png alt=image></center><h3 id=5-é…ç½®è¯´æ˜>5 é…ç½®è¯´æ˜</h3><p>HugeGraph-Hubble å¯ä»¥é€šè¿‡ <code>conf/hugegraph-hubble.properties</code> æ–‡ä»¶è¿›è¡Œé…ç½®ã€‚</p><h4 id=51-æœåŠ¡å™¨é…ç½®>5.1 æœåŠ¡å™¨é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>hubble.host</code></td><td><code>0.0.0.0</code></td><td>Hubble æœåŠ¡ç»‘å®šçš„åœ°å€</td></tr><tr><td><code>hubble.port</code></td><td><code>8088</code></td><td>Hubble æœåŠ¡ç›‘å¬çš„ç«¯å£</td></tr></tbody></table><h4 id=52-gremlin-æŸ¥è¯¢é™åˆ¶>5.2 Gremlin æŸ¥è¯¢é™åˆ¶</h4><p>è¿™äº›è®¾ç½®æ§åˆ¶æŸ¥è¯¢ç»“æœé™åˆ¶ï¼Œé˜²æ­¢å†…å­˜é—®é¢˜ï¼š</p><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>gremlin.suffix_limit</code></td><td><code>250</code></td><td>æŸ¥è¯¢åç¼€æœ€å¤§é•¿åº¦</td></tr><tr><td><code>gremlin.vertex_degree_limit</code></td><td><code>100</code></td><td>æ˜¾ç¤ºçš„æœ€å¤§é¡¶ç‚¹åº¦æ•°</td></tr><tr><td><code>gremlin.edges_total_limit</code></td><td><code>500</code></td><td>è¿”å›çš„æœ€å¤§è¾¹æ•°</td></tr><tr><td><code>gremlin.batch_query_ids</code></td><td><code>100</code></td><td>ID æ‰¹é‡æŸ¥è¯¢å¤§å°</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-85740db4cef1a86c9bd97f4c81a4a701>2.2 - HugeGraph-Loader Quick Start</h1><h3 id=1-hugegraph-loader-æ¦‚è¿°>1 HugeGraph-Loader æ¦‚è¿°</h3><p>HugeGraph-Loader æ˜¯ HugeGraph çš„æ•°æ®å¯¼å…¥ç»„ä»¶ï¼Œèƒ½å¤Ÿå°†å¤šç§æ•°æ®æºçš„æ•°æ®è½¬åŒ–ä¸ºå›¾çš„é¡¶ç‚¹å’Œè¾¹å¹¶æ‰¹é‡å¯¼å…¥åˆ°å›¾æ•°æ®åº“ä¸­ã€‚</p><p>ç›®å‰æ”¯æŒçš„æ•°æ®æºåŒ…æ‹¬ï¼š</p><ul><li>æœ¬åœ°ç£ç›˜æ–‡ä»¶æˆ–ç›®å½•ï¼Œæ”¯æŒ TEXTã€CSV å’Œ JSON æ ¼å¼çš„æ–‡ä»¶ï¼Œæ”¯æŒå‹ç¼©æ–‡ä»¶</li><li>HDFS æ–‡ä»¶æˆ–ç›®å½•ï¼Œæ”¯æŒå‹ç¼©æ–‡ä»¶</li><li>ä¸»æµå…³ç³»å‹æ•°æ®åº“ï¼Œå¦‚ MySQLã€PostgreSQLã€Oracleã€SQL Server</li></ul><p>æœ¬åœ°ç£ç›˜æ–‡ä»¶å’Œ HDFS æ–‡ä»¶æ”¯æŒæ–­ç‚¹ç»­ä¼ ã€‚</p><p>åé¢ä¼šå…·ä½“è¯´æ˜ã€‚</p><blockquote><p><strong>æ³¨æ„</strong>ï¼šä½¿ç”¨ HugeGraph-Loader éœ€è¦ä¾èµ– HugeGraph Server æœåŠ¡ï¼Œä¸‹è½½å’Œå¯åŠ¨ Server è¯·å‚è€ƒ <a href=/cn/docs/quickstart/hugegraph/hugegraph-server>HugeGraph-Server Quick Start</a></p><p><strong>æµ‹è¯•æŒ‡å—</strong>ï¼šå¦‚éœ€åœ¨æœ¬åœ°è¿è¡Œ Loader æµ‹è¯•ï¼Œè¯·å‚è€ƒ <a href=/cn/docs/guides/toolchain-local-test>å·¥å…·é“¾æœ¬åœ°æµ‹è¯•æŒ‡å—</a></p></blockquote><h3 id=2-è·å–-hugegraph-loader>2 è·å– HugeGraph-Loader</h3><p>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è·å– HugeGraph-Loaderï¼š</p><ul><li>ä½¿ç”¨ Docker é•œåƒ (ä¾¿äº<strong>æµ‹è¯•</strong>)</li><li>ä¸‹è½½å·²ç¼–è¯‘çš„å‹ç¼©åŒ…</li><li>å…‹éš†æºç ç¼–è¯‘å®‰è£…</li></ul><h4 id=21-ä½¿ç”¨-docker-é•œåƒ-ä¾¿äºæµ‹è¯•>2.1 ä½¿ç”¨ Docker é•œåƒ (ä¾¿äº<strong>æµ‹è¯•</strong>)</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>docker run -itd --name loader hugegraph/loader:1.5.0</code> éƒ¨ç½² loader æœåŠ¡ã€‚å¯¹äºéœ€è¦åŠ è½½çš„æ•°æ®ï¼Œåˆ™å¯ä»¥é€šè¿‡æŒ‚è½½ <code>-v /path/to/data/file:/loader/file</code> æˆ–è€… <code>docker cp</code> çš„æ–¹å¼å°†æ–‡ä»¶å¤åˆ¶åˆ° loader å®¹å™¨å†…éƒ¨ã€‚</p><p>æˆ–è€…ä½¿ç”¨ docker-compose å¯åŠ¨ loader, å¯åŠ¨å‘½ä»¤ä¸º <code>docker-compose up -d</code>, æ ·ä¾‹çš„ docker-compose.yml å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>version</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;3&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>server</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/hugegraph:1.5.0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>server</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>PASSWORD=xxx</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#0000cf;font-weight:700>8080</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8080</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>hubble</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/hubble:1.5.0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hubble</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ports</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#0000cf;font-weight:700>8088</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>8088</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>loader</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/loader:1.5.0</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>loader</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic># mount your own data here</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic># volumes:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#8f5902;font-style:italic># - /path/to/data/file:/loader/file</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>å…·ä½“çš„æ•°æ®å¯¼å…¥æµç¨‹å¯ä»¥å‚è€ƒ <a href=#45-%E4%BD%BF%E7%94%A8-docker-%E5%AF%BC%E5%85%A5>4.5 ä½¿ç”¨ docker å¯¼å…¥</a></p><blockquote><p>æ³¨æ„ï¼š</p><ol><li><p>hugegraph-loader çš„ docker é•œåƒæ˜¯ä¸€ä¸ªä¾¿æ·ç‰ˆæœ¬ï¼Œç”¨äºå¿«é€Ÿå¯åŠ¨ loaderï¼Œå¹¶ä¸æ˜¯<strong>å®˜æ–¹å‘å¸ƒç‰©æ–™åŒ…æ–¹å¼</strong>ã€‚ä½ å¯ä»¥ä» <a href=https://infra.apache.org/release-distribution.html#dockerhub>ASF Release Distribution Policy</a> ä¸­å¾—åˆ°æ›´å¤šç»†èŠ‚ã€‚</p></li><li><p>æ¨èä½¿ç”¨ <code>release tag</code> (å¦‚ <code>1.5.0</code>) ä»¥è·å–ç¨³å®šç‰ˆã€‚ä½¿ç”¨ <code>latest</code> tag å¯ä»¥ä½¿ç”¨å¼€å‘ä¸­çš„æœ€æ–°åŠŸèƒ½ã€‚</p></li></ol></blockquote><h4 id=22-ä¸‹è½½å·²ç¼–è¯‘çš„å‹ç¼©åŒ…>2.2 ä¸‹è½½å·²ç¼–è¯‘çš„å‹ç¼©åŒ…</h4><p>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ <code>HugeGraph-Toolchain</code> Release åŒ…ï¼Œé‡Œé¢åŒ…å«äº† <code>loader + tool + hubble</code> å…¨å¥—å·¥å…·ï¼Œå¦‚æœä½ å·²ç»ä¸‹è½½ï¼Œå¯è·³è¿‡é‡å¤æ­¥éª¤</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>/apache-hugegraph-toolchain-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>.tar.gz
</span></span><span style=display:flex><span>tar zxf *hugegraph*.tar.gz
</span></span></code></pre></div><h4 id=23-å…‹éš†æºç ç¼–è¯‘å®‰è£…>2.3 å…‹éš†æºç ç¼–è¯‘å®‰è£…</h4><p>å…‹éš†æœ€æ–°ç‰ˆæœ¬çš„ HugeGraph-Loader æºç åŒ…ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. get from github</span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/hugegraph-toolchain.git
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. get from direct url (please choose the **latest release** version)</span>
</span></span><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>/apache-hugegraph-toolchain-incubating-<span style=color:#ce5c00;font-weight:700>{</span>version<span style=color:#ce5c00;font-weight:700>}</span>-src.tar.gz
</span></span></code></pre></div><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  æ‰‹åŠ¨å®‰è£… ojdbc æ–¹æ³•</summary><p>ç”±äº Oracle ojdbc license çš„é™åˆ¶ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£… ojdbc åˆ°æœ¬åœ° maven ä»“åº“ã€‚
è®¿é—® <a href=https://www.oracle.com/database/technologies/appdev/jdbc-drivers-archive.html>Oracle jdbc ä¸‹è½½</a> é¡µé¢ã€‚é€‰æ‹© Oracle Database 12c Release 2 (12.2.0.1) driversï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p>æ‰“å¼€é“¾æ¥åï¼Œé€‰æ‹©â€œojdbc8.jarâ€</p><p>æŠŠ ojdbc8 å®‰è£…åˆ°æœ¬åœ° maven ä»“åº“ï¼Œè¿›å…¥<code>ojdbc8.jar</code>æ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>mvn install:install-file -Dfile=./ojdbc8.jar -DgroupId=com.oracle -DartifactId=ojdbc8 -Dversion=12.2.0.1 -Dpackaging=jar
</span></span></code></pre></div></details><p>ç¼–è¯‘ç”Ÿæˆ tar åŒ…ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> hugegraph-loader
</span></span><span style=display:flex><span>mvn clean package -DskipTests
</span></span></code></pre></div><h3 id=3-ä½¿ç”¨æµç¨‹>3 ä½¿ç”¨æµç¨‹</h3><p>ä½¿ç”¨ HugeGraph-Loader çš„åŸºæœ¬æµç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š</p><ul><li>ç¼–å†™å›¾æ¨¡å‹</li><li>å‡†å¤‡æ•°æ®æ–‡ä»¶</li><li>ç¼–å†™è¾“å…¥æºæ˜ å°„æ–‡ä»¶</li><li>æ‰§è¡Œå‘½ä»¤å¯¼å…¥</li></ul><h4 id=31-ç¼–å†™å›¾æ¨¡å‹>3.1 ç¼–å†™å›¾æ¨¡å‹</h4><p>è¿™ä¸€æ­¥æ˜¯å»ºæ¨¡çš„è¿‡ç¨‹ï¼Œç”¨æˆ·éœ€è¦å¯¹è‡ªå·±å·²æœ‰çš„æ•°æ®å’Œæƒ³è¦åˆ›å»ºçš„å›¾æ¨¡å‹æœ‰ä¸€ä¸ªæ¸…æ™°çš„æ„æƒ³ï¼Œç„¶åç¼–å†™ schema å»ºç«‹å›¾æ¨¡å‹ã€‚</p><p>æ¯”å¦‚æƒ³åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰ä¸¤ç±»é¡¶ç‚¹åŠä¸¤ç±»è¾¹çš„å›¾ï¼Œé¡¶ç‚¹æ˜¯"äºº"å’Œ"è½¯ä»¶"ï¼Œè¾¹æ˜¯"äººè®¤è¯†äºº"å’Œ"äººåˆ›é€ è½¯ä»¶"ï¼Œå¹¶ä¸”è¿™äº›é¡¶ç‚¹å’Œè¾¹éƒ½å¸¦æœ‰ä¸€äº›å±æ€§ï¼Œæ¯”å¦‚é¡¶ç‚¹"äºº"æœ‰ï¼š&ldquo;å§“å&rdquo;ã€&ldquo;å¹´é¾„"ç­‰å±æ€§ï¼Œ
&ldquo;è½¯ä»¶"æœ‰ï¼š&ldquo;åå­—&rdquo;ã€&ldquo;å”®å–ä»·æ ¼"ç­‰å±æ€§ï¼›è¾¹"è®¤è¯†"æœ‰ï¼š&ldquo;æ—¥æœŸ"å±æ€§ç­‰ã€‚</p><div style=text-align:center><img src=/docs/images/demo-graph-model.png alt=image><p>ç¤ºä¾‹å›¾æ¨¡å‹</p></div><p>åœ¨è®¾è®¡å¥½äº†å›¾æ¨¡å‹ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>groovy</code>ç¼–å†™å‡º<code>schema</code>çš„å®šä¹‰ï¼Œå¹¶ä¿å­˜è‡³æ–‡ä»¶ä¸­ï¼Œè¿™é‡Œå‘½åä¸º<code>schema.groovy</code>ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-groovy data-lang=groovy><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// åˆ›å»ºä¸€äº›å±æ€§
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asInt</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asDouble</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// åˆ›å»º person é¡¶ç‚¹ç±»å‹ï¼Œå…¶æ‹¥æœ‰ä¸‰ä¸ªå±æ€§ï¼šname, age, cityï¼Œä¸»é”®æ˜¯ name
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>primaryKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// åˆ›å»º software é¡¶ç‚¹ç±»å‹ï¼Œå…¶æ‹¥æœ‰ä¸¤ä¸ªå±æ€§ï¼šname, priceï¼Œä¸»é”®æ˜¯ name
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>primaryKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// åˆ›å»º knows è¾¹ç±»å‹ï¼Œè¿™ç±»è¾¹æ˜¯ä» person æŒ‡å‘ person çš„
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>sourceLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>targetLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// åˆ›å»º created è¾¹ç±»å‹ï¼Œè¿™ç±»è¾¹æ˜¯ä» person æŒ‡å‘ software çš„
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>sourceLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>targetLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div><blockquote><p>å…³äº schema çš„è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ <a href=/docs/clients/hugegraph-client>hugegraph-client</a> ä¸­å¯¹åº”éƒ¨åˆ†ã€‚</p></blockquote><h4 id=32-å‡†å¤‡æ•°æ®>3.2 å‡†å¤‡æ•°æ®</h4><p>ç›®å‰ HugeGraph-Loader æ”¯æŒçš„æ•°æ®æºåŒ…æ‹¬ï¼š</p><ul><li>æœ¬åœ°ç£ç›˜æ–‡ä»¶æˆ–ç›®å½•</li><li>HDFS æ–‡ä»¶æˆ–ç›®å½•</li><li>éƒ¨åˆ†å…³ç³»å‹æ•°æ®åº“</li><li>Kafka topic</li></ul><h5 id=321-æ•°æ®æºç»“æ„>3.2.1 æ•°æ®æºç»“æ„</h5><h6 id=3211-æœ¬åœ°ç£ç›˜æ–‡ä»¶æˆ–ç›®å½•>3.2.1.1 æœ¬åœ°ç£ç›˜æ–‡ä»¶æˆ–ç›®å½•</h6><p>ç”¨æˆ·å¯ä»¥æŒ‡å®šæœ¬åœ°ç£ç›˜æ–‡ä»¶ä½œä¸ºæ•°æ®æºï¼Œå¦‚æœæ•°æ®åˆ†æ•£åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œä¹Ÿæ”¯æŒä»¥æŸä¸ªç›®å½•ä½œä¸ºæ•°æ®æºï¼Œä½†æš‚æ—¶ä¸æ”¯æŒä»¥å¤šä¸ªç›®å½•ä½œä¸ºæ•°æ®æºã€‚</p><p>æ¯”å¦‚ï¼šæˆ‘çš„æ•°æ®åˆ†æ•£åœ¨å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œpart-0ã€part-1 &mldr; part-nï¼Œè¦æƒ³æ‰§è¡Œå¯¼å…¥ï¼Œå¿…é¡»ä¿è¯å®ƒä»¬æ˜¯æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸‹çš„ã€‚ç„¶ååœ¨ loader çš„æ˜ å°„æ–‡ä»¶ä¸­ï¼Œå°†<code>path</code>æŒ‡å®šä¸ºè¯¥ç›®å½•å³å¯ã€‚</p><p>æ”¯æŒçš„æ–‡ä»¶æ ¼å¼åŒ…æ‹¬ï¼š</p><ul><li>TEXT</li><li>CSV</li><li>JSON</li></ul><p>TEXT æ˜¯è‡ªå®šä¹‰åˆ†éš”ç¬¦çš„æ–‡æœ¬æ–‡ä»¶ï¼Œç¬¬ä¸€è¡Œé€šå¸¸æ˜¯æ ‡é¢˜ï¼Œè®°å½•äº†æ¯ä¸€åˆ—çš„åç§°ï¼Œä¹Ÿå…è®¸æ²¡æœ‰æ ‡é¢˜è¡Œï¼ˆåœ¨æ˜ å°„æ–‡ä»¶ä¸­æŒ‡å®šï¼‰ã€‚å…¶ä½™çš„æ¯è¡Œä»£è¡¨ä¸€æ¡è®°å½•ï¼Œä¼šè¢«è½¬åŒ–ä¸ºä¸€ä¸ªé¡¶ç‚¹/è¾¹ï¼›è¡Œçš„æ¯ä¸€åˆ—å¯¹åº”ä¸€ä¸ªå­—æ®µï¼Œä¼šè¢«è½¬åŒ–ä¸ºé¡¶ç‚¹/è¾¹çš„ idã€label æˆ–å±æ€§ï¼›</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>id|name|lang|price|ISBN
</span></span><span style=display:flex><span>1|lop|java|328|ISBN978-7-107-18618-5
</span></span><span style=display:flex><span>2|ripple|java|199|ISBN978-7-100-13678-5
</span></span></code></pre></div><p>CSV æ˜¯åˆ†éš”ç¬¦ä¸ºé€—å·<code>,</code>çš„ TEXT æ–‡ä»¶ï¼Œå½“åˆ—å€¼æœ¬èº«åŒ…å«é€—å·æ—¶ï¼Œè¯¥åˆ—å€¼éœ€è¦ç”¨åŒå¼•å·åŒ…èµ·æ¥ï¼Œå¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>marko,29,Beijing
</span></span><span style=display:flex><span>&#34;li,nary&#34;,26,&#34;Wu,han&#34;
</span></span></code></pre></div><p>JSON æ–‡ä»¶è¦æ±‚æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ª JSON ä¸²ï¼Œä¸”æ¯è¡Œçš„æ ¼å¼éœ€ä¿æŒä¸€è‡´ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vadas&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;date&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;20160110&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;weight&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;josh&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;date&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;20130220&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;weight&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1.0</span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h6 id=3212-hdfs-æ–‡ä»¶æˆ–ç›®å½•>3.2.1.2 HDFS æ–‡ä»¶æˆ–ç›®å½•</h6><p>ç”¨æˆ·ä¹Ÿå¯ä»¥æŒ‡å®š HDFS æ–‡ä»¶æˆ–ç›®å½•ä½œä¸ºæ•°æ®æºï¼Œä¸Šé¢å…³äº<code>æœ¬åœ°ç£ç›˜æ–‡ä»¶æˆ–ç›®å½•</code>çš„è¦æ±‚å…¨éƒ¨é€‚ç”¨äºè¿™é‡Œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé‰´äº HDFS ä¸Šé€šå¸¸å­˜å‚¨çš„éƒ½æ˜¯å‹ç¼©æ–‡ä»¶ï¼Œloader ä¹Ÿæä¾›äº†å¯¹å‹ç¼©æ–‡ä»¶çš„æ”¯æŒï¼Œå¹¶ä¸”<code>æœ¬åœ°ç£ç›˜æ–‡ä»¶æˆ–ç›®å½•</code>åŒæ ·æ”¯æŒå‹ç¼©æ–‡ä»¶ã€‚</p><p>ç›®å‰æ”¯æŒçš„å‹ç¼©æ–‡ä»¶ç±»å‹åŒ…æ‹¬ï¼šGZIPã€BZ2ã€XZã€LZMAã€SNAPPY_RAWã€SNAPPY_FRAMEDã€Zã€DEFLATEã€LZ4_BLOCKã€LZ4_FRAMEDã€ORC å’Œ PARQUETã€‚</p><h6 id=3213-ä¸»æµå…³ç³»å‹æ•°æ®åº“>3.2.1.3 ä¸»æµå…³ç³»å‹æ•°æ®åº“</h6><p>loader è¿˜æ”¯æŒä»¥éƒ¨åˆ†å…³ç³»å‹æ•°æ®åº“ä½œä¸ºæ•°æ®æºï¼Œç›®å‰æ”¯æŒ MySQLã€PostgreSQLã€Oracle å’Œ SQL Serverã€‚</p><p>ä½†ç›®å‰å¯¹è¡¨ç»“æ„è¦æ±‚è¾ƒä¸ºä¸¥æ ¼ï¼Œå¦‚æœå¯¼å…¥è¿‡ç¨‹ä¸­éœ€è¦åš<strong>å…³è”æŸ¥è¯¢</strong>ï¼Œè¿™æ ·çš„è¡¨ç»“æ„æ˜¯ä¸å…è®¸çš„ã€‚å…³è”æŸ¥è¯¢çš„æ„æ€æ˜¯ï¼šåœ¨è¯»åˆ°è¡¨çš„æŸè¡Œåï¼Œå‘ç°æŸåˆ—çš„å€¼ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼ˆæ¯”å¦‚å¤–é”®ï¼‰ï¼Œéœ€è¦å†å»åšä¸€æ¬¡æŸ¥è¯¢æ‰èƒ½ç¡®å®šè¯¥åˆ—çš„çœŸå®å€¼ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾æœ‰ä¸‰å¼ è¡¨ï¼Œpersonã€software å’Œ created</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>// person è¡¨ç»“æ„
</span></span><span style=display:flex><span>id | name | age | city 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>// software è¡¨ç»“æ„
</span></span><span style=display:flex><span>id | name | lang | price
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>// created è¡¨ç»“æ„
</span></span><span style=display:flex><span>id | p_id | s_id | date
</span></span></code></pre></div><p>å¦‚æœåœ¨å»ºæ¨¡ï¼ˆschemaï¼‰æ—¶æŒ‡å®š person æˆ– software çš„ id ç­–ç•¥æ˜¯ PRIMARY_KEYï¼Œé€‰æ‹©ä»¥ name ä½œä¸º primary keysï¼ˆæ³¨æ„ï¼šè¿™æ˜¯ hugegraph ä¸­ vertexlabel çš„æ¦‚å¿µï¼‰ï¼Œåœ¨å¯¼å…¥è¾¹æ•°æ®æ—¶ï¼Œç”±äºéœ€è¦æ‹¼æ¥å‡ºæºé¡¶ç‚¹å’Œç›®æ ‡é¡¶ç‚¹çš„ idï¼Œå¿…é¡»æ‹¿ç€ p_id/s_id å» person/software è¡¨ä¸­æŸ¥åˆ°å¯¹åº”çš„ nameï¼Œè¿™ç§éœ€è¦åšé¢å¤–æŸ¥è¯¢çš„è¡¨ç»“æ„çš„æƒ…å†µï¼Œloader æš‚æ—¶æ˜¯ä¸æ”¯æŒçš„ã€‚è¿™æ—¶å¯ä»¥é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ›¿ä»£ï¼š</p><ol><li>ä»ç„¶æŒ‡å®š person å’Œ software çš„ id ç­–ç•¥ä¸º PRIMARY_KEYï¼Œä½†æ˜¯ä»¥ person è¡¨å’Œ software è¡¨çš„ id åˆ—ä½œä¸ºé¡¶ç‚¹çš„ä¸»é”®å±æ€§ï¼Œè¿™æ ·å¯¼å…¥è¾¹æ—¶ç›´æ¥ä½¿ç”¨ p_id å’Œ s_id å’Œé¡¶ç‚¹çš„ label æ‹¼æ¥å°±èƒ½ç”Ÿæˆ id äº†ï¼›</li><li>æŒ‡å®š person å’Œ software çš„ id ç­–ç•¥ä¸º CUSTOMIZEï¼Œç„¶åç›´æ¥ä»¥ person è¡¨å’Œ software è¡¨çš„ id åˆ—ä½œä¸ºé¡¶ç‚¹ idï¼Œè¿™æ ·å¯¼å…¥è¾¹æ—¶ç›´æ¥ä½¿ç”¨ p_id å’Œ s_id å³å¯ï¼›</li></ol><p>å…³é”®ç‚¹å°±æ˜¯è¦è®©è¾¹èƒ½ç›´æ¥ä½¿ç”¨ p_id å’Œ s_idï¼Œä¸è¦å†å»æŸ¥ä¸€æ¬¡ã€‚</p><h5 id=322-å‡†å¤‡é¡¶ç‚¹å’Œè¾¹æ•°æ®>3.2.2 å‡†å¤‡é¡¶ç‚¹å’Œè¾¹æ•°æ®</h5><h6 id=3221-é¡¶ç‚¹æ•°æ®>3.2.2.1 é¡¶ç‚¹æ•°æ®</h6><p>é¡¶ç‚¹æ•°æ®æ–‡ä»¶ç”±ä¸€è¡Œä¸€è¡Œçš„æ•°æ®ç»„æˆï¼Œä¸€èˆ¬æ¯ä¸€è¡Œä½œä¸ºä¸€ä¸ªé¡¶ç‚¹ï¼Œæ¯ä¸€åˆ—ä¼šä½œä¸ºé¡¶ç‚¹å±æ€§ã€‚ä¸‹é¢ä»¥ CSV æ ¼å¼ä½œä¸ºç¤ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p><ul><li>person é¡¶ç‚¹æ•°æ®ï¼ˆæ•°æ®æœ¬èº«ä¸åŒ…å« headerï¼‰</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Tom,48,Beijing
</span></span><span style=display:flex><span>Jerry,36,Shanghai
</span></span></code></pre></div><ul><li>software é¡¶ç‚¹æ•°æ®ï¼ˆæ•°æ®æœ¬èº«åŒ…å« headerï¼‰</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>name,price
</span></span><span style=display:flex><span>Photoshop,999
</span></span><span style=display:flex><span>Office,388
</span></span></code></pre></div><h6 id=3222-è¾¹æ•°æ®>3.2.2.2 è¾¹æ•°æ®</h6><p>è¾¹æ•°æ®æ–‡ä»¶ç”±ä¸€è¡Œä¸€è¡Œçš„æ•°æ®ç»„æˆï¼Œä¸€èˆ¬æ¯ä¸€è¡Œä½œä¸ºä¸€æ¡è¾¹ï¼Œå…¶ä¸­æœ‰éƒ¨åˆ†åˆ—ä¼šä½œä¸ºæºé¡¶ç‚¹å’Œç›®æ ‡é¡¶ç‚¹çš„ idï¼Œå…¶ä»–åˆ—ä½œä¸ºè¾¹å±æ€§ã€‚ä¸‹é¢ä»¥ JSON æ ¼å¼ä½œä¸ºç¤ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p><ul><li>knows è¾¹æ•°æ®</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Tom&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Jerry&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;date&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2008-12-12&#34;</span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><ul><li>created è¾¹æ•°æ®</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Tom&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Photoshop&#34;</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Tom&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Office&#34;</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Jerry&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Office&#34;</span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=33-ç¼–å†™æ•°æ®æºæ˜ å°„æ–‡ä»¶>3.3 ç¼–å†™æ•°æ®æºæ˜ å°„æ–‡ä»¶</h4><h5 id=331-æ˜ å°„æ–‡ä»¶æ¦‚è¿°>3.3.1 æ˜ å°„æ–‡ä»¶æ¦‚è¿°</h5><p>è¾“å…¥æºçš„æ˜ å°„æ–‡ä»¶ç”¨äºæè¿°å¦‚ä½•å°†è¾“å…¥æºæ•°æ®ä¸å›¾çš„é¡¶ç‚¹ç±»å‹/è¾¹ç±»å‹å»ºç«‹æ˜ å°„å…³ç³»ï¼Œä»¥<code>JSON</code>æ ¼å¼ç»„ç»‡ï¼Œç”±å¤šä¸ªæ˜ å°„å—ç»„æˆï¼Œå…¶ä¸­æ¯ä¸€ä¸ªæ˜ å°„å—éƒ½è´Ÿè´£å°†ä¸€ä¸ªè¾“å…¥æºæ˜ å°„ä¸ºé¡¶ç‚¹å’Œè¾¹ã€‚</p><p>å…·ä½“è€Œè¨€ï¼Œæ¯ä¸ªæ˜ å°„å—åŒ…å«<strong>ä¸€ä¸ªè¾“å…¥æº</strong>å’Œå¤šä¸ª<strong>é¡¶ç‚¹æ˜ å°„</strong>ä¸<strong>è¾¹æ˜ å°„</strong>å—ï¼Œè¾“å…¥æºå—å¯¹åº”ä¸Šé¢ä»‹ç»çš„<code>æœ¬åœ°ç£ç›˜æ–‡ä»¶æˆ–ç›®å½•</code>ã€<code>HDFS æ–‡ä»¶æˆ–ç›®å½•</code>å’Œ<code>å…³ç³»å‹æ•°æ®åº“</code>ï¼Œè´Ÿè´£æè¿°æ•°æ®æºçš„åŸºæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚æ•°æ®åœ¨å“ªï¼Œæ˜¯ä»€ä¹ˆæ ¼å¼çš„ï¼Œåˆ†éš”ç¬¦æ˜¯ä»€ä¹ˆç­‰ã€‚é¡¶ç‚¹æ˜ å°„/è¾¹æ˜ å°„ä¸è¯¥è¾“å…¥æºç»‘å®šï¼Œå¯ä»¥é€‰æ‹©è¾“å…¥æºçš„å“ªäº›åˆ—ï¼Œå“ªäº›åˆ—ä½œä¸º idã€å“ªäº›åˆ—ä½œä¸ºå±æ€§ï¼Œä»¥åŠæ¯ä¸€åˆ—æ˜ å°„æˆä»€ä¹ˆå±æ€§ï¼Œåˆ—çš„å€¼æ˜ å°„æˆå±æ€§çš„ä»€ä¹ˆå€¼ç­‰ç­‰ã€‚</p><p>ä»¥æœ€é€šä¿—çš„è¯è®²ï¼Œæ¯ä¸€ä¸ªæ˜ å°„å—æè¿°äº†ï¼šè¦å¯¼å…¥çš„æ–‡ä»¶åœ¨å“ªï¼Œæ–‡ä»¶çš„æ¯ä¸€è¡Œè¦ä½œä¸ºå“ªä¸€ç±»é¡¶ç‚¹/è¾¹ï¼Œæ–‡ä»¶çš„å“ªäº›åˆ—æ˜¯éœ€è¦å¯¼å…¥çš„ï¼Œä»¥åŠè¿™äº›åˆ—å¯¹åº”é¡¶ç‚¹/è¾¹çš„ä»€ä¹ˆå±æ€§ç­‰ã€‚</p><blockquote><p>æ³¨æ„ï¼š0.11.0 ç‰ˆæœ¬ä»¥å‰çš„æ˜ å°„æ–‡ä»¶ä¸ 0.11.0 ä»¥åçš„æ ¼å¼å˜åŒ–è¾ƒå¤§ï¼Œä¸ºè¡¨è¿°æ–¹ä¾¿ï¼Œä¸‹é¢ç§° 0.11.0 ä»¥å‰çš„æ˜ å°„æ–‡ä»¶ï¼ˆæ ¼å¼ï¼‰ä¸º 1.0 ç‰ˆæœ¬ï¼Œ0.11.0 ä»¥åçš„ä¸º 2.0 ç‰ˆæœ¬ã€‚å¹¶ä¸”è‹¥æ— ç‰¹æ®Šè¯´æ˜ï¼Œâ€œæ˜ å°„æ–‡ä»¶â€è¡¨ç¤ºçš„æ˜¯ 2.0 ç‰ˆæœ¬çš„ã€‚</p></blockquote><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  2.0 ç‰ˆæœ¬çš„æ˜ å°„æ–‡ä»¶çš„æ¡†æ¶</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;version&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2.0&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;structs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;vertices&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;edges&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></details><br><p>è¿™é‡Œç›´æ¥ç»™å‡ºä¸¤ä¸ªç‰ˆæœ¬çš„æ˜ å°„æ–‡ä»¶ï¼ˆæè¿°äº†ä¸Šé¢å›¾æ¨¡å‹å’Œæ•°æ®æ–‡ä»¶ï¼‰</p><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  2.0 ç‰ˆæœ¬çš„æ˜ å°„æ–‡ä»¶</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;version&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2.0&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;structs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;skip&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;FILE&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vertex_person.csv&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;file_filter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;extensions&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;*&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;CSV&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;delimiter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;,&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;date_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yyyy-MM-dd HH:mm:ss&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;time_zone&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;GMT+8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;skipped_line&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;regex&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;(^#|^//).*|&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;compression&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;NONE&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;header&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>          <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#4e9a06>&#34;city&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;charset&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;UTF-8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;list_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;start_symbol&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;[&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;elem_delimiter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;|&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;end_symbol&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;]&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;vertices&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;skip&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;unfold&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;field_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;value_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;selected&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;ignored&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;null_values&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;update_strategies&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;edges&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;skip&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;FILE&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vertex_software.csv&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;file_filter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;extensions&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;*&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;CSV&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;delimiter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;,&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;date_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yyyy-MM-dd HH:mm:ss&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;time_zone&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;GMT+8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;skipped_line&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;regex&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;(^#|^//).*|&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;compression&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;NONE&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;header&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;charset&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;UTF-8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;list_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;start_symbol&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;elem_delimiter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;,&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;end_symbol&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;vertices&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;skip&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;unfold&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;field_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;value_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;selected&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;ignored&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;null_values&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;update_strategies&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;edges&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;3&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;skip&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;FILE&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;edge_knows.json&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;file_filter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;extensions&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;*&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;JSON&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;delimiter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;date_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yyyy-MM-dd HH:mm:ss&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;time_zone&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;GMT+8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;skipped_line&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;regex&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;(^#|^//).*|&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;compression&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;NONE&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;header&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;charset&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;UTF-8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;list_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;vertices&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;edges&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;skip&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;source&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;source_name&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;unfold_source&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;target&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;target_name&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;unfold_target&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;field_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;value_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;selected&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;ignored&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;null_values&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;update_strategies&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;4&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;skip&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;FILE&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;edge_created.json&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;file_filter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;extensions&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;*&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;JSON&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;delimiter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;date_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yyyy-MM-dd HH:mm:ss&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;time_zone&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;GMT+8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;skipped_line&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;regex&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;(^#|^//).*|&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;compression&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;NONE&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;header&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;charset&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;UTF-8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;list_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;vertices&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;edges&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;skip&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;source&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;source_name&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;unfold_source&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;target&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;target_name&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;unfold_target&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;field_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;value_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{},</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;selected&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;ignored&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;null_values&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;update_strategies&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></details><br><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  1.0 ç‰ˆæœ¬çš„æ˜ å°„æ–‡ä»¶</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;vertices&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;file&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vertex_person.csv&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;CSV&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;header&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;charset&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;UTF-8&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;file&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vertex_software.csv&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;CSV&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;edges&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;source&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;target&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;file&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;edge_knows.json&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;JSON&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;field_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;source&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;target&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;file&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;edge_created.json&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;JSON&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;field_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></details><br><p>æ˜ å°„æ–‡ä»¶ 1.0 ç‰ˆæœ¬æ˜¯ä»¥é¡¶ç‚¹å’Œè¾¹ä¸ºä¸­å¿ƒï¼Œè®¾ç½®è¾“å…¥æºï¼›è€Œ 2.0 ç‰ˆæœ¬æ˜¯ä»¥è¾“å…¥æºä¸ºä¸­å¿ƒï¼Œè®¾ç½®é¡¶ç‚¹å’Œè¾¹æ˜ å°„ã€‚æœ‰äº›è¾“å…¥æºï¼ˆæ¯”å¦‚ä¸€ä¸ªæ–‡ä»¶ï¼‰æ—¢èƒ½ç”Ÿæˆé¡¶ç‚¹ï¼Œä¹Ÿèƒ½ç”Ÿæˆè¾¹ï¼Œå¦‚æœç”¨ 1.0 ç‰ˆçš„æ ¼å¼å†™ï¼Œå°±éœ€è¦åœ¨ vertex å’Œ edge æ˜ å°„å—ä¸­å„å†™ä¸€æ¬¡ input å—ï¼Œè¿™ä¸¤æ¬¡çš„ input å—æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼›è€Œ 2.0 ç‰ˆæœ¬åªéœ€è¦å†™ä¸€æ¬¡ inputã€‚æ‰€ä»¥ 2.0 ç‰ˆç›¸æ¯”äº 1.0 ç‰ˆï¼Œèƒ½çœæ‰ä¸€äº› input çš„é‡å¤ä¹¦å†™ã€‚</p><p>åœ¨ hugegraph-loader-{version} çš„ bin ç›®å½•ä¸‹ï¼Œæœ‰ä¸€ä¸ªè„šæœ¬å·¥å…· <code>mapping-convert.sh</code> èƒ½ç›´æ¥å°† 1.0 ç‰ˆæœ¬çš„æ˜ å°„æ–‡ä»¶è½¬æ¢ä¸º 2.0 ç‰ˆæœ¬çš„ï¼Œä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/mapping-convert.sh struct.json
</span></span></code></pre></div><p>ä¼šåœ¨ struct.json çš„åŒçº§ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª struct-v2.jsonã€‚</p><h5 id=332-è¾“å…¥æº>3.3.2 è¾“å…¥æº</h5><p>è¾“å…¥æºç›®å‰åˆ†ä¸ºäº”ç±»ï¼šFILEã€HDFSã€JDBCã€KAFKA å’Œ GRAPHï¼Œç”±<code>type</code>èŠ‚ç‚¹åŒºåˆ†ï¼Œæˆ‘ä»¬ç§°ä¸ºæœ¬åœ°æ–‡ä»¶è¾“å…¥æºã€HDFS è¾“å…¥æºã€JDBC è¾“å…¥æºå’Œ KAFKA è¾“å…¥æºï¼Œå›¾æ•°æ®æºï¼Œä¸‹é¢åˆ†åˆ«ä»‹ç»ã€‚</p><h6 id=3321-æœ¬åœ°æ–‡ä»¶è¾“å…¥æº>3.3.2.1 æœ¬åœ°æ–‡ä»¶è¾“å…¥æº</h6><ul><li>id: è¾“å…¥æºçš„ idï¼Œè¯¥å­—æ®µç”¨äºæ”¯æŒä¸€äº›å†…éƒ¨åŠŸèƒ½ï¼Œéå¿…å¡«ï¼ˆæœªå¡«æ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆï¼‰ï¼Œå¼ºçƒˆå»ºè®®å†™ä¸Šï¼Œå¯¹äºè°ƒè¯•å¤§æœ‰è£¨ç›Šï¼›</li><li>skip: æ˜¯å¦è·³è¿‡è¯¥è¾“å…¥æºï¼Œç”±äº JSON æ–‡ä»¶æ— æ³•æ·»åŠ æ³¨é‡Šï¼Œå¦‚æœæŸæ¬¡å¯¼å…¥æ—¶ä¸æƒ³å¯¼å…¥æŸä¸ªè¾“å…¥æºï¼Œä½†åˆä¸æƒ³åˆ é™¤è¯¥è¾“å…¥æºçš„é…ç½®ï¼Œåˆ™å¯ä»¥è®¾ç½®ä¸º true å°†å…¶è·³è¿‡ï¼Œé»˜è®¤ä¸º falseï¼Œéå¿…å¡«ï¼›</li><li>input: è¾“å…¥æºæ˜ å°„å—ï¼Œå¤åˆç»“æ„<ul><li>type: è¾“å…¥æºç±»å‹ï¼Œå¿…é¡»å¡« file æˆ– FILEï¼›</li><li>path: æœ¬åœ°æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ï¼Œç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹äºæ˜ å°„æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼Œå»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå¿…å¡«ï¼›</li><li>file_filter: ä»<code>path</code>ä¸­ç­›é€‰å¤åˆæ¡ä»¶çš„æ–‡ä»¶ï¼Œå¤åˆç»“æ„ï¼Œç›®å‰åªæ”¯æŒé…ç½®æ‰©å±•åï¼Œç”¨å­èŠ‚ç‚¹<code>extensions</code>è¡¨ç¤ºï¼Œé»˜è®¤ä¸º&rdquo;*"ï¼Œè¡¨ç¤ºä¿ç•™æ‰€æœ‰æ–‡ä»¶ï¼›</li><li>format: æœ¬åœ°æ–‡ä»¶çš„æ ¼å¼ï¼Œå¯é€‰å€¼ä¸º CSVã€TEXT åŠ JSONï¼Œå¿…é¡»å¤§å†™ï¼Œå¿…å¡«ï¼›</li><li>header: æ–‡ä»¶å„åˆ—çš„åˆ—åï¼Œå¦‚ä¸æŒ‡å®šåˆ™ä¼šä»¥æ•°æ®æ–‡ä»¶ç¬¬ä¸€è¡Œä½œä¸º headerï¼›å½“æ–‡ä»¶æœ¬èº«æœ‰æ ‡é¢˜ä¸”åˆæŒ‡å®šäº† headerï¼Œæ–‡ä»¶çš„ç¬¬ä¸€è¡Œä¼šè¢«å½“ä½œæ™®é€šçš„æ•°æ®è¡Œï¼›JSON æ–‡ä»¶ä¸éœ€è¦æŒ‡å®š headerï¼Œé€‰å¡«ï¼›</li><li>delimiter: æ–‡ä»¶è¡Œçš„åˆ—åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä»¥é€—å·<code>","</code>ä½œä¸ºåˆ†éš”ç¬¦ï¼Œ<code>JSON</code>æ–‡ä»¶ä¸éœ€è¦æŒ‡å®šï¼Œé€‰å¡«ï¼›</li><li>charset: æ–‡ä»¶çš„ç¼–ç å­—ç¬¦é›†ï¼Œé»˜è®¤<code>UTF-8</code>ï¼Œé€‰å¡«ï¼›</li><li>date_format: è‡ªå®šä¹‰çš„æ—¥æœŸæ ¼å¼ï¼Œé»˜è®¤å€¼ä¸º yyyy-MM-dd HH:mm:ssï¼Œé€‰å¡«ï¼›å¦‚æœæ—¥æœŸæ˜¯ä»¥æ—¶é—´æˆ³çš„å½¢å¼å‘ˆç°çš„ï¼Œæ­¤é¡¹é¡»å†™ä¸º<code>timestamp</code>ï¼ˆå›ºå®šå†™æ³•ï¼‰ï¼›</li><li>time_zone: è®¾ç½®æ—¥æœŸæ•°æ®æ˜¯å¤„äºå“ªä¸ªæ—¶åŒºçš„ï¼Œé»˜è®¤å€¼ä¸º<code>GMT+8</code>ï¼Œé€‰å¡«ï¼›</li><li>skipped_line: æƒ³è·³è¿‡çš„è¡Œï¼Œå¤åˆç»“æ„ï¼Œç›®å‰åªèƒ½é…ç½®è¦è·³è¿‡çš„è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨å­èŠ‚ç‚¹<code>regex</code>æè¿°ï¼Œé»˜è®¤ä¸è·³è¿‡ä»»ä½•è¡Œï¼Œé€‰å¡«ï¼›</li><li>compression: æ–‡ä»¶çš„å‹ç¼©æ ¼å¼ï¼Œå¯é€‰å€¼ä¸º NONEã€GZIPã€BZ2ã€XZã€LZMAã€SNAPPY_RAWã€SNAPPY_FRAMEDã€Zã€DEFLATEã€LZ4_BLOCKã€LZ4_FRAMEDã€ORC å’Œ PARQUETï¼Œé»˜è®¤ä¸º NONEï¼Œè¡¨ç¤ºéå‹ç¼©æ–‡ä»¶ï¼Œé€‰å¡«ï¼›</li><li>list_format: å½“æ–‡ä»¶ (é JSON ) çš„æŸåˆ—æ˜¯é›†åˆç»“æ„æ—¶ï¼ˆå¯¹åº”å›¾ä¸­çš„ PropertyKey çš„ Cardinality ä¸º Set æˆ– Listï¼‰ï¼Œå¯ä»¥ç”¨æ­¤é¡¹è®¾ç½®è¯¥åˆ—çš„èµ·å§‹ç¬¦ã€åˆ†éš”ç¬¦ã€ç»“æŸç¬¦ï¼Œå¤åˆç»“æ„ï¼š<ul><li>start_symbol: é›†åˆç»“æ„åˆ—çš„èµ·å§‹ç¬¦ (é»˜è®¤å€¼æ˜¯ <code>[</code>, JSON æ ¼å¼ç›®å‰ä¸æ”¯æŒæŒ‡å®š)</li><li>elem_delimiter: é›†åˆç»“æ„åˆ—çš„åˆ†éš”ç¬¦ (é»˜è®¤å€¼æ˜¯ <code>|</code>, JSON æ ¼å¼ç›®å‰åªæ”¯æŒåŸç”Ÿ<code>,</code>åˆ†éš”)</li><li>end_symbol: é›†åˆç»“æ„åˆ—çš„ç»“æŸç¬¦ (é»˜è®¤å€¼æ˜¯ <code>]</code>, JSON æ ¼å¼ç›®å‰ä¸æ”¯æŒæŒ‡å®š)</li></ul></li></ul></li></ul><h6 id=3322-hdfs-è¾“å…¥æº>3.3.2.2 HDFS è¾“å…¥æº</h6><p>ä¸Šè¿°<code>æœ¬åœ°æ–‡ä»¶è¾“å…¥æº</code>çš„èŠ‚ç‚¹åŠå«ä¹‰è¿™é‡ŒåŸºæœ¬éƒ½é€‚ç”¨ï¼Œä¸‹é¢ä»…åˆ—å‡º HDFS è¾“å…¥æºä¸ä¸€æ ·çš„å’Œç‰¹æœ‰çš„èŠ‚ç‚¹ã€‚</p><ul><li>type: è¾“å…¥æºç±»å‹ï¼Œå¿…é¡»å¡« hdfs æˆ– HDFSï¼Œå¿…å¡«ï¼›</li><li>path: HDFS æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ï¼Œå¿…é¡»æ˜¯ HDFS çš„ç»å¯¹è·¯å¾„ï¼Œå¿…å¡«ï¼›</li><li>core_site_path: HDFS é›†ç¾¤çš„ core-site.xml æ–‡ä»¶è·¯å¾„ï¼Œé‡ç‚¹è¦æŒ‡æ˜ NameNode çš„åœ°å€ï¼ˆ<code>fs.default.name</code>ï¼‰ï¼Œä»¥åŠæ–‡ä»¶ç³»ç»Ÿçš„å®ç°ï¼ˆ<code>fs.hdfs.impl</code>ï¼‰ï¼›</li></ul><h6 id=3323-jdbc-è¾“å…¥æº>3.3.2.3 JDBC è¾“å…¥æº</h6><p>å‰é¢è¯´åˆ°è¿‡æ”¯æŒå¤šç§å…³ç³»å‹æ•°æ®åº“ï¼Œä½†ç”±äºå®ƒä»¬çš„æ˜ å°„ç»“æ„éå¸¸ç›¸ä¼¼ï¼Œæ•…ç»Ÿç§°ä¸º JDBC è¾“å…¥æºï¼Œç„¶åç”¨<code>vendor</code>èŠ‚ç‚¹åŒºåˆ†ä¸åŒçš„æ•°æ®åº“ã€‚</p><ul><li>type: è¾“å…¥æºç±»å‹ï¼Œå¿…é¡»å¡« jdbc æˆ– JDBCï¼Œå¿…å¡«ï¼›</li><li>vendor: æ•°æ®åº“ç±»å‹ï¼Œå¯é€‰é¡¹ä¸º [MySQLã€PostgreSQLã€Oracleã€SQLServer]ï¼Œä¸åŒºåˆ†å¤§å°å†™ï¼Œå¿…å¡«ï¼›</li><li>driver: jdbc ä½¿ç”¨çš„ driver ç±»å‹ï¼Œå¿…å¡«ï¼›</li><li>url: jdbc è¦è¿æ¥çš„æ•°æ®åº“çš„ urlï¼Œå¿…å¡«ï¼›</li><li>database: è¦è¿æ¥çš„æ•°æ®åº“åï¼Œå¿…å¡«ï¼›</li><li>schema: è¦è¿æ¥çš„ schema åï¼Œä¸åŒçš„æ•°æ®åº“è¦æ±‚ä¸ä¸€æ ·ï¼Œä¸‹é¢è¯¦ç»†è¯´æ˜ï¼›</li><li>table: è¦è¿æ¥çš„è¡¨åï¼Œ<code>custom_sql</code> å’Œ <code>table</code> å‚æ•°å¿…é¡»å¡«å…¶ä¸­ä¸€ä¸ªï¼›</li><li>custom_sql: è‡ªå®šä¹‰ SQL è¯­å¥ï¼Œ<code>custom_sql</code> å’Œ <code>table</code> å‚æ•°å¿…é¡»å¡«å…¶ä¸­ä¸€ä¸ªï¼›</li><li>username: è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·åï¼Œå¿…å¡«ï¼›</li><li>password: è¿æ¥æ•°æ®åº“çš„å¯†ç ï¼Œå¿…å¡«ï¼›</li><li>batch_size: æŒ‰é¡µè·å–è¡¨æ•°æ®æ—¶çš„ä¸€é¡µçš„å¤§å°ï¼Œé»˜è®¤ä¸º 500ï¼Œé€‰å¡«ï¼›</li></ul><p><strong>MYSQL</strong></p><table><thead><tr><th>èŠ‚ç‚¹</th><th>å›ºå®šå€¼æˆ–å¸¸è§å€¼</th></tr></thead><tbody><tr><td>vendor</td><td>MYSQL</td></tr><tr><td>driver</td><td>com.mysql.cj.jdbc.Driver</td></tr><tr><td>url</td><td>jdbc:mysql://127.0.0.1:3306</td></tr></tbody></table><p>schema: å¯ç©ºï¼Œè‹¥å¡«å†™å¿…é¡»ä¸ database çš„å€¼ä¸€æ ·</p><p><strong>POSTGRESQL</strong></p><table><thead><tr><th>èŠ‚ç‚¹</th><th>å›ºå®šå€¼æˆ–å¸¸è§å€¼</th></tr></thead><tbody><tr><td>vendor</td><td>POSTGRESQL</td></tr><tr><td>driver</td><td>org.postgresql.Driver</td></tr><tr><td>url</td><td>jdbc:postgresql://127.0.0.1:5432</td></tr></tbody></table><p>schema: å¯ç©ºï¼Œé»˜è®¤å€¼ä¸ºâ€œpublicâ€</p><p><strong>ORACLE</strong></p><table><thead><tr><th>èŠ‚ç‚¹</th><th>å›ºå®šå€¼æˆ–å¸¸è§å€¼</th></tr></thead><tbody><tr><td>vendor</td><td>ORACLE</td></tr><tr><td>driver</td><td>oracle.jdbc.driver.OracleDriver</td></tr><tr><td>url</td><td>jdbc:oracle:thin:@127.0.0.1:1521</td></tr></tbody></table><p>schema: å¯ç©ºï¼Œé»˜è®¤å€¼ä¸ç”¨æˆ·åç›¸åŒ</p><p><strong>SQLSERVER</strong></p><table><thead><tr><th>èŠ‚ç‚¹</th><th>å›ºå®šå€¼æˆ–å¸¸è§å€¼</th></tr></thead><tbody><tr><td>vendor</td><td>SQLSERVER</td></tr><tr><td>driver</td><td>com.microsoft.sqlserver.jdbc.SQLServerDriver</td></tr><tr><td>url</td><td>jdbc:sqlserver://127.0.0.1:1433</td></tr></tbody></table><p>schema: å¿…å¡«</p><h6 id=3324-kafka-è¾“å…¥æº>3.3.2.4 Kafka è¾“å…¥æº</h6><ul><li>typeï¼šè¾“å…¥æºç±»å‹ï¼Œå¿…é¡»å¡« <code>kafka</code> æˆ– <code>KAFKA</code>ï¼Œå¿…å¡«ï¼›</li><li>bootstrap_serverï¼šè®¾ç½® kafka bootstrap server åˆ—è¡¨ï¼›</li><li>topicï¼šè®¢é˜…çš„ topicï¼›</li><li>groupï¼šKafka æ¶ˆè´¹è€…ç»„ï¼›</li><li>from_beginningï¼šè®¾ç½®æ˜¯å¦ä»å¤´å¼€å§‹è¯»å–ï¼›</li><li>formatï¼šæœ¬åœ°æ–‡ä»¶çš„æ ¼å¼ï¼Œå¯é€‰å€¼ä¸º CSVã€TEXT åŠ JSONï¼Œå¿…é¡»å¤§å†™ï¼Œå¿…å¡«ï¼›</li><li>headerï¼šæ–‡ä»¶å„åˆ—çš„åˆ—åï¼Œå¦‚ä¸æŒ‡å®šåˆ™ä¼šä»¥æ•°æ®æ–‡ä»¶ç¬¬ä¸€è¡Œä½œä¸º headerï¼›å½“æ–‡ä»¶æœ¬èº«æœ‰æ ‡é¢˜ä¸”åˆæŒ‡å®šäº† headerï¼Œæ–‡ä»¶çš„ç¬¬ä¸€è¡Œä¼šè¢«å½“ä½œæ™®é€šçš„æ•°æ®è¡Œï¼›JSON æ–‡ä»¶ä¸éœ€è¦æŒ‡å®š headerï¼Œé€‰å¡«ï¼›</li><li>delimiterï¼šæ–‡ä»¶è¡Œçš„åˆ—åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä»¥é€—å·&rdquo;,&ldquo;ä½œä¸ºåˆ†éš”ç¬¦ï¼ŒJSON æ–‡ä»¶ä¸éœ€è¦æŒ‡å®šï¼Œé€‰å¡«ï¼›</li><li>charsetï¼šæ–‡ä»¶çš„ç¼–ç å­—ç¬¦é›†ï¼Œé»˜è®¤ UTF-8ï¼Œé€‰å¡«ï¼›</li><li>date_formatï¼šè‡ªå®šä¹‰çš„æ—¥æœŸæ ¼å¼ï¼Œé»˜è®¤å€¼ä¸º yyyy-MM-dd HH:mm:ssï¼Œé€‰å¡«ï¼›å¦‚æœæ—¥æœŸæ˜¯ä»¥æ—¶é—´æˆ³çš„å½¢å¼å‘ˆç°çš„ï¼Œæ­¤é¡¹é¡»å†™ä¸º timestampï¼ˆå›ºå®šå†™æ³•ï¼‰ï¼›</li><li>extra_date_formatsï¼šè‡ªå®šä¹‰çš„å…¶ä»–æ—¥æœŸæ ¼å¼åˆ—è¡¨ï¼Œé»˜è®¤ä¸ºç©ºï¼Œé€‰å¡«ï¼›åˆ—è¡¨ä¸­æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ª date_format æŒ‡å®šæ—¥æœŸæ ¼å¼çš„å¤‡ç”¨æ—¥æœŸæ ¼å¼ï¼›</li><li>time_zoneï¼šç½®æ—¥æœŸæ•°æ®æ˜¯å¤„äºå“ªä¸ªæ—¶åŒºçš„ï¼Œé»˜è®¤å€¼ä¸º GMT+8ï¼Œé€‰å¡«ï¼›</li><li>skipped_lineï¼šæƒ³è·³è¿‡çš„è¡Œï¼Œå¤åˆç»“æ„ï¼Œç›®å‰åªèƒ½é…ç½®è¦è·³è¿‡çš„è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨å­èŠ‚ç‚¹ regex æè¿°ï¼Œé»˜è®¤ä¸è·³è¿‡ä»»ä½•è¡Œï¼Œé€‰å¡«ï¼›</li><li>early_stopï¼šæŸæ¬¡ä» Kafka broker æ‹‰å–çš„è®°å½•ä¸ºç©ºï¼Œåœæ­¢ä»»åŠ¡ï¼Œé»˜è®¤ä¸º falseï¼Œä»…ç”¨äºè°ƒè¯•ï¼Œé€‰å¡«ï¼›</li></ul><h6 id=3325-graph-è¾“å…¥æº>3.3.2.5 GRAPH è¾“å…¥æº</h6><ul><li>typeï¼šè¾“å…¥æºç±»å‹ï¼Œå¿…é¡»å¡« <code>graph</code> æˆ– <code>GRAPH</code>ï¼Œå¿…å¡«ï¼›</li><li>graphspaceï¼šæºå›¾ç©ºé—´åç§°ï¼Œé»˜è®¤ä¸º <code>DEFAULT</code>ï¼›</li><li>graphï¼š æºå›¾åç§°ï¼Œå¿…å¡«ï¼›</li><li>usernameï¼šHugeGraph ç”¨æˆ·åï¼›</li><li>passwordï¼šHugeGraph å¯†ç ï¼›</li><li>selected_verticesï¼šè¦åŒæ­¥çš„é¡¶ç‚¹ç­›é€‰è§„åˆ™ï¼›</li><li>ignored_verticesï¼šè¦å¿½ç•¥çš„é¡¶ç‚¹ç­›é€‰è§„åˆ™ï¼›</li><li>selected_edgesï¼šè¦åŒæ­¥çš„è¾¹ç­›é€‰è§„åˆ™ï¼›</li><li>ignored_edgesï¼šè¦å¿½ç•¥çš„è¾¹ç­›é€‰è§„åˆ™ï¼›</li><li>pd-peersï¼šHugeGraph-PD èŠ‚ç‚¹åœ°å€ï¼›</li><li>meta-endpointsï¼šæºé›†ç¾¤ MetaæœåŠ¡ç«¯ç‚¹ï¼›</li><li>clusterï¼šæºé›†ç¾¤åç§°ï¼›</li><li>batch_sizeï¼šæ‰¹é‡è¯»å–æºå›¾æ•°æ®çš„æ‰¹æ¬¡å¤§å°ï¼Œé»˜è®¤ä¸º500ï¼›</li></ul><h5 id=333-é¡¶ç‚¹å’Œè¾¹æ˜ å°„>3.3.3 é¡¶ç‚¹å’Œè¾¹æ˜ å°„</h5><p>é¡¶ç‚¹å’Œè¾¹æ˜ å°„çš„èŠ‚ç‚¹ï¼ˆJSON æ–‡ä»¶ä¸­çš„ä¸€ä¸ª keyï¼‰æœ‰å¾ˆå¤šç›¸åŒçš„éƒ¨åˆ†ï¼Œä¸‹é¢å…ˆä»‹ç»ç›¸åŒéƒ¨åˆ†ï¼Œå†åˆ†åˆ«ä»‹ç»<code>é¡¶ç‚¹æ˜ å°„</code>å’Œ<code>è¾¹æ˜ å°„</code>çš„ç‰¹æœ‰èŠ‚ç‚¹ã€‚</p><p><strong>ç›¸åŒéƒ¨åˆ†çš„èŠ‚ç‚¹</strong></p><ul><li>label: å¾…å¯¼å…¥çš„é¡¶ç‚¹/è¾¹æ•°æ®æ‰€å±çš„<code>label</code>ï¼Œå¿…å¡«ï¼›</li><li>field_mapping: å°†è¾“å…¥æºåˆ—çš„åˆ—åæ˜ å°„ä¸ºé¡¶ç‚¹/è¾¹çš„å±æ€§åï¼Œé€‰å¡«ï¼›</li><li>value_mapping: å°†è¾“å…¥æºçš„æ•°æ®å€¼æ˜ å°„ä¸ºé¡¶ç‚¹/è¾¹çš„å±æ€§å€¼ï¼Œé€‰å¡«ï¼›</li><li>selected: é€‰æ‹©æŸäº›åˆ—æ’å…¥ï¼Œå…¶ä»–æœªé€‰ä¸­çš„ä¸æ’å…¥ï¼Œä¸èƒ½ä¸<code>ignored</code>åŒæ—¶å­˜åœ¨ï¼Œé€‰å¡«ï¼›</li><li>ignored: å¿½ç•¥æŸäº›åˆ—ï¼Œä½¿å…¶ä¸å‚ä¸æ’å…¥ï¼Œä¸èƒ½ä¸<code>selected</code>åŒæ—¶å­˜åœ¨ï¼Œé€‰å¡«ï¼›</li><li>null_values: å¯ä»¥æŒ‡å®šä¸€äº›å­—ç¬¦ä¸²ä»£è¡¨ç©ºå€¼ï¼Œæ¯”å¦‚"NULL&rdquo;ï¼Œå¦‚æœè¯¥åˆ—å¯¹åº”çš„é¡¶ç‚¹/è¾¹å±æ€§åˆæ˜¯ä¸€ä¸ªå¯ç©ºå±æ€§ï¼Œé‚£åœ¨æ„é€ é¡¶ç‚¹/è¾¹æ—¶ä¸ä¼šè®¾ç½®è¯¥å±æ€§çš„å€¼ï¼Œé€‰å¡«ï¼›</li><li>update_strategies: å¦‚æœæ•°æ®éœ€è¦æŒ‰ç‰¹å®šæ–¹å¼æ‰¹é‡<strong>æ›´æ–°</strong>æ—¶å¯ä»¥å¯¹æ¯ä¸ªå±æ€§æŒ‡å®šå…·ä½“çš„æ›´æ–°ç­–ç•¥ (å…·ä½“è§ä¸‹)ï¼Œé€‰å¡«ï¼›</li><li>unfold: æ˜¯å¦å°†åˆ—å±•å¼€ï¼Œå±•å¼€çš„æ¯ä¸€åˆ—éƒ½ä¼šä¸å…¶ä»–åˆ—ä¸€èµ·ç»„æˆä¸€è¡Œï¼Œç›¸å½“äºæ˜¯å±•å¼€æˆäº†å¤šè¡Œï¼›æ¯”å¦‚æ–‡ä»¶çš„æŸä¸€åˆ—ï¼ˆid åˆ—ï¼‰çš„å€¼æ˜¯<code>[1,2,3]</code>ï¼Œå…¶ä»–åˆ—çš„å€¼æ˜¯<code>18,Beijing</code>ï¼Œå½“è®¾ç½®äº† unfold ä¹‹åï¼Œè¿™ä¸€è¡Œå°±ä¼šå˜æˆ 3 è¡Œï¼Œåˆ†åˆ«æ˜¯ï¼š<code>1,18,Beijing</code>ï¼Œ<code>2,18,Beijing</code>å’Œ<code>3,18,Beijing</code>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æ­¤é¡¹åªä¼šå±•å¼€è¢«é€‰ä½œä¸º id çš„åˆ—ã€‚é»˜è®¤ falseï¼Œé€‰å¡«ï¼›</li></ul><p><strong>æ›´æ–°ç­–ç•¥</strong>æ”¯æŒ 8 ç§ : (éœ€è¦å…¨å¤§å†™)</p><ol><li>æ•°å€¼ç´¯åŠ  : <code>SUM</code></li><li>ä¸¤ä¸ªæ•°å­—/æ—¥æœŸå–æ›´å¤§çš„: <code>BIGGER</code></li><li>ä¸¤ä¸ªæ•°å­—/æ—¥æœŸå–æ›´å°: <code>SMALLER</code></li><li><strong>Set</strong>å±æ€§å–å¹¶é›†ï¼š<code>UNION</code></li><li><strong>Set</strong>å±æ€§å–äº¤é›†ï¼š<code>INTERSECTION</code></li><li><strong>List</strong>å±æ€§è¿½åŠ å…ƒç´ ï¼š<code>APPEND</code></li><li><strong>List/Set</strong>å±æ€§åˆ é™¤å…ƒç´ ï¼š<code>ELIMINATE</code></li><li>è¦†ç›–å·²æœ‰å±æ€§ï¼š<code>OVERRIDE</code></li></ol><p><strong>æ³¨æ„ï¼š</strong> å¦‚æœæ–°å¯¼å…¥çš„å±æ€§å€¼ä¸ºç©ºï¼Œä¼šé‡‡ç”¨å·²æœ‰çš„æ—§æ•°æ®è€Œä¸ä¼šé‡‡ç”¨ç©ºå€¼ï¼Œæ•ˆæœå¯ä»¥å‚è€ƒå¦‚ä¸‹ç¤ºä¾‹</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// JSON æ–‡ä»¶ä¸­ä»¥å¦‚ä¸‹æ–¹å¼æŒ‡å®šæ›´æ–°ç­–ç•¥
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;vertices&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;update_strategies&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;age&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;SMALLER&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;set&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;UNION&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;file&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vertex_person.txt&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;TEXT&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;header&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;set&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 1.å†™å…¥ä¸€è¡Œå¸¦ OVERRIDE æ›´æ–°ç­–ç•¥çš„æ•°æ® (è¿™é‡Œ null ä»£è¡¨ç©º)
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#a40000>&#39;a</span> <span style=color:#a40000>b</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#a40000>&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 2.å†å†™ä¸€è¡Œ
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#a40000>&#39;</span><span style=color:#204a87;font-weight:700>null</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#a40000>c</span> <span style=color:#a40000>d&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// 3.æœ€åå¯ä»¥å¾—åˆ°
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#a40000>&#39;a</span> <span style=color:#a40000>b</span> <span style=color:#a40000>c</span> <span style=color:#a40000>d&#39;</span>   
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// å¦‚æœæ²¡æœ‰æ›´æ–°ç­–ç•¥ï¼Œåˆ™ä¼šå¾—åˆ°
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#a40000>&#39;</span><span style=color:#204a87;font-weight:700>null</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#a40000>c</span> <span style=color:#a40000>d&#39;</span>
</span></span></code></pre></div><blockquote><p><strong>æ³¨æ„</strong> : é‡‡ç”¨äº†æ‰¹é‡æ›´æ–°çš„ç­–ç•¥å, ç£ç›˜è¯»è¯·æ±‚æ•°ä¼šå¤§å¹…ä¸Šå‡, å¯¼å…¥é€Ÿåº¦ç›¸æ¯”çº¯å†™è¦†ç›–ä¼šæ…¢æ•°å€ (æ­¤æ—¶HDDç£ç›˜<a href=https://en.wikipedia.org/wiki/IOPS>IOPS</a>ä¼šæˆä¸ºç“¶é¢ˆ, å»ºè®®é‡‡ç”¨SSDä»¥ä¿è¯é€Ÿåº¦)</p></blockquote><p><strong>é¡¶ç‚¹æ˜ å°„çš„ç‰¹æœ‰èŠ‚ç‚¹</strong></p><ul><li>id: æŒ‡å®šæŸä¸€åˆ—ä½œä¸ºé¡¶ç‚¹çš„ id åˆ—ï¼Œå½“é¡¶ç‚¹ id ç­–ç•¥ä¸º<code>CUSTOMIZE</code>æ—¶ï¼Œå¿…å¡«ï¼›å½“ id ç­–ç•¥ä¸º<code>PRIMARY_KEY</code>æ—¶ï¼Œå¿…é¡»ä¸ºç©ºï¼›</li></ul><p><strong>è¾¹æ˜ å°„çš„ç‰¹æœ‰èŠ‚ç‚¹</strong></p><ul><li>source: é€‰æ‹©è¾“å…¥æºæŸå‡ åˆ—ä½œä¸º<strong>æºé¡¶ç‚¹</strong>çš„ id åˆ—ï¼Œå½“æºé¡¶ç‚¹çš„ id ç­–ç•¥ä¸º <code>CUSTOMIZE</code>æ—¶ï¼Œå¿…é¡»æŒ‡å®šæŸä¸€åˆ—ä½œä¸ºé¡¶ç‚¹çš„ id åˆ—ï¼›å½“æºé¡¶ç‚¹çš„ id ç­–ç•¥ä¸º <code>PRIMARY_KEY</code>æ—¶ï¼Œå¿…é¡»æŒ‡å®šä¸€åˆ—æˆ–å¤šåˆ—ç”¨äºæ‹¼æ¥ç”Ÿæˆé¡¶ç‚¹çš„ idï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡æ˜¯å“ªç§ id ç­–ç•¥ï¼Œæ­¤é¡¹å¿…å¡«ï¼›</li><li>target: æŒ‡å®šæŸå‡ åˆ—ä½œä¸º<strong>ç›®æ ‡é¡¶ç‚¹</strong>çš„ id åˆ—ï¼Œä¸ source ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°ï¼›</li><li>unfold_source: æ˜¯å¦å±•å¼€æ–‡ä»¶çš„ source åˆ—ï¼Œæ•ˆæœä¸é¡¶ç‚¹æ˜ å°„ä¸­çš„ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°ï¼›</li><li>unfold_target: æ˜¯å¦å±•å¼€æ–‡ä»¶çš„ target åˆ—ï¼Œæ•ˆæœä¸é¡¶ç‚¹æ˜ å°„ä¸­çš„ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°ï¼›</li></ul><h4 id=34-æ‰§è¡Œå‘½ä»¤å¯¼å…¥>3.4 æ‰§è¡Œå‘½ä»¤å¯¼å…¥</h4><p>å‡†å¤‡å¥½å›¾æ¨¡å‹ã€æ•°æ®æ–‡ä»¶ä»¥åŠè¾“å…¥æºæ˜ å°„å…³ç³»æ–‡ä»¶åï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å°†æ•°æ®æ–‡ä»¶å¯¼å…¥åˆ°å›¾æ•°æ®åº“ä¸­ã€‚</p><p>å¯¼å…¥è¿‡ç¨‹ç”±ç”¨æˆ·æäº¤çš„å‘½ä»¤æ§åˆ¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ä¸åŒçš„å‚æ•°æ§åˆ¶æ‰§è¡Œçš„å…·ä½“æµç¨‹ã€‚</p><h5 id=341-å‚æ•°è¯´æ˜>3.4.1 å‚æ•°è¯´æ˜</h5><table><thead><tr><th>å‚æ•°</th><th>é»˜è®¤å€¼</th><th>æ˜¯å¦å¿…ä¼ </th><th>æè¿°ä¿¡æ¯</th></tr></thead><tbody><tr><td><code>-f</code> æˆ– <code>--file</code></td><td></td><td>Y</td><td>é…ç½®è„šæœ¬çš„è·¯å¾„</td></tr><tr><td><code>-g</code> æˆ– <code>--graph</code></td><td></td><td>Y</td><td>å›¾åç§°</td></tr><tr><td><code>--graphspace</code></td><td>DEFAULT</td><td></td><td>å›¾ç©ºé—´</td></tr><tr><td><code>-s</code> æˆ– <code>--schema</code></td><td></td><td>Y</td><td>schema æ–‡ä»¶è·¯å¾„</td></tr><tr><td><code>-h</code> æˆ– <code>--host</code> æˆ– <code>-i</code></td><td>localhost</td><td></td><td>HugeGraphServer çš„åœ°å€</td></tr><tr><td><code>-p</code> æˆ– <code>--port</code></td><td>8080</td><td></td><td>HugeGraphServer çš„ç«¯å£å·</td></tr><tr><td><code>--username</code></td><td>null</td><td></td><td>å½“ HugeGraphServer å¼€å¯äº†æƒé™è®¤è¯æ—¶ï¼Œå½“å‰å›¾çš„ username</td></tr><tr><td><code>--password</code></td><td>null</td><td></td><td>å½“ HugeGraphServer å¼€å¯äº†æƒé™è®¤è¯æ—¶ï¼Œå½“å‰å›¾çš„ password</td></tr><tr><td><code>--create-graph</code></td><td>false</td><td></td><td>æ˜¯å¦åœ¨å›¾ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»º</td></tr><tr><td><code>--token</code></td><td>null</td><td></td><td>å½“ HugeGraphServer å¼€å¯äº†æƒé™è®¤è¯æ—¶ï¼Œå½“å‰å›¾çš„ token</td></tr><tr><td><code>--protocol</code></td><td>http</td><td></td><td>å‘æœåŠ¡ç«¯å‘è¯·æ±‚çš„åè®®ï¼Œå¯é€‰ http æˆ– https</td></tr><tr><td><code>--pd-peers</code></td><td></td><td></td><td>PD æœåŠ¡èŠ‚ç‚¹åœ°å€</td></tr><tr><td><code>--pd-token</code></td><td></td><td></td><td>è®¿é—® PD æœåŠ¡çš„ token</td></tr><tr><td><code>--meta-endpoints</code></td><td></td><td></td><td>å…ƒä¿¡æ¯å­˜å‚¨æœåŠ¡åœ°å€</td></tr><tr><td><code>--direct</code></td><td>false</td><td></td><td>æ˜¯å¦ç›´è¿ HugeGraph-Store</td></tr><tr><td><code>--route-type</code></td><td>NODE_PORT</td><td></td><td>è·¯ç”±é€‰æ‹©æ–¹å¼ï¼ˆå¯é€‰å€¼ï¼šNODE_PORT / DDS / BOTHï¼‰</td></tr><tr><td><code>--cluster</code></td><td>hg</td><td></td><td>é›†ç¾¤å</td></tr><tr><td><code>--trust-store-file</code></td><td></td><td></td><td>è¯·æ±‚åè®®ä¸º https æ—¶ï¼Œå®¢æˆ·ç«¯çš„è¯ä¹¦æ–‡ä»¶è·¯å¾„</td></tr><tr><td><code>--trust-store-password</code></td><td></td><td></td><td>è¯·æ±‚åè®®ä¸º https æ—¶ï¼Œå®¢æˆ·ç«¯è¯ä¹¦å¯†ç </td></tr><tr><td><code>--clear-all-data</code></td><td>false</td><td></td><td>å¯¼å…¥æ•°æ®å‰æ˜¯å¦æ¸…é™¤æœåŠ¡ç«¯çš„åŸæœ‰æ•°æ®</td></tr><tr><td><code>--clear-timeout</code></td><td>240</td><td></td><td>å¯¼å…¥æ•°æ®å‰æ¸…é™¤æœåŠ¡ç«¯çš„åŸæœ‰æ•°æ®çš„è¶…æ—¶æ—¶é—´</td></tr><tr><td><code>--incremental-mode</code></td><td>false</td><td></td><td>æ˜¯å¦ä½¿ç”¨æ–­ç‚¹ç»­å¯¼æ¨¡å¼ï¼Œä»…è¾“å…¥æºä¸º FILE å’Œ HDFS æ”¯æŒè¯¥æ¨¡å¼ï¼Œå¯ç”¨è¯¥æ¨¡å¼èƒ½ä»ä¸Šä¸€æ¬¡å¯¼å…¥åœæ­¢çš„åœ°æ–¹å¼€å§‹å¯¼å…¥</td></tr><tr><td><code>--failure-mode</code></td><td>false</td><td></td><td>å¤±è´¥æ¨¡å¼ä¸º true æ—¶ï¼Œä¼šå¯¼å…¥ä¹‹å‰å¤±è´¥äº†çš„æ•°æ®ï¼Œä¸€èˆ¬æ¥è¯´å¤±è´¥æ•°æ®æ–‡ä»¶éœ€è¦åœ¨äººå·¥æ›´æ­£ç¼–è¾‘å¥½åï¼Œå†æ¬¡è¿›è¡Œå¯¼å…¥</td></tr><tr><td><code>--batch-insert-threads</code></td><td>CPUs</td><td></td><td>æ‰¹é‡æ’å…¥çº¿ç¨‹æ± å¤§å° (CPUs æ˜¯å½“å‰ OS å¯ç”¨<strong>é€»è¾‘æ ¸</strong>ä¸ªæ•°)</td></tr><tr><td><code>--single-insert-threads</code></td><td>8</td><td></td><td>å•æ¡æ’å…¥çº¿ç¨‹æ± çš„å¤§å°</td></tr><tr><td><code>--max-conn</code></td><td>4 * CPUs</td><td></td><td>HugeClient ä¸ HugeGraphServer çš„æœ€å¤§ HTTP è¿æ¥æ•°ï¼Œ<strong>è°ƒæ•´çº¿ç¨‹</strong>çš„æ—¶å€™å»ºè®®åŒæ—¶è°ƒæ•´æ­¤é¡¹</td></tr><tr><td><code>--max-conn-per-route</code></td><td>2 * CPUs</td><td></td><td>HugeClient ä¸ HugeGraphServer æ¯ä¸ªè·¯ç”±çš„æœ€å¤§ HTTP è¿æ¥æ•°ï¼Œ<strong>è°ƒæ•´çº¿ç¨‹</strong>çš„æ—¶å€™å»ºè®®åŒæ—¶è°ƒæ•´æ­¤é¡¹</td></tr><tr><td><code>--batch-size</code></td><td>500</td><td></td><td>å¯¼å…¥æ•°æ®æ—¶æ¯ä¸ªæ‰¹æ¬¡åŒ…å«çš„æ•°æ®æ¡æ•°</td></tr><tr><td><code>--max-parse-errors</code></td><td>1</td><td></td><td>æœ€å¤šå…è®¸å¤šå°‘è¡Œæ•°æ®è§£æé”™è¯¯ï¼Œè¾¾åˆ°è¯¥å€¼åˆ™ç¨‹åºé€€å‡º</td></tr><tr><td><code>--max-insert-errors</code></td><td>500</td><td></td><td>æœ€å¤šå…è®¸å¤šå°‘è¡Œæ•°æ®æ’å…¥é”™è¯¯ï¼Œè¾¾åˆ°è¯¥å€¼åˆ™ç¨‹åºé€€å‡º</td></tr><tr><td><code>--timeout</code></td><td>60</td><td></td><td>æ’å…¥ç»“æœè¿”å›çš„è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰</td></tr><tr><td><code>--shutdown-timeout</code></td><td>10</td><td></td><td>å¤šçº¿ç¨‹åœæ­¢çš„ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰</td></tr><tr><td><code>--retry-times</code></td><td>0</td><td></td><td>å‘ç”Ÿç‰¹å®šå¼‚å¸¸æ—¶çš„é‡è¯•æ¬¡æ•°</td></tr><tr><td><code>--retry-interval</code></td><td>10</td><td></td><td>é‡è¯•ä¹‹å‰çš„é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰</td></tr><tr><td><code>--check-vertex</code></td><td>false</td><td></td><td>æ’å…¥è¾¹æ—¶æ˜¯å¦æ£€æŸ¥è¾¹æ‰€è¿æ¥çš„é¡¶ç‚¹æ˜¯å¦å­˜åœ¨</td></tr><tr><td><code>--print-progress</code></td><td>true</td><td></td><td>æ˜¯å¦åœ¨æ§åˆ¶å°å®æ—¶æ‰“å°å¯¼å…¥æ¡æ•°</td></tr><tr><td><code>--dry-run</code></td><td>false</td><td></td><td>æ‰“å¼€è¯¥æ¨¡å¼ï¼Œåªè§£æä¸å¯¼å…¥ï¼Œé€šå¸¸ç”¨äºæµ‹è¯•</td></tr><tr><td><code>--help</code> æˆ– <code>-help</code></td><td>false</td><td></td><td>æ‰“å°å¸®åŠ©ä¿¡æ¯</td></tr><tr><td><code>--parser-threads</code> æˆ– <code>--parallel-count</code></td><td>max(2,CPUS)</td><td></td><td>å¹¶è¡Œè¯»å–æ•°æ®æ–‡ä»¶æœ€å¤§çº¿ç¨‹æ•°</td></tr><tr><td><code>--start-file</code></td><td>0</td><td></td><td>ç”¨äºéƒ¨åˆ†ï¼ˆåˆ†ç‰‡ï¼‰å¯¼å…¥çš„èµ·å§‹æ–‡ä»¶ç´¢å¼•</td></tr><tr><td><code>--end-file</code></td><td>-1</td><td></td><td>ç”¨äºéƒ¨åˆ†å¯¼å…¥çš„æˆªæ­¢æ–‡ä»¶ç´¢å¼•</td></tr><tr><td><code>--scatter-sources</code></td><td>false</td><td></td><td>åˆ†æ•£ï¼ˆå¹¶è¡Œï¼‰è¯»å–å¤šä¸ªæ•°æ®æºä»¥ä¼˜åŒ– I/O æ€§èƒ½</td></tr><tr><td><code>--cdc-flush-interval</code></td><td>30000</td><td></td><td>Flink CDC çš„æ•°æ®åˆ·æ–°é—´éš”</td></tr><tr><td><code>--cdc-sink-parallelism</code></td><td>1</td><td></td><td>Flink CDC å†™å…¥ç«¯ï¼ˆSinkï¼‰çš„å¹¶è¡Œåº¦</td></tr><tr><td><code>--max-read-errors</code></td><td>1</td><td></td><td>ç¨‹åºé€€å‡ºå‰å…è®¸çš„æœ€å¤§è¯»å–é”™è¯¯è¡Œæ•°</td></tr><tr><td><code>--max-read-lines</code></td><td>-1L</td><td></td><td>æœ€å¤§è¯»å–è¡Œæ•°é™åˆ¶ï¼›ä¸€æ—¦è¾¾åˆ°æ­¤è¡Œæ•°ï¼Œå¯¼å…¥ä»»åŠ¡å°†åœæ­¢</td></tr><tr><td><code>--test-mode</code></td><td>false</td><td></td><td>æ˜¯å¦å¼€å¯æµ‹è¯•æ¨¡å¼</td></tr><tr><td><code>--use-prefilter</code></td><td>false</td><td></td><td>æ˜¯å¦é¢„å…ˆè¿‡æ»¤é¡¶ç‚¹</td></tr><tr><td><code>--short-id</code></td><td>[]</td><td></td><td>å°†è‡ªå®šä¹‰ ID æ˜ å°„ä¸ºæ›´çŸ­çš„ ID</td></tr><tr><td><code>--vertex-edge-limit</code></td><td>-1L</td><td></td><td>å•ä¸ªé¡¶ç‚¹çš„æœ€å¤§è¾¹æ•°é™åˆ¶</td></tr><tr><td><code>--sink-type</code></td><td>true</td><td></td><td>æ˜¯å¦è¾“å‡ºè‡³ä¸åŒçš„å­˜å‚¨</td></tr><tr><td><code>--vertex-partitions</code></td><td>64</td><td></td><td>HBase é¡¶ç‚¹è¡¨çš„é¢„åˆ†åŒºæ•°é‡</td></tr><tr><td><code>--edge-partitions</code></td><td>64</td><td></td><td>HBase è¾¹è¡¨çš„é¢„åˆ†åŒºæ•°é‡</td></tr><tr><td><code>--vertex-table-name</code></td><td></td><td></td><td>HBase é¡¶ç‚¹è¡¨åç§°</td></tr><tr><td><code>--edge-table-name</code></td><td></td><td></td><td>HBase è¾¹è¡¨åç§°</td></tr><tr><td><code>--hbase-zk-quorum</code></td><td></td><td></td><td>HBase Zookeeper é›†ç¾¤åœ°å€</td></tr><tr><td><code>--hbase-zk-port</code></td><td></td><td></td><td>HBase Zookeeper ç«¯å£å·</td></tr><tr><td><code>--hbase-zk-parent</code></td><td></td><td></td><td>HBase Zookeeper æ ¹è·¯å¾„</td></tr><tr><td><code>--restore</code></td><td>false</td><td></td><td>å°†å›¾æ¨¡å¼è®¾ç½®ä¸ºæ¢å¤æ¨¡å¼ (RESTORING)</td></tr><tr><td><code>--backend</code></td><td>hstore</td><td></td><td>è‡ªåŠ¨åˆ›å»ºå›¾ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰æ—¶çš„åç«¯å­˜å‚¨ç±»å‹</td></tr><tr><td><code>--serializer</code></td><td>binary</td><td></td><td>è‡ªåŠ¨åˆ›å»ºå›¾ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰æ—¶çš„åºåˆ—åŒ–å™¨ç±»å‹</td></tr><tr><td><code>--scheduler-type</code></td><td>distributed</td><td></td><td>è‡ªåŠ¨åˆ›å»ºå›¾ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰æ—¶çš„ä»»åŠ¡è°ƒåº¦å™¨ç±»å‹</td></tr><tr><td><code>--batch-failure-fallback</code></td><td>true</td><td></td><td>æ‰¹é‡æ’å…¥å¤±è´¥æ—¶æ˜¯å¦å›é€€è‡³å•æ¡æ’å…¥æ¨¡å¼</td></tr></tbody></table><h5 id=342-æ–­ç‚¹ç»­å¯¼æ¨¡å¼>3.4.2 æ–­ç‚¹ç»­å¯¼æ¨¡å¼</h5><p>é€šå¸¸æƒ…å†µä¸‹ï¼ŒLoader ä»»åŠ¡éƒ½éœ€è¦è¾ƒé•¿æ—¶é—´æ‰§è¡Œï¼Œå¦‚æœå› ä¸ºæŸäº›åŸå› å¯¼è‡´å¯¼å…¥ä¸­æ–­è¿›ç¨‹é€€å‡ºï¼Œè€Œä¸‹æ¬¡å¸Œæœ›èƒ½ä»ä¸­æ–­çš„ç‚¹ç»§ç»­å¯¼ï¼Œè¿™å°±æ˜¯ä½¿ç”¨æ–­ç‚¹ç»­å¯¼çš„åœºæ™¯ã€‚</p><p>ç”¨æˆ·è®¾ç½®å‘½ä»¤è¡Œå‚æ•° &ndash;incremental-mode ä¸º true å³æ‰“å¼€äº†æ–­ç‚¹ç»­å¯¼æ¨¡å¼ã€‚æ–­ç‚¹ç»­å¯¼çš„å…³é”®åœ¨äºè¿›åº¦æ–‡ä»¶ï¼Œå¯¼å…¥è¿›ç¨‹é€€å‡ºçš„æ—¶å€™ï¼Œä¼šæŠŠé€€å‡ºæ—¶åˆ»çš„å¯¼å…¥è¿›åº¦
è®°å½•åˆ°è¿›åº¦æ–‡ä»¶ä¸­ï¼Œè¿›åº¦æ–‡ä»¶ä½äº <code>${struct}</code> ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åå½¢å¦‚ <code>load-progress ${date}</code> ï¼Œ${struct} ä¸ºæ˜ å°„æ–‡ä»¶çš„å‰ç¼€ï¼Œ${date} ä¸ºå¯¼å…¥å¼€å§‹
çš„æ—¶åˆ»ã€‚æ¯”å¦‚ï¼šåœ¨ <code>2019-10-10 12:30:30</code> å¼€å§‹çš„ä¸€æ¬¡å¯¼å…¥ä»»åŠ¡ï¼Œä½¿ç”¨çš„æ˜ å°„æ–‡ä»¶ä¸º <code>struct-example.json</code>ï¼Œåˆ™è¿›åº¦æ–‡ä»¶çš„è·¯å¾„ä¸ºä¸ struct-example.json
åŒçº§çš„ <code>struct-example/load-progress 2019-10-10 12:30:30</code>ã€‚</p><blockquote><p>æ³¨æ„ï¼šè¿›åº¦æ–‡ä»¶çš„ç”Ÿæˆä¸ &ndash;incremental-mode æ˜¯å¦æ‰“å¼€æ— å…³ï¼Œæ¯æ¬¡å¯¼å…¥ç»“æŸéƒ½ä¼šç”Ÿæˆä¸€ä¸ªè¿›åº¦æ–‡ä»¶ã€‚</p></blockquote><p>å¦‚æœæ•°æ®æ–‡ä»¶æ ¼å¼éƒ½æ˜¯åˆæ³•çš„ï¼Œæ˜¯ç”¨æˆ·è‡ªå·±åœæ­¢ï¼ˆCTRL + C æˆ– killï¼Œkill -9 ä¸æ”¯æŒï¼‰çš„å¯¼å…¥ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰é”™è¯¯è®°å½•çš„æƒ…å†µä¸‹ï¼Œä¸‹ä¸€æ¬¡å¯¼å…¥åªéœ€è¦è®¾ç½®
ä¸ºæ–­ç‚¹ç»­å¯¼å³å¯ã€‚</p><p>ä½†å¦‚æœæ˜¯å› ä¸ºå¤ªå¤šæ•°æ®ä¸åˆæ³•æˆ–è€…ç½‘ç»œå¼‚å¸¸ï¼Œè¾¾åˆ°äº† &ndash;max-parse-errors æˆ– &ndash;max-insert-errors çš„é™åˆ¶ï¼ŒLoader ä¼šæŠŠè¿™äº›æ’å…¥å¤±è´¥çš„åŸå§‹è¡Œè®°å½•åˆ°
å¤±è´¥æ–‡ä»¶ä¸­ï¼Œç”¨æˆ·å¯¹å¤±è´¥æ–‡ä»¶ä¸­çš„æ•°æ®è¡Œä¿®æ”¹åï¼Œè®¾ç½® &ndash;reload-failure ä¸º true å³å¯æŠŠè¿™äº›"å¤±è´¥æ–‡ä»¶"ä¹Ÿå½“ä½œè¾“å…¥æºè¿›è¡Œå¯¼å…¥ï¼ˆä¸å½±å“æ­£å¸¸çš„æ–‡ä»¶çš„å¯¼å…¥ï¼‰ï¼Œ
å½“ç„¶å¦‚æœä¿®æ”¹åçš„æ•°æ®è¡Œä»ç„¶æœ‰é—®é¢˜ï¼Œåˆ™ä¼šè¢«å†æ¬¡è®°å½•åˆ°å¤±è´¥æ–‡ä»¶ä¸­ï¼ˆä¸ç”¨æ‹…å¿ƒä¼šæœ‰é‡å¤è¡Œï¼‰ã€‚</p><p>æ¯ä¸ªé¡¶ç‚¹æ˜ å°„æˆ–è¾¹æ˜ å°„æœ‰æ•°æ®æ’å…¥å¤±è´¥æ—¶éƒ½ä¼šäº§ç”Ÿè‡ªå·±çš„å¤±è´¥æ–‡ä»¶ï¼Œå¤±è´¥æ–‡ä»¶åˆåˆ†ä¸ºè§£æå¤±è´¥æ–‡ä»¶ï¼ˆåç¼€ .parse-errorï¼‰å’Œæ’å…¥å¤±è´¥æ–‡ä»¶ï¼ˆåç¼€ .insert-errorï¼‰ï¼Œ
å®ƒä»¬è¢«ä¿å­˜åœ¨ <code>${struct}/current</code> ç›®å½•ä¸‹ã€‚æ¯”å¦‚æ˜ å°„æ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªé¡¶ç‚¹æ˜ å°„ person å’Œè¾¹æ˜ å°„ knowsï¼Œå®ƒä»¬å„æœ‰ä¸€äº›é”™è¯¯è¡Œï¼Œå½“ Loader é€€å‡ºåï¼Œåœ¨
<code>${struct}/current</code> ç›®å½•ä¸‹ä¼šçœ‹åˆ°å¦‚ä¸‹æ–‡ä»¶ï¼š</p><ul><li>person-b4cd32ab.parse-error: é¡¶ç‚¹æ˜ å°„ person è§£æé”™è¯¯çš„æ•°æ®</li><li>person-b4cd32ab.insert-error: é¡¶ç‚¹æ˜ å°„ person æ’å…¥é”™è¯¯çš„æ•°æ®</li><li>knows-eb6b2bac.parse-error: è¾¹æ˜ å°„ knows è§£æé”™è¯¯çš„æ•°æ®</li><li>knows-eb6b2bac.insert-error: è¾¹æ˜ å°„ knows æ’å…¥é”™è¯¯çš„æ•°æ®</li></ul><blockquote><p>.parse-error å’Œ .insert-error å¹¶ä¸æ€»æ˜¯ä¸€èµ·å­˜åœ¨çš„ï¼Œåªæœ‰å­˜åœ¨è§£æå‡ºé”™çš„è¡Œæ‰ä¼šæœ‰ .parse-error æ–‡ä»¶ï¼Œåªæœ‰å­˜åœ¨æ’å…¥å‡ºé”™çš„è¡Œæ‰ä¼šæœ‰ .insert-error æ–‡ä»¶ã€‚</p></blockquote><h5 id=343-logs-ç›®å½•æ–‡ä»¶è¯´æ˜>3.4.3 logs ç›®å½•æ–‡ä»¶è¯´æ˜</h5><p>ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å„æ—¥å¿—åŠé”™è¯¯æ•°æ®ä¼šå†™å…¥ hugegraph-loader.log æ–‡ä»¶ä¸­ã€‚</p><h5 id=344-æ‰§è¡Œå‘½ä»¤>3.4.4 æ‰§è¡Œå‘½ä»¤</h5><p>è¿è¡Œ bin/hugegraph-loader å¹¶ä¼ å…¥å‚æ•°</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/hugegraph-loader -g <span style=color:#ce5c00;font-weight:700>{</span>GRAPH_NAME<span style=color:#ce5c00;font-weight:700>}</span> -f <span style=color:#4e9a06>${</span><span style=color:#000>INPUT_DESC_FILE</span><span style=color:#4e9a06>}</span> -s <span style=color:#4e9a06>${</span><span style=color:#000>SCHEMA_FILE</span><span style=color:#4e9a06>}</span> -h <span style=color:#ce5c00;font-weight:700>{</span>HOST<span style=color:#ce5c00;font-weight:700>}</span> -p <span style=color:#ce5c00;font-weight:700>{</span>PORT<span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=4-å®Œæ•´ç¤ºä¾‹>4 å®Œæ•´ç¤ºä¾‹</h3><p>ä¸‹é¢ç»™å‡ºçš„æ˜¯ hugegraph-loader åŒ…ä¸­ example ç›®å½•ä¸‹çš„ä¾‹å­ã€‚(<a href=https://github.com/apache/hugegraph-toolchain/tree/master/hugegraph-loader/assembly/static/example/file>GitHub åœ°å€</a>)</p><h4 id=41-å‡†å¤‡æ•°æ®>4.1 å‡†å¤‡æ•°æ®</h4><p>é¡¶ç‚¹æ–‡ä»¶ï¼š<code>example/file/vertex_person.csv</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>marko,29,Beijing
</span></span><span style=display:flex><span>vadas,27,Hongkong
</span></span><span style=display:flex><span>josh,32,Beijing
</span></span><span style=display:flex><span>peter,35,Shanghai
</span></span><span style=display:flex><span>&#34;li,nary&#34;,26,&#34;Wu,han&#34;
</span></span><span style=display:flex><span>tom,null,NULL
</span></span></code></pre></div><p>é¡¶ç‚¹æ–‡ä»¶ï¼š<code>example/file/vertex_software.txt</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>id|name|lang|price|ISBN
</span></span><span style=display:flex><span>1|lop|java|328|ISBN978-7-107-18618-5
</span></span><span style=display:flex><span>2|ripple|java|199|ISBN978-7-100-13678-5
</span></span></code></pre></div><p>è¾¹æ–‡ä»¶ï¼š<code>example/file/edge_knows.json</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;vadas&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;date&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;20160110&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;weight&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;josh&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;date&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;20130220&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;weight&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1.0</span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p>è¾¹æ–‡ä»¶ï¼š<code>example/file/edge_created.json</code></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;aname&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;bname&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;lop&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;date&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;20171210&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;weight&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.4</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;aname&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;josh&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;bname&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;lop&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;date&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;20091111&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;weight&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.4</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;aname&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;josh&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;bname&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ripple&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;date&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;20171210&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;weight&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1.0</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;aname&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;peter&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;bname&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;lop&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;date&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;20170324&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;weight&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.2</span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=42-ç¼–å†™-schema>4.2 ç¼–å†™ schema</h4><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  schema æ–‡ä»¶ï¼šexample/file/schema.groovy</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-groovy data-lang=groovy><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asInt</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asDouble</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asDouble</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>primaryKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>primaryKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;personByAge&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>onV</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>range</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;personByCity&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>onV</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>secondary</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;personByAgeAndCity&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>onV</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>secondary</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;softwareByPrice&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>onV</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>range</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>sourceLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>targetLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>sourceLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>targetLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;createdByDate&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>onE</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>secondary</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;createdByWeight&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>onE</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>range</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knowsByWeight&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>onE</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>range</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span></code></pre></div></details><h4 id=43-ç¼–å†™è¾“å…¥æºæ˜ å°„æ–‡ä»¶examplefilestructjson>4.3 ç¼–å†™è¾“å…¥æºæ˜ å°„æ–‡ä»¶<code>example/file/struct.json</code></h4><details><summary>ç‚¹å‡»å±•å¼€/æŠ˜å  æºæ˜ å°„æ–‡ä»¶ example/file/struct.json</summary><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;vertices&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;file&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;example/file/vertex_person.csv&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;CSV&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;header&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;charset&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;UTF-8&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;skipped_line&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>&#34;regex&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;(^#|^//).*&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;null_values&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;NULL&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;null&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;file&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;example/file/vertex_software.txt&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;TEXT&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;delimiter&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;|&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;charset&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;GBK&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;ignored&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;ISBN&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;edges&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;source&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;target&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;file&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;example/file/edge_knows.json&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;JSON&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;date_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yyyyMMdd&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;field_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;target_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;source&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;target&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;target_id&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;input&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;file&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;path&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;example/file/edge_created.json&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;JSON&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;date_format&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;yyyy-MM-dd&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;field_mapping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;source_name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div></details><h4 id=44-æ‰§è¡Œå‘½ä»¤å¯¼å…¥>4.4 æ‰§è¡Œå‘½ä»¤å¯¼å…¥</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sh bin/hugegraph-loader.sh -g hugegraph -f example/file/struct.json -s example/file/schema.groovy
</span></span></code></pre></div><p>å¯¼å…¥ç»“æŸåï¼Œä¼šå‡ºç°ç±»ä¼¼å¦‚ä¸‹ç»Ÿè®¡ä¿¡æ¯ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vertices/edges has been loaded this <span style=color:#204a87>time</span> : 8/6
</span></span><span style=display:flex><span>--------------------------------------------------
</span></span><span style=display:flex><span>count metrics
</span></span><span style=display:flex><span>     input <span style=color:#204a87>read</span> success            : <span style=color:#0000cf;font-weight:700>14</span>
</span></span><span style=display:flex><span>     input <span style=color:#204a87>read</span> failure            : <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>     vertex parse success          : <span style=color:#0000cf;font-weight:700>8</span>
</span></span><span style=display:flex><span>     vertex parse failure          : <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>     vertex insert success         : <span style=color:#0000cf;font-weight:700>8</span>
</span></span><span style=display:flex><span>     vertex insert failure         : <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>     edge parse success            : <span style=color:#0000cf;font-weight:700>6</span>
</span></span><span style=display:flex><span>     edge parse failure            : <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>     edge insert success           : <span style=color:#0000cf;font-weight:700>6</span>
</span></span><span style=display:flex><span>     edge insert failure           : <span style=color:#0000cf;font-weight:700>0</span>
</span></span></code></pre></div><h4 id=45-ä½¿ç”¨-docker-å¯¼å…¥>4.5 ä½¿ç”¨ docker å¯¼å…¥</h4><h5 id=451-ä½¿ç”¨-docker-exec-ç›´æ¥å¯¼å…¥æ•°æ®>4.5.1 ä½¿ç”¨ docker exec ç›´æ¥å¯¼å…¥æ•°æ®</h5><h6 id=4511-æ•°æ®å‡†å¤‡>4.5.1.1 æ•°æ®å‡†å¤‡</h6><p>å¦‚æœä»…ä»…å°è¯•ä½¿ç”¨ loader, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„ example æ•°æ®é›†è¿›è¡Œå¯¼å…¥ï¼Œæ— éœ€è‡ªå·±é¢å¤–å‡†å¤‡æ•°æ®</p><p>å¦‚æœä½¿ç”¨è‡ªå®šä¹‰çš„æ•°æ®ï¼Œåˆ™åœ¨ä½¿ç”¨ loader å¯¼å…¥æ•°æ®ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•°æ®å¤åˆ¶åˆ°å®¹å™¨å†…éƒ¨ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥æ ¹æ® <a href=#41-%E5%87%86%E5%A4%87%E6%95%B0%E6%8D%AE>4.1-4.3</a> çš„æ­¥éª¤å‡†å¤‡æ•°æ®ï¼Œå°†å‡†å¤‡å¥½çš„æ•°æ®é€šè¿‡ <code>docker cp</code> å¤åˆ¶åˆ° loader å®¹å™¨å†…éƒ¨ã€‚</p><p>å‡è®¾æˆ‘ä»¬å·²ç»æŒ‰ç…§ä¸Šè¿°çš„æ­¥éª¤å‡†å¤‡å¥½äº†å¯¹åº”çš„æ•°æ®é›†ï¼Œå­˜æ”¾åœ¨ <code>hugegraph-dataset</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>tree -f hugegraph-dataset/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>hugegraph-dataset
</span></span><span style=display:flex><span>â”œâ”€â”€ hugegraph-dataset/edge_created.json
</span></span><span style=display:flex><span>â”œâ”€â”€ hugegraph-dataset/edge_knows.json
</span></span><span style=display:flex><span>â”œâ”€â”€ hugegraph-dataset/schema.groovy
</span></span><span style=display:flex><span>â”œâ”€â”€ hugegraph-dataset/struct.json
</span></span><span style=display:flex><span>â”œâ”€â”€ hugegraph-dataset/vertex_person.csv
</span></span><span style=display:flex><span>â””â”€â”€ hugegraph-dataset/vertex_software.txt
</span></span></code></pre></div><p>å°†æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨å†…éƒ¨</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker cp hugegraph-dataset loader:/loader/dataset
</span></span><span style=display:flex><span>docker <span style=color:#204a87>exec</span> -it loader ls /loader/dataset
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>edge_created.json  edge_knows.json  schema.groovy  struct.json  vertex_person.csv  vertex_software.txt
</span></span></code></pre></div><h6 id=4512-æ•°æ®å¯¼å…¥>4.5.1.2 æ•°æ®å¯¼å…¥</h6><p>ä»¥å†…ç½®çš„ example æ•°æ®é›†ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„å‘½ä»¤å¯¹æ•°æ®è¿›è¡Œå¯¼å…¥ã€‚</p><p>å¦‚æœéœ€è¦å¯¼å…¥è‡ªå·±å‡†å¤‡çš„æ•°æ®é›†ï¼Œåˆ™åªéœ€è¦ä¿®æ”¹ <code>-f</code> é…ç½®è„šæœ¬çš„è·¯å¾„ ä»¥åŠ <code>-s</code> schema æ–‡ä»¶è·¯å¾„å³å¯ã€‚</p><p>å…¶ä»–çš„å‚æ•°å¯ä»¥å‚ç…§ <a href=#341-%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E>3.4.1 å‚æ•°è¯´æ˜</a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker <span style=color:#204a87>exec</span> -it loader bin/hugegraph-loader.sh -g hugegraph -f example/file/struct.json -s example/file/schema.groovy -h server -p <span style=color:#0000cf;font-weight:700>8080</span>
</span></span></code></pre></div><p>å¦‚æœå¯¼å…¥ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®é›†ï¼ŒæŒ‰ç…§åˆšæ‰çš„ä¾‹å­ï¼Œåˆ™ä½¿ç”¨ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker <span style=color:#204a87>exec</span> -it loader bin/hugegraph-loader.sh -g hugegraph -f /loader/dataset/struct.json -s /loader/dataset/schema.groovy -h server -p <span style=color:#0000cf;font-weight:700>8080</span>
</span></span></code></pre></div><blockquote><p>å¦‚æœ <code>loader</code> å’Œ <code>server</code>ä½äºåŒä¸€ docker ç½‘ç»œï¼Œåˆ™å¯ä»¥æŒ‡å®š <code>-h {server_container_name}</code>, å¦åˆ™éœ€è¦æŒ‡å®š <code>server</code>çš„å®¿ä¸»æœºçš„ ip (åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œ <code>server_container_name</code> ä¸º <code>server</code>).</p></blockquote><p>ç„¶åæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ç»“æœï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>HugeGraphLoader worked in NORMAL MODE
</span></span><span style=display:flex><span>vertices/edges loaded this <span style=color:#204a87>time</span> : 8/6
</span></span><span style=display:flex><span>--------------------------------------------------
</span></span><span style=display:flex><span>count metrics
</span></span><span style=display:flex><span>    input <span style=color:#204a87>read</span> success            : <span style=color:#0000cf;font-weight:700>14</span>                  
</span></span><span style=display:flex><span>    input <span style=color:#204a87>read</span> failure            : <span style=color:#0000cf;font-weight:700>0</span>                   
</span></span><span style=display:flex><span>    vertex parse success          : <span style=color:#0000cf;font-weight:700>8</span>                   
</span></span><span style=display:flex><span>    vertex parse failure          : <span style=color:#0000cf;font-weight:700>0</span>                   
</span></span><span style=display:flex><span>    vertex insert success         : <span style=color:#0000cf;font-weight:700>8</span>                   
</span></span><span style=display:flex><span>    vertex insert failure         : <span style=color:#0000cf;font-weight:700>0</span>                   
</span></span><span style=display:flex><span>    edge parse success            : <span style=color:#0000cf;font-weight:700>6</span>                   
</span></span><span style=display:flex><span>    edge parse failure            : <span style=color:#0000cf;font-weight:700>0</span>                   
</span></span><span style=display:flex><span>    edge insert success           : <span style=color:#0000cf;font-weight:700>6</span>                   
</span></span><span style=display:flex><span>    edge insert failure           : <span style=color:#0000cf;font-weight:700>0</span>                   
</span></span><span style=display:flex><span>--------------------------------------------------
</span></span><span style=display:flex><span>meter metrics
</span></span><span style=display:flex><span>    total <span style=color:#204a87>time</span>                    : 0.199s              
</span></span><span style=display:flex><span>    <span style=color:#204a87>read</span> <span style=color:#204a87>time</span>                     : 0.046s              
</span></span><span style=display:flex><span>    load <span style=color:#204a87>time</span>                     : 0.153s              
</span></span><span style=display:flex><span>    vertex load <span style=color:#204a87>time</span>              : 0.077s              
</span></span><span style=display:flex><span>    vertex load rate<span style=color:#ce5c00;font-weight:700>(</span>vertices/s<span style=color:#ce5c00;font-weight:700>)</span>  : <span style=color:#0000cf;font-weight:700>103</span>                 
</span></span><span style=display:flex><span>    edge load <span style=color:#204a87>time</span>                : 0.112s              
</span></span><span style=display:flex><span>    edge load rate<span style=color:#ce5c00;font-weight:700>(</span>edges/s<span style=color:#ce5c00;font-weight:700>)</span>       : <span style=color:#0000cf;font-weight:700>53</span>   
</span></span></code></pre></div><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>curl</code> æˆ–è€… <code>hubble</code>è§‚å¯Ÿå¯¼å…¥ç»“æœï¼Œæ­¤å¤„ä»¥ <code>curl</code> ä¸ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; curl <span style=color:#4e9a06>&#34;http://localhost:8080/graphs/hugegraph/graph/vertices&#34;</span> <span style=color:#000;font-weight:700>|</span> gunzip
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;vertices&#34;</span>:<span style=color:#ce5c00;font-weight:700>[{</span><span style=color:#4e9a06>&#34;id&#34;</span>:1,<span style=color:#4e9a06>&#34;label&#34;</span>:<span style=color:#4e9a06>&#34;software&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>:<span style=color:#4e9a06>&#34;vertex&#34;</span>,<span style=color:#4e9a06>&#34;properties&#34;</span>:<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>:<span style=color:#4e9a06>&#34;lop&#34;</span>,<span style=color:#4e9a06>&#34;lang&#34;</span>:<span style=color:#4e9a06>&#34;java&#34;</span>,<span style=color:#4e9a06>&#34;price&#34;</span>:328.0<span style=color:#ce5c00;font-weight:700>}}</span>,<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;id&#34;</span>:2,<span style=color:#4e9a06>&#34;label&#34;</span>:<span style=color:#4e9a06>&#34;software&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>:<span style=color:#4e9a06>&#34;vertex&#34;</span>,<span style=color:#4e9a06>&#34;properties&#34;</span>:<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>:<span style=color:#4e9a06>&#34;ripple&#34;</span>,<span style=color:#4e9a06>&#34;lang&#34;</span>:<span style=color:#4e9a06>&#34;java&#34;</span>,<span style=color:#4e9a06>&#34;price&#34;</span>:199.0<span style=color:#ce5c00;font-weight:700>}}</span>,<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;id&#34;</span>:<span style=color:#4e9a06>&#34;1:tom&#34;</span>,<span style=color:#4e9a06>&#34;label&#34;</span>:<span style=color:#4e9a06>&#34;person&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>:<span style=color:#4e9a06>&#34;vertex&#34;</span>,<span style=color:#4e9a06>&#34;properties&#34;</span>:<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>:<span style=color:#4e9a06>&#34;tom&#34;</span><span style=color:#ce5c00;font-weight:700>}}</span>,<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;id&#34;</span>:<span style=color:#4e9a06>&#34;1:josh&#34;</span>,<span style=color:#4e9a06>&#34;label&#34;</span>:<span style=color:#4e9a06>&#34;person&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>:<span style=color:#4e9a06>&#34;vertex&#34;</span>,<span style=color:#4e9a06>&#34;properties&#34;</span>:<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>:<span style=color:#4e9a06>&#34;josh&#34;</span>,<span style=color:#4e9a06>&#34;age&#34;</span>:32,<span style=color:#4e9a06>&#34;city&#34;</span>:<span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#ce5c00;font-weight:700>}}</span>,<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;id&#34;</span>:<span style=color:#4e9a06>&#34;1:marko&#34;</span>,<span style=color:#4e9a06>&#34;label&#34;</span>:<span style=color:#4e9a06>&#34;person&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>:<span style=color:#4e9a06>&#34;vertex&#34;</span>,<span style=color:#4e9a06>&#34;properties&#34;</span>:<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>:<span style=color:#4e9a06>&#34;marko&#34;</span>,<span style=color:#4e9a06>&#34;age&#34;</span>:29,<span style=color:#4e9a06>&#34;city&#34;</span>:<span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#ce5c00;font-weight:700>}}</span>,<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;id&#34;</span>:<span style=color:#4e9a06>&#34;1:peter&#34;</span>,<span style=color:#4e9a06>&#34;label&#34;</span>:<span style=color:#4e9a06>&#34;person&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>:<span style=color:#4e9a06>&#34;vertex&#34;</span>,<span style=color:#4e9a06>&#34;properties&#34;</span>:<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>:<span style=color:#4e9a06>&#34;peter&#34;</span>,<span style=color:#4e9a06>&#34;age&#34;</span>:35,<span style=color:#4e9a06>&#34;city&#34;</span>:<span style=color:#4e9a06>&#34;Shanghai&#34;</span><span style=color:#ce5c00;font-weight:700>}}</span>,<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;id&#34;</span>:<span style=color:#4e9a06>&#34;1:vadas&#34;</span>,<span style=color:#4e9a06>&#34;label&#34;</span>:<span style=color:#4e9a06>&#34;person&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>:<span style=color:#4e9a06>&#34;vertex&#34;</span>,<span style=color:#4e9a06>&#34;properties&#34;</span>:<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>:<span style=color:#4e9a06>&#34;vadas&#34;</span>,<span style=color:#4e9a06>&#34;age&#34;</span>:27,<span style=color:#4e9a06>&#34;city&#34;</span>:<span style=color:#4e9a06>&#34;Hongkong&#34;</span><span style=color:#ce5c00;font-weight:700>}}</span>,<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;id&#34;</span>:<span style=color:#4e9a06>&#34;1:li,nary&#34;</span>,<span style=color:#4e9a06>&#34;label&#34;</span>:<span style=color:#4e9a06>&#34;person&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>:<span style=color:#4e9a06>&#34;vertex&#34;</span>,<span style=color:#4e9a06>&#34;properties&#34;</span>:<span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>:<span style=color:#4e9a06>&#34;li,nary&#34;</span>,<span style=color:#4e9a06>&#34;age&#34;</span>:26,<span style=color:#4e9a06>&#34;city&#34;</span>:<span style=color:#4e9a06>&#34;Wu,han&#34;</span><span style=color:#ce5c00;font-weight:700>}}]}</span>
</span></span></code></pre></div><p>å¦‚æœæƒ³æ£€æŸ¥è¾¹çš„å¯¼å…¥ç»“æœï¼Œå¯ä»¥ä½¿ç”¨ <code>curl "http://localhost:8080/graphs/hugegraph/graph/edges" | gunzip</code></p><h5 id=452-è¿›å…¥-docker-å®¹å™¨è¿›è¡Œå¯¼å…¥>4.5.2 è¿›å…¥ docker å®¹å™¨è¿›è¡Œå¯¼å…¥</h5><p>é™¤äº†ç›´æ¥ä½¿ç”¨ <code>docker exec</code> å¯¼å…¥æ•°æ®ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›å…¥å®¹å™¨è¿›è¡Œæ•°æ®å¯¼å…¥ï¼ŒåŸºæœ¬æµç¨‹ä¸ <a href=#451-%E4%BD%BF%E7%94%A8-docker-exec-%E7%9B%B4%E6%8E%A5%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE>4.5.1</a> ç›¸åŒ</p><p>ä½¿ç”¨ <code>docker exec -it loader bash</code>è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œå¹¶æ‰§è¡Œå‘½ä»¤</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sh bin/hugegraph-loader.sh -g hugegraph -f example/file/struct.json -s example/file/schema.groovy -h server -p <span style=color:#0000cf;font-weight:700>8080</span>
</span></span></code></pre></div><p>æ‰§è¡Œçš„ç»“æœå¦‚ <a href=#451-%E4%BD%BF%E7%94%A8-docker-exec-%E7%9B%B4%E6%8E%A5%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE>4.5.1</a> æ‰€ç¤º</p><h4 id=46-ä½¿ç”¨-spark-loader-å¯¼å…¥>4.6 ä½¿ç”¨ spark-loader å¯¼å…¥</h4><blockquote><p>Spark ç‰ˆæœ¬ï¼šSpark 3+ï¼Œå…¶ä»–ç‰ˆæœ¬æœªæµ‹è¯•ã€‚
HugeGraph Toolchain ç‰ˆæœ¬ï¼štoolchain-1.0.0</p></blockquote><p><code>spark-loader</code> çš„å‚æ•°åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œæ³¨æ„ï¼šå› äºŒè€…å‚æ•°åç¼©å†™å­˜åœ¨é‡åˆéƒ¨åˆ†ï¼Œè¯·ä½¿ç”¨å‚æ•°å…¨ç§°ã€‚ä¸¤ç§å‚æ•°ä¹‹é—´æ— éœ€ä¿è¯å…ˆåé¡ºåºã€‚</p><ul><li>hugegraph å‚æ•°ï¼ˆå‚è€ƒï¼š<a href=https://hugegraph.apache.org/cn/docs/quickstart/toolchain/hugegraph-loader/#341-%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E>hugegraph-loader å‚æ•°è¯´æ˜</a> ï¼‰</li><li>Spark ä»»åŠ¡æäº¤å‚æ•°ï¼ˆå‚è€ƒï¼š<a href=https://spark.apache.org/docs/3.3.0/submitting-applications.html#content>Submitting Applications</a>ï¼‰</li></ul><p>ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sh bin/hugegraph-spark-loader.sh --master yarn <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>--deploy-mode cluster --name spark-hugegraph-loader --file ./hugegraph.json <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>--username admin --token admin --host xx.xx.xx.xx --port <span style=color:#0000cf;font-weight:700>8093</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>--graph graph-test --num-executors <span style=color:#0000cf;font-weight:700>6</span> --executor-cores <span style=color:#0000cf;font-weight:700>16</span> --executor-memory 15g
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-578593298ffbd00c4ba2246ed746c1b8>2.3 - HugeGraph-Tools Quick Start</h1><h3 id=1-hugegraph-toolsæ¦‚è¿°>1 HugeGraph-Toolsæ¦‚è¿°</h3><p>HugeGraph-Tools æ˜¯ HugeGraph çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ã€ç®¡ç†å’Œå¤‡ä»½/è¿˜åŸç»„ä»¶ã€‚</p><blockquote><p><strong>æµ‹è¯•æŒ‡å—</strong>ï¼šå¦‚éœ€åœ¨æœ¬åœ°è¿è¡Œ Tools æµ‹è¯•ï¼Œè¯·å‚è€ƒ <a href=/cn/docs/guides/toolchain-local-test>å·¥å…·é“¾æœ¬åœ°æµ‹è¯•æŒ‡å—</a></p></blockquote><h3 id=2-è·å–-hugegraph-tools>2 è·å– HugeGraph-Tools</h3><p>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è·å– HugeGraph-Toolsï¼š(å®ƒè¢«åŒ…å«å­ Toolchain ä¸­)</p><ul><li>ä¸‹è½½äºŒè¿›åˆ¶taråŒ…</li><li>ä¸‹è½½æºç ç¼–è¯‘å®‰è£…</li></ul><h4 id=21-ä¸‹è½½äºŒè¿›åˆ¶taråŒ…>2.1 ä¸‹è½½äºŒè¿›åˆ¶taråŒ…</h4><p>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ HugeGraph-Toolchain åŒ…, ç„¶åè¿›å…¥ tools å­ç›®å½•</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/1.0.0/apache-hugegraph-toolchain-incubating-1.0.0.tar.gz
</span></span><span style=display:flex><span>tar zxf *hugegraph*.tar.gz
</span></span></code></pre></div><h4 id=22-ä¸‹è½½æºç ç¼–è¯‘å®‰è£…>2.2 ä¸‹è½½æºç ç¼–è¯‘å®‰è£…</h4><p>æºç ç¼–è¯‘å‰è¯·ç¡®ä¿å®‰è£…äº†wgetå‘½ä»¤</p><p>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ HugeGraph-Toolchain æºç åŒ…, ç„¶åæ ¹ç›®å½•ç¼–è¯‘æˆ–è€…å•ç‹¬ç¼–è¯‘ tool å­æ¨¡å—ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. get from github</span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/hugegraph-toolchain.git
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. get from direct  (e.g. here is 1.0.0, please choose the latest version)</span>
</span></span><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/1.0.0/apache-hugegraph-toolchain-incubating-1.0.0-src.tar.gz
</span></span></code></pre></div><p>ç¼–è¯‘ç”Ÿæˆ tar åŒ…:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> hugegraph-tools
</span></span><span style=display:flex><span>mvn package -DskipTests
</span></span></code></pre></div><p>ç”Ÿæˆ tar åŒ… hugegraph-tools-${version}.tar.gz</p><h3 id=3-ä½¿ç”¨>3 ä½¿ç”¨</h3><h4 id=31-åŠŸèƒ½æ¦‚è§ˆ>3.1 åŠŸèƒ½æ¦‚è§ˆ</h4><p>è§£å‹åï¼Œè¿›å…¥ hugegraph-tools ç›®å½•ï¼Œå¯ä»¥ä½¿ç”¨<code>bin/hugegraph</code>æˆ–è€…<code>bin/hugegraph help</code>æ¥æŸ¥çœ‹ usage ä¿¡æ¯ã€‚ä¸»è¦åˆ†ä¸ºï¼š</p><ul><li>å›¾ç®¡ç†ç±»ï¼Œgraph-mode-setã€graph-mode-getã€graph-listã€graph-getã€graph-clearã€graph-createã€graph-clone å’Œ graph-drop</li><li>å¼‚æ­¥ä»»åŠ¡ç®¡ç†ç±»ï¼Œtask-listã€task-getã€task-deleteã€task-cancel å’Œ task-clear</li><li>Gremlinç±»ï¼Œgremlin-execute å’Œ gremlin-schedule</li><li>å¤‡ä»½/æ¢å¤ç±»ï¼Œbackupã€restoreã€migrateã€schedule-backup å’Œ dump</li><li>è®¤è¯æ•°æ®å¤‡ä»½/æ¢å¤ç±»ï¼Œauth-backup å’Œ auth-restore</li><li>å®‰è£…éƒ¨ç½²ç±»ï¼Œdeployã€clearã€start-all å’Œ stop-all</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Usage: hugegraph <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>command<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#204a87>command</span> options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span></code></pre></div><h5 id=32-options-å…¨å±€å˜é‡>3.2 [options]-å…¨å±€å˜é‡</h5><p><code>options</code>æ˜¯ HugeGraph-Tools çš„å…¨å±€å˜é‡ï¼Œå¯ä»¥åœ¨ hugegraph-tools/bin/hugegraph ä¸­é…ç½®,åŒ…æ‹¬ï¼š</p><ul><li>&ndash;graphï¼ŒHugeGraph-Tools æ“ä½œçš„å›¾çš„åå­—ï¼Œé»˜è®¤å€¼æ˜¯ hugegraph</li><li>&ndash;urlï¼ŒHugeGraph-Server çš„æœåŠ¡åœ°å€ï¼Œé»˜è®¤æ˜¯ http://127.0.0.1:8080</li><li>&ndash;userï¼Œå½“ HugeGraph-Server å¼€å¯è®¤è¯æ—¶ï¼Œä¼ é€’ç”¨æˆ·å</li><li>&ndash;passwordï¼Œå½“ HugeGraph-Server å¼€å¯è®¤è¯æ—¶ï¼Œä¼ é€’ç”¨æˆ·çš„å¯†ç </li><li>&ndash;timeoutï¼Œè¿æ¥ HugeGraph-Server æ—¶çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤æ˜¯ 30s</li><li>&ndash;trust-store-fileï¼Œè¯ä¹¦æ–‡ä»¶çš„è·¯å¾„ï¼Œå½“ &ndash;url ä½¿ç”¨ https æ—¶ï¼ŒHugeGraph-Client ä½¿ç”¨çš„ truststore æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºç©ºï¼Œä»£è¡¨ä½¿ç”¨ hugegraph-tools å†…ç½®çš„ truststore æ–‡ä»¶ conf/hugegraph.truststore</li><li>&ndash;trust-store-passwordï¼Œè¯ä¹¦æ–‡ä»¶çš„å¯†ç ï¼Œå½“ &ndash;url ä½¿ç”¨ https æ—¶ï¼ŒHugeGraph-Client ä½¿ç”¨çš„ truststore çš„å¯†ç ï¼Œé»˜è®¤ä¸ºç©ºï¼Œä»£è¡¨ä½¿ç”¨ hugegraph-tools å†…ç½®çš„ truststore æ–‡ä»¶çš„å¯†ç </li></ul><p>ä¸Šè¿°å…¨å±€å˜é‡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æ¥è®¾ç½®ã€‚ä¸€ç§æ–¹å¼æ˜¯åœ¨å‘½ä»¤è¡Œä½¿ç”¨ export è®¾ç½®ä¸´æ—¶ç¯å¢ƒå˜é‡ï¼Œåœ¨è¯¥å‘½ä»¤è¡Œå…³é—­ä¹‹å‰å‡æœ‰æ•ˆ</p><table><thead><tr><th>å…¨å±€å˜é‡</th><th>ç¯å¢ƒå˜é‡</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>&ndash;url</td><td>HUGEGRAPH_URL</td><td>export HUGEGRAPH_URL=http://127.0.0.1:8080</td></tr><tr><td>&ndash;graph</td><td>HUGEGRAPH_GRAPH</td><td>export HUGEGRAPH_GRAPH=hugegraph</td></tr><tr><td>&ndash;user</td><td>HUGEGRAPH_USERNAME</td><td>export HUGEGRAPH_USERNAME=admin</td></tr><tr><td>&ndash;password</td><td>HUGEGRAPH_PASSWORD</td><td>export HUGEGRAPH_PASSWORD=test</td></tr><tr><td>&ndash;timeout</td><td>HUGEGRAPH_TIMEOUT</td><td>export HUGEGRAPH_TIMEOUT=30</td></tr><tr><td>&ndash;trust-store-file</td><td>HUGEGRAPH_TRUST_STORE_FILE</td><td>export HUGEGRAPH_TRUST_STORE_FILE=/tmp/trust-store</td></tr><tr><td>&ndash;trust-store-password</td><td>HUGEGRAPH_TRUST_STORE_PASSWORD</td><td>export HUGEGRAPH_TRUST_STORE_PASSWORD=xxxx</td></tr></tbody></table><p>å¦ä¸€ç§æ–¹å¼æ˜¯åœ¨ bin/hugegraph è„šæœ¬ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Set environment here if needed</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#export HUGEGRAPH_URL=</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#export HUGEGRAPH_GRAPH=</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#export HUGEGRAPH_USERNAME=</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#export HUGEGRAPH_PASSWORD=</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#export HUGEGRAPH_TIMEOUT=</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#export HUGEGRAPH_TRUST_STORE_FILE=</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>#export HUGEGRAPH_TRUST_STORE_PASSWORD=</span>
</span></span></code></pre></div><h5 id=33-å›¾ç®¡ç†ç±»graph-mode-setgraph-mode-getgraph-listgraph-getgraph-cleargraph-creategraph-cloneå’Œgraph-drop>3.3 å›¾ç®¡ç†ç±»ï¼Œgraph-mode-setã€graph-mode-getã€graph-listã€graph-getã€graph-clearã€graph-createã€graph-cloneå’Œgraph-drop</h5><ul><li>graph-mode-setï¼Œè®¾ç½®å›¾çš„ restore mode<ul><li>&ndash;graph-mode æˆ–è€… -mï¼Œå¿…å¡«é¡¹ï¼ŒæŒ‡å®šå°†è¦è®¾ç½®çš„æ¨¡å¼ï¼Œåˆæ³•å€¼åŒ…æ‹¬ [NONE, RESTORING, MERGING, LOADING]</li></ul></li><li>graph-mode-getï¼Œè·å–å›¾çš„ restore mode</li><li>graph-listï¼Œåˆ—å‡ºæŸä¸ª HugeGraph-Server ä¸­å…¨éƒ¨çš„å›¾</li><li>graph-getï¼Œè·å–æŸä¸ªå›¾åŠå…¶å­˜å‚¨åç«¯ç±»å‹</li><li>graph-clearï¼Œæ¸…é™¤æŸä¸ªå›¾çš„å…¨éƒ¨ schema å’Œ data<ul><li>&ndash;confirm-message æˆ–è€… -cï¼Œå¿…å¡«é¡¹ï¼Œåˆ é™¤ç¡®è®¤ä¿¡æ¯ï¼Œéœ€è¦æ‰‹åŠ¨è¾“å…¥ï¼ŒäºŒæ¬¡ç¡®è®¤é˜²æ­¢è¯¯åˆ ï¼Œ&ldquo;I&rsquo;m sure to delete all data&rdquo;ï¼ŒåŒ…æ‹¬åŒå¼•å·</li></ul></li><li>graph-createï¼Œä½¿ç”¨é…ç½®æ–‡ä»¶åˆ›å»ºæ–°å›¾<ul><li>&ndash;name æˆ–è€… -nï¼Œé€‰å¡«é¡¹ï¼Œæ–°å›¾çš„åç§°ï¼Œé»˜è®¤ä¸º hugegraph</li><li>&ndash;file æˆ–è€… -fï¼Œå¿…å¡«é¡¹ï¼Œå›¾é…ç½®æ–‡ä»¶çš„è·¯å¾„</li></ul></li><li>graph-cloneï¼Œå…‹éš†å·²å­˜åœ¨çš„å›¾<ul><li>&ndash;name æˆ–è€… -nï¼Œé€‰å¡«é¡¹ï¼Œæ–°å…‹éš†å›¾çš„åç§°ï¼Œé»˜è®¤ä¸º hugegraph</li><li>&ndash;clone-graph-nameï¼Œé€‰å¡«é¡¹ï¼Œè¦å…‹éš†çš„æºå›¾åç§°ï¼Œé»˜è®¤ä¸º hugegraph</li></ul></li><li>graph-dropï¼Œåˆ é™¤å›¾ï¼ˆä¸åŒäº graph-clearï¼Œè¿™ä¼šå®Œå…¨åˆ é™¤å›¾ï¼‰<ul><li>&ndash;confirm-message æˆ–è€… -cï¼Œå¿…å¡«é¡¹ï¼Œç¡®è®¤æ¶ˆæ¯ &ldquo;I&rsquo;m sure to drop the graph&rdquo;ï¼ŒåŒ…æ‹¬åŒå¼•å·</li></ul></li></ul><blockquote><p>å½“éœ€è¦æŠŠå¤‡ä»½çš„å›¾åŸæ ·æ¢å¤åˆ°ä¸€ä¸ªæ–°çš„å›¾ä¸­çš„æ—¶å€™ï¼Œéœ€è¦å…ˆå°†å›¾æ¨¡å¼è®¾ç½®ä¸º RESTORING æ¨¡å¼ï¼›å½“éœ€è¦å°†å¤‡ä»½çš„å›¾åˆå¹¶åˆ°å·²å­˜åœ¨çš„å›¾ä¸­æ—¶ï¼Œéœ€è¦å…ˆå°†å›¾æ¨¡å¼è®¾ç½®ä¸º MERGING æ¨¡å¼ã€‚</p></blockquote><h5 id=34-å¼‚æ­¥ä»»åŠ¡ç®¡ç†ç±»task-listtask-getå’Œtask-delete>3.4 å¼‚æ­¥ä»»åŠ¡ç®¡ç†ç±»ï¼Œtask-listã€task-getå’Œtask-delete</h5><ul><li>task-listï¼Œåˆ—å‡ºæŸä¸ªå›¾ä¸­çš„å¼‚æ­¥ä»»åŠ¡ï¼Œå¯ä»¥æ ¹æ®ä»»åŠ¡çš„çŠ¶æ€è¿‡æ»¤<ul><li>&ndash;statusï¼Œé€‰å¡«é¡¹ï¼ŒæŒ‡å®šè¦æŸ¥çœ‹çš„ä»»åŠ¡çš„çŠ¶æ€ï¼Œå³æŒ‰çŠ¶æ€è¿‡æ»¤ä»»åŠ¡</li><li>&ndash;limitï¼Œé€‰å¡«é¡¹ï¼ŒæŒ‡å®šè¦è·å–çš„ä»»åŠ¡çš„æ•°ç›®ï¼Œé»˜è®¤ä¸º -1ï¼Œæ„æ€ä¸ºè·å–å…¨éƒ¨ç¬¦åˆæ¡ä»¶çš„ä»»åŠ¡</li></ul></li><li>task-getï¼Œè·å–æŸä¸ªå¼‚æ­¥ä»»åŠ¡çš„è¯¦ç»†ä¿¡æ¯<ul><li>&ndash;task-idï¼Œå¿…å¡«é¡¹ï¼ŒæŒ‡å®šå¼‚æ­¥ä»»åŠ¡çš„ ID</li></ul></li><li>task-deleteï¼Œåˆ é™¤æŸä¸ªå¼‚æ­¥ä»»åŠ¡çš„ä¿¡æ¯<ul><li>&ndash;task-idï¼Œå¿…å¡«é¡¹ï¼ŒæŒ‡å®šå¼‚æ­¥ä»»åŠ¡çš„ ID</li></ul></li><li>task-cancelï¼Œå–æ¶ˆæŸä¸ªå¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œ<ul><li>&ndash;task-idï¼Œè¦å–æ¶ˆçš„å¼‚æ­¥ä»»åŠ¡çš„ ID</li></ul></li><li>task-clearï¼Œæ¸…ç†å®Œæˆçš„å¼‚æ­¥ä»»åŠ¡<ul><li>&ndash;forceï¼Œé€‰å¡«é¡¹ï¼Œè®¾ç½®æ—¶ï¼Œè¡¨ç¤ºæ¸…ç†å…¨éƒ¨å¼‚æ­¥ä»»åŠ¡ï¼Œæœªæ‰§è¡Œå®Œæˆçš„å…ˆå–æ¶ˆï¼Œç„¶åæ¸…é™¤æ‰€æœ‰å¼‚æ­¥ä»»åŠ¡ã€‚é»˜è®¤åªæ¸…ç†å·²å®Œæˆçš„å¼‚æ­¥ä»»åŠ¡</li></ul></li></ul><h5 id=35-gremlinç±»gremlin-executeå’Œgremlin-schedule>3.5 Gremlinç±»ï¼Œgremlin-executeå’Œgremlin-schedule</h5><ul><li>gremlin-executeï¼Œå‘é€ Gremlin è¯­å¥åˆ° HugeGraph-Server æ¥æ‰§è¡ŒæŸ¥è¯¢æˆ–ä¿®æ”¹æ“ä½œï¼ŒåŒæ­¥æ‰§è¡Œï¼Œç»“æŸåè¿”å›ç»“æœ<ul><li>&ndash;file æˆ–è€… -fï¼ŒæŒ‡å®šè¦æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼ŒUTF-8ç¼–ç ï¼Œä¸ &ndash;script äº’æ–¥</li><li>&ndash;script æˆ–è€… -sï¼ŒæŒ‡å®šè¦æ‰§è¡Œçš„è„šæœ¬å­—ç¬¦ä¸²ï¼Œä¸ &ndash;file äº’æ–¥</li><li>&ndash;aliases æˆ–è€… -aï¼ŒGremlin åˆ«åè®¾ç½®ï¼Œæ ¼å¼ä¸ºï¼škey1=value1,key2=value2,&mldr;</li><li>&ndash;bindings æˆ–è€… -bï¼ŒGremlin ç»‘å®šè®¾ç½®ï¼Œæ ¼å¼ä¸ºï¼škey1=value1,key2=value2,&mldr;</li><li>&ndash;language æˆ–è€… -lï¼ŒGremlin è„šæœ¬çš„è¯­è¨€ï¼Œé»˜è®¤ä¸º gremlin-groovy</li></ul><blockquote><p>&ndash;file å’Œ &ndash;script äºŒè€…äº’æ–¥ï¼Œå¿…é¡»è®¾ç½®å…¶ä¸­ä¹‹ä¸€</p></blockquote></li><li>gremlin-scheduleï¼Œå‘é€ Gremlin è¯­å¥åˆ° HugeGraph-Server æ¥æ‰§è¡ŒæŸ¥è¯¢æˆ–ä¿®æ”¹æ“ä½œï¼Œå¼‚æ­¥æ‰§è¡Œï¼Œä»»åŠ¡æäº¤åç«‹åˆ»è¿”å›å¼‚æ­¥ä»»åŠ¡id<ul><li>&ndash;file æˆ–è€… -fï¼ŒæŒ‡å®šè¦æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶ï¼ŒUTF-8ç¼–ç ï¼Œä¸ &ndash;script äº’æ–¥</li><li>&ndash;script æˆ–è€… -sï¼ŒæŒ‡å®šè¦æ‰§è¡Œçš„è„šæœ¬å­—ç¬¦ä¸²ï¼Œä¸ &ndash;file äº’æ–¥</li><li>&ndash;bindings æˆ–è€… -bï¼ŒGremlin ç»‘å®šè®¾ç½®ï¼Œæ ¼å¼ä¸ºï¼škey1=value1,key2=value2,&mldr;</li><li>&ndash;language æˆ–è€… -lï¼ŒGremlin è„šæœ¬çš„è¯­è¨€ï¼Œé»˜è®¤ä¸º gremlin-groovy</li></ul><blockquote><p>&ndash;file å’Œ &ndash;script äºŒè€…äº’æ–¥ï¼Œå¿…é¡»è®¾ç½®å…¶ä¸­ä¹‹ä¸€</p></blockquote></li></ul><h5 id=36-å¤‡ä»½æ¢å¤ç±»>3.6 å¤‡ä»½/æ¢å¤ç±»</h5><ul><li>backupï¼Œå°†æŸå¼ å›¾ä¸­çš„ schema æˆ–è€… data å¤‡ä»½åˆ° HugeGraph ç³»ç»Ÿä¹‹å¤–ï¼Œä»¥ JSON å½¢å¼å­˜åœ¨æœ¬åœ°ç£ç›˜æˆ–è€… HDFS<ul><li>&ndash;formatï¼Œå¤‡ä»½çš„æ ¼å¼ï¼Œå¯é€‰å€¼åŒ…æ‹¬ [json, text]ï¼Œé»˜è®¤ä¸º json</li><li>&ndash;all-propertiesï¼Œæ˜¯å¦å¤‡ä»½é¡¶ç‚¹/è¾¹å…¨éƒ¨çš„å±æ€§ï¼Œä»…åœ¨ &ndash;format ä¸º text æ˜¯æœ‰æ•ˆï¼Œé»˜è®¤ false</li><li>&ndash;labelï¼Œè¦å¤‡ä»½çš„é¡¶ç‚¹/è¾¹çš„ç±»å‹ï¼Œä»…åœ¨ &ndash;format ä¸º text æ˜¯æœ‰æ•ˆï¼Œåªæœ‰å¤‡ä»½é¡¶ç‚¹æˆ–è€…è¾¹çš„æ—¶å€™æœ‰æ•ˆ</li><li>&ndash;propertiesï¼Œè¦å¤‡ä»½çš„é¡¶ç‚¹/è¾¹çš„å±æ€§ï¼Œé€—å·åˆ†éš”ï¼Œä»…åœ¨ &ndash;format ä¸º text æ˜¯æœ‰æ•ˆï¼Œåªæœ‰å¤‡ä»½é¡¶ç‚¹æˆ–è€…è¾¹çš„æ—¶å€™æœ‰æ•ˆ</li><li>&ndash;compressï¼Œå¤‡ä»½æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸º true</li><li>&ndash;directory æˆ–è€… -dï¼Œå­˜å‚¨ schema æˆ–è€… data çš„ç›®å½•ï¼Œæœ¬åœ°ç›®å½•æ—¶ï¼Œé»˜è®¤ä¸º&rsquo;./{graphName}&rsquo;ï¼ŒHDFS æ—¶ï¼Œé»˜è®¤ä¸º &lsquo;{fs.default.name}/{graphName}&rsquo;</li><li>&ndash;huge-types æˆ–è€… -tï¼Œè¦å¤‡ä»½çš„æ•°æ®ç±»å‹ï¼Œé€—å·åˆ†éš”ï¼Œå¯é€‰å€¼ä¸º &lsquo;all&rsquo; æˆ–è€… ä¸€ä¸ªæˆ–å¤šä¸ª [vertex,edge,vertex_label,edge_label,property_key,index_label] çš„ç»„åˆï¼Œ&lsquo;all&rsquo; ä»£è¡¨å…¨éƒ¨6ç§ç±»å‹ï¼Œå³é¡¶ç‚¹ã€è¾¹å’Œæ‰€æœ‰schema</li><li>&ndash;log æˆ–è€… -lï¼ŒæŒ‡å®šæ—¥å¿—ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</li><li>&ndash;retryï¼ŒæŒ‡å®šå¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 3</li><li>&ndash;thread-num æˆ–è€… -Tï¼Œä½¿ç”¨çš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º Math.min(10, Math.max(4, CPUs / 2))</li><li>&ndash;split-size æˆ–è€… -sï¼ŒæŒ‡å®šåœ¨å¤‡ä»½æ—¶å¯¹é¡¶ç‚¹æˆ–è€…è¾¹åˆ†å—çš„å¤§å°ï¼Œé»˜è®¤ä¸º 1048576</li><li>-Dï¼Œç”¨ -Dkey=value çš„æ¨¡å¼æŒ‡å®šåŠ¨æ€å‚æ•°ï¼Œç”¨æ¥å¤‡ä»½æ•°æ®åˆ° HDFS æ—¶ï¼ŒæŒ‡å®š HDFS çš„é…ç½®é¡¹ï¼Œä¾‹å¦‚ï¼š-Dfs.default.name=hdfs://localhost:9000</li></ul></li><li>restoreï¼Œå°† JSON æ ¼å¼å­˜å‚¨çš„ schema æˆ–è€… data æ¢å¤åˆ°ä¸€ä¸ªæ–°å›¾ä¸­ï¼ˆRESTORING æ¨¡å¼ï¼‰æˆ–è€…åˆå¹¶åˆ°å·²å­˜åœ¨çš„å›¾ä¸­ï¼ˆMERGING æ¨¡å¼ï¼‰<ul><li>&ndash;directory æˆ–è€… -dï¼Œå­˜å‚¨ schema æˆ–è€… data çš„ç›®å½•ï¼Œæœ¬åœ°ç›®å½•æ—¶ï¼Œé»˜è®¤ä¸º&rsquo;./{graphName}&rsquo;ï¼ŒHDFS æ—¶ï¼Œé»˜è®¤ä¸º &lsquo;{fs.default.name}/{graphName}&rsquo;</li><li>&ndash;cleanï¼Œæ˜¯å¦åœ¨æ¢å¤å›¾å®Œæˆååˆ é™¤ &ndash;directory æŒ‡å®šçš„ç›®å½•ï¼Œé»˜è®¤ä¸º false</li><li>&ndash;huge-types æˆ–è€… -tï¼Œè¦æ¢å¤çš„æ•°æ®ç±»å‹ï¼Œé€—å·åˆ†éš”ï¼Œå¯é€‰å€¼ä¸º &lsquo;all&rsquo; æˆ–è€… ä¸€ä¸ªæˆ–å¤šä¸ª [vertex,edge,vertex_label,edge_label,property_key,index_label] çš„ç»„åˆï¼Œ&lsquo;all&rsquo; ä»£è¡¨å…¨éƒ¨6ç§ç±»å‹ï¼Œå³é¡¶ç‚¹ã€è¾¹å’Œæ‰€æœ‰schema</li><li>&ndash;log æˆ–è€… -lï¼ŒæŒ‡å®šæ—¥å¿—ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</li><li>&ndash;retryï¼ŒæŒ‡å®šå¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 3</li><li>&ndash;thread-num æˆ–è€… -Tï¼Œä½¿ç”¨çš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º Math.min(10, Math.max(4, CPUs / 2))</li><li>-Dï¼Œç”¨ -Dkey=value çš„æ¨¡å¼æŒ‡å®šåŠ¨æ€å‚æ•°ï¼Œç”¨æ¥ä» HDFS æ¢å¤å›¾æ—¶ï¼ŒæŒ‡å®š HDFS çš„é…ç½®é¡¹ï¼Œä¾‹å¦‚ï¼š-Dfs.default.name=hdfs://localhost:9000</li></ul><blockquote><p>åªæœ‰å½“ &ndash;format ä¸º json æ‰§è¡Œ backup æ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨ restore å‘½ä»¤æ¢å¤</p></blockquote></li><li>migrate, å°†å½“å‰è¿æ¥çš„å›¾è¿ç§»è‡³å¦ä¸€ä¸ª HugeGraphServer ä¸­<ul><li>&ndash;target-graphï¼Œç›®æ ‡å›¾çš„åå­—ï¼Œé»˜è®¤ä¸º hugegraph</li><li>&ndash;target-urlï¼Œç›®æ ‡å›¾æ‰€åœ¨çš„ HugeGraphServerï¼Œé»˜è®¤ä¸º http://127.0.0.1:8081</li><li>&ndash;target-usernameï¼Œè®¿é—®ç›®æ ‡å›¾çš„ç”¨æˆ·å</li><li>&ndash;target-passwordï¼Œè®¿é—®ç›®æ ‡å›¾çš„å¯†ç </li><li>&ndash;target-timeoutï¼Œè®¿é—®ç›®æ ‡å›¾çš„è¶…æ—¶æ—¶é—´</li><li>&ndash;target-trust-store-fileï¼Œè®¿é—®ç›®æ ‡å›¾ä½¿ç”¨çš„ truststore æ–‡ä»¶</li><li>&ndash;target-trust-store-passwordï¼Œè®¿é—®ç›®æ ‡å›¾ä½¿ç”¨çš„ truststore çš„å¯†ç </li><li>&ndash;directory æˆ–è€… -dï¼Œè¿ç§»è¿‡ç¨‹ä¸­ï¼Œå­˜å‚¨æºå›¾çš„ schema æˆ–è€… data çš„ç›®å½•ï¼Œæœ¬åœ°ç›®å½•æ—¶ï¼Œé»˜è®¤ä¸º&rsquo;./{graphName}&rsquo;ï¼ŒHDFS æ—¶ï¼Œé»˜è®¤ä¸º &lsquo;{fs.default.name}/{graphName}&rsquo;</li><li>&ndash;huge-types æˆ–è€… -tï¼Œè¦è¿ç§»çš„æ•°æ®ç±»å‹ï¼Œé€—å·åˆ†éš”ï¼Œå¯é€‰å€¼ä¸º &lsquo;all&rsquo; æˆ–è€… ä¸€ä¸ªæˆ–å¤šä¸ª [vertex,edge,vertex_label,edge_label,property_key,index_label] çš„ç»„åˆï¼Œ&lsquo;all&rsquo; ä»£è¡¨å…¨éƒ¨6ç§ç±»å‹ï¼Œå³é¡¶ç‚¹ã€è¾¹å’Œæ‰€æœ‰schema</li><li>&ndash;log æˆ–è€… -lï¼ŒæŒ‡å®šæ—¥å¿—ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</li><li>&ndash;retryï¼ŒæŒ‡å®šå¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 3</li><li>&ndash;split-size æˆ–è€… -sï¼ŒæŒ‡å®šè¿ç§»è¿‡ç¨‹ä¸­å¯¹æºå›¾è¿›è¡Œå¤‡ä»½æ—¶é¡¶ç‚¹æˆ–è€…è¾¹åˆ†å—çš„å¤§å°ï¼Œé»˜è®¤ä¸º 1048576</li><li>-Dï¼Œç”¨ -Dkey=value çš„æ¨¡å¼æŒ‡å®šåŠ¨æ€å‚æ•°ï¼Œç”¨æ¥åœ¨è¿ç§»å›¾è¿‡ç¨‹ä¸­éœ€è¦å¤‡ä»½æ•°æ®åˆ° HDFS æ—¶ï¼ŒæŒ‡å®š HDFS çš„é…ç½®é¡¹ï¼Œä¾‹å¦‚ï¼š-Dfs.default.name=hdfs://localhost:9000</li><li>&ndash;graph-mode æˆ–è€… -mï¼Œå°†æºå›¾æ¢å¤åˆ°ç›®æ ‡å›¾æ—¶å°†ç›®æ ‡å›¾è®¾ç½®çš„æ¨¡å¼ï¼Œåˆæ³•å€¼åŒ…æ‹¬ [RESTORING, MERGING]</li><li>&ndash;keep-local-dataï¼Œæ˜¯å¦ä¿ç•™åœ¨è¿ç§»å›¾çš„è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æºå›¾çš„å¤‡ä»½ï¼Œé»˜è®¤ä¸º falseï¼Œå³é»˜è®¤è¿ç§»å›¾ç»“æŸåä¸ä¿ç•™äº§ç”Ÿçš„æºå›¾å¤‡ä»½</li></ul></li><li>schedule-backupï¼Œå‘¨æœŸæ€§å¯¹å›¾æ‰§è¡Œå¤‡ä»½æ“ä½œï¼Œå¹¶ä¿ç•™ä¸€å®šæ•°ç›®çš„æœ€æ–°å¤‡ä»½ï¼ˆç›®å‰ä»…æ”¯æŒæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼‰<ul><li>&ndash;directory æˆ–è€… -dï¼Œå¿…å¡«é¡¹ï¼ŒæŒ‡å®šå¤‡ä»½æ•°æ®çš„ç›®å½•</li><li>&ndash;backup-numï¼Œé€‰å¡«é¡¹ï¼ŒæŒ‡å®šä¿å­˜çš„æœ€æ–°çš„å¤‡ä»½çš„æ•°ç›®ï¼Œé»˜è®¤ä¸º 3</li><li>&ndash;intervalï¼Œé€‰å¡«é¡¹ï¼ŒæŒ‡å®šè¿›è¡Œå¤‡ä»½çš„å‘¨æœŸï¼Œæ ¼å¼åŒ Linux crontab æ ¼å¼</li></ul></li><li>dumpï¼ŒæŠŠæ•´å¼ å›¾çš„é¡¶ç‚¹å’Œè¾¹å…¨éƒ¨å¯¼å‡ºï¼Œé»˜è®¤ä»¥<code>vertex vertex-edge1 vertex-edge2...</code>JSONæ ¼å¼å­˜å‚¨ã€‚
ç”¨æˆ·ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å­˜å‚¨æ ¼å¼ï¼Œåªéœ€è¦åœ¨<code>hugegraph-tools/src/main/java/com/baidu/hugegraph/formatter</code>
ç›®å½•ä¸‹å®ç°ä¸€ä¸ªç»§æ‰¿è‡ª<code>Formatter</code>çš„ç±»ï¼Œä¾‹å¦‚<code>CustomFormatter</code>ï¼Œä½¿ç”¨æ—¶æŒ‡å®šè¯¥ç±»ä¸ºformatterå³å¯ï¼Œä¾‹å¦‚
<code>bin/hugegraph dump -f CustomFormatter</code><ul><li>&ndash;formatter æˆ–è€… -fï¼ŒæŒ‡å®šä½¿ç”¨çš„ formatterï¼Œé»˜è®¤ä¸º JsonFormatter</li><li>&ndash;directory æˆ–è€… -dï¼Œå­˜å‚¨ schema æˆ–è€… data çš„ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</li><li>&ndash;log æˆ–è€… -lï¼ŒæŒ‡å®šæ—¥å¿—ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</li><li>&ndash;retryï¼ŒæŒ‡å®šå¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 3</li><li>&ndash;split-size æˆ–è€… -sï¼ŒæŒ‡å®šåœ¨å¤‡ä»½æ—¶å¯¹é¡¶ç‚¹æˆ–è€…è¾¹åˆ†å—çš„å¤§å°ï¼Œé»˜è®¤ä¸º 1048576</li><li>-Dï¼Œç”¨ -Dkey=value çš„æ¨¡å¼æŒ‡å®šåŠ¨æ€å‚æ•°ï¼Œç”¨æ¥å¤‡ä»½æ•°æ®åˆ° HDFS æ—¶ï¼ŒæŒ‡å®š HDFS çš„é…ç½®é¡¹ï¼Œä¾‹å¦‚ï¼š-Dfs.default.name=hdfs://localhost:9000</li></ul></li></ul><h5 id=37-è®¤è¯æ•°æ®å¤‡ä»½æ¢å¤ç±»>3.7 è®¤è¯æ•°æ®å¤‡ä»½/æ¢å¤ç±»</h5><ul><li>auth-backupï¼Œå¤‡ä»½è®¤è¯æ•°æ®åˆ°æŒ‡å®šç›®å½•<ul><li>&ndash;types æˆ–è€… -tï¼Œè¦å¤‡ä»½çš„è®¤è¯æ•°æ®ç±»å‹ï¼Œé€—å·åˆ†éš”ï¼Œå¯é€‰å€¼ä¸º &lsquo;all&rsquo; æˆ–è€…ä¸€ä¸ªæˆ–å¤šä¸ª [user, group, target, belong, access] çš„ç»„åˆï¼Œ&lsquo;all&rsquo; ä»£è¡¨å…¨éƒ¨5ç§ç±»å‹</li><li>&ndash;directory æˆ–è€… -dï¼Œå¤‡ä»½æ•°æ®å­˜å‚¨ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</li><li>&ndash;log æˆ–è€… -lï¼ŒæŒ‡å®šæ—¥å¿—ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</li><li>&ndash;retryï¼ŒæŒ‡å®šå¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 3</li><li>&ndash;thread-num æˆ–è€… -Tï¼Œä½¿ç”¨çš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º Math.min(10, Math.max(4, CPUs / 2))</li><li>-Dï¼Œç”¨ -Dkey=value çš„æ¨¡å¼æŒ‡å®šåŠ¨æ€å‚æ•°ï¼Œç”¨æ¥å¤‡ä»½æ•°æ®åˆ° HDFS æ—¶ï¼ŒæŒ‡å®š HDFS çš„é…ç½®é¡¹ï¼Œä¾‹å¦‚ï¼š-Dfs.default.name=hdfs://localhost:9000</li></ul></li><li>auth-restoreï¼Œä»æŒ‡å®šç›®å½•æ¢å¤è®¤è¯æ•°æ®<ul><li>&ndash;types æˆ–è€… -tï¼Œè¦æ¢å¤çš„è®¤è¯æ•°æ®ç±»å‹ï¼Œé€—å·åˆ†éš”ï¼Œå¯é€‰å€¼ä¸º &lsquo;all&rsquo; æˆ–è€…ä¸€ä¸ªæˆ–å¤šä¸ª [user, group, target, belong, access] çš„ç»„åˆï¼Œ&lsquo;all&rsquo; ä»£è¡¨å…¨éƒ¨5ç§ç±»å‹</li><li>&ndash;directory æˆ–è€… -dï¼Œå¤‡ä»½æ•°æ®å­˜å‚¨ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</li><li>&ndash;log æˆ–è€… -lï¼ŒæŒ‡å®šæ—¥å¿—ç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•</li><li>&ndash;retryï¼ŒæŒ‡å®šå¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º 3</li><li>&ndash;thread-num æˆ–è€… -Tï¼Œä½¿ç”¨çš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º Math.min(10, Math.max(4, CPUs / 2))</li><li>&ndash;strategyï¼Œå†²çªå¤„ç†ç­–ç•¥ï¼Œå¯é€‰å€¼ä¸º [stop, ignore]ï¼Œé»˜è®¤ä¸º stopã€‚stop è¡¨ç¤ºé‡åˆ°å†²çªæ—¶åœæ­¢æ¢å¤ï¼Œignore è¡¨ç¤ºå¿½ç•¥å†²çªç»§ç»­æ¢å¤</li><li>&ndash;init-passwordï¼Œæ¢å¤ç”¨æˆ·æ—¶è®¾ç½®çš„åˆå§‹å¯†ç ï¼Œæ¢å¤ç”¨æˆ·æ•°æ®æ—¶å¿…å¡«</li><li>-Dï¼Œç”¨ -Dkey=value çš„æ¨¡å¼æŒ‡å®šåŠ¨æ€å‚æ•°ï¼Œç”¨æ¥ä» HDFS æ¢å¤æ•°æ®æ—¶ï¼ŒæŒ‡å®š HDFS çš„é…ç½®é¡¹ï¼Œä¾‹å¦‚ï¼š-Dfs.default.name=hdfs://localhost:9000</li></ul></li></ul><h5 id=38-å®‰è£…éƒ¨ç½²ç±»>3.8 å®‰è£…éƒ¨ç½²ç±»</h5><ul><li>deployï¼Œä¸€é”®ä¸‹è½½ã€å®‰è£…å’Œå¯åŠ¨ HugeGraph-Server å’Œ HugeGraph-Studio<ul><li>-vï¼Œå¿…å¡«é¡¹ï¼ŒæŒ‡æ˜å®‰è£…çš„ HugeGraph-Server å’Œ HugeGraph-Studio çš„ç‰ˆæœ¬å·ï¼Œæœ€æ–°çš„æ˜¯ 0.9</li><li>-pï¼Œå¿…å¡«é¡¹ï¼ŒæŒ‡å®šå®‰è£…çš„ HugeGraph-Server å’Œ HugeGraph-Studio ç›®å½•</li><li>-uï¼Œé€‰å¡«é¡¹ï¼ŒæŒ‡å®šä¸‹è½½ HugeGraph-Server å’Œ HugeGraph-Studio å‹ç¼©åŒ…çš„é“¾æ¥</li></ul></li><li>clearï¼Œæ¸…ç† HugeGraph-Server å’Œ HugeGraph-Studio ç›®å½•å’ŒtaråŒ…<ul><li>-pï¼Œå¿…å¡«é¡¹ï¼ŒæŒ‡å®šè¦æ¸…ç†çš„ HugeGraph-Server å’Œ HugeGraph-Studio çš„ç›®å½•</li></ul></li><li>start-allï¼Œä¸€é”®å¯åŠ¨ HugeGraph-Server å’Œ HugeGraph-Studioï¼Œå¹¶å¯åŠ¨ç›‘æ§ï¼ŒæœåŠ¡æ­»æ‰æ—¶è‡ªåŠ¨æ‹‰èµ·æœåŠ¡<ul><li>-vï¼Œå¿…å¡«é¡¹ï¼ŒæŒ‡æ˜è¦å¯åŠ¨çš„ HugeGraph-Server å’Œ HugeGraph-Studio çš„ç‰ˆæœ¬å·ï¼Œæœ€æ–°çš„æ˜¯ 0.9</li><li>-pï¼Œå¿…å¡«é¡¹ï¼ŒæŒ‡å®šå®‰è£…äº† HugeGraph-Server å’Œ HugeGraph-Studio çš„ç›®å½•</li></ul></li><li>stop-allï¼Œä¸€é”®å…³é—­ HugeGraph-Server å’Œ HugeGraph-Studio</li></ul><blockquote><p>deployå‘½ä»¤ä¸­æœ‰å¯é€‰å‚æ•° -uï¼Œæä¾›æ—¶ä¼šä½¿ç”¨æŒ‡å®šçš„ä¸‹è½½åœ°å€æ›¿ä»£é»˜è®¤ä¸‹è½½åœ°å€ä¸‹è½½ tar åŒ…ï¼Œå¹¶ä¸”å°†åœ°å€å†™å…¥<code>~/hugegraph-download-url-prefix</code>æ–‡ä»¶ä¸­ï¼›ä¹‹åå¦‚æœä¸æŒ‡å®šåœ°å€æ—¶ï¼Œä¼šä¼˜å…ˆä»<code>~/hugegraph-download-url-prefix</code>æŒ‡å®šçš„åœ°å€ä¸‹è½½ tar åŒ…ï¼›å¦‚æœ -u å’Œ<code>~/hugegraph-download-url-prefix</code>éƒ½æ²¡æœ‰æ—¶ï¼Œä¼šä»é»˜è®¤ä¸‹è½½åœ°å€è¿›è¡Œä¸‹è½½</p></blockquote><h5 id=39-å…·ä½“å‘½ä»¤å‚æ•°>3.9 å…·ä½“å‘½ä»¤å‚æ•°</h5><p>å„å­å‘½ä»¤çš„å…·ä½“å‚æ•°å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Usage: hugegraph <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>command<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#204a87>command</span> options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>  Options:
</span></span><span style=display:flex><span>    --graph
</span></span><span style=display:flex><span>      Name of graph
</span></span><span style=display:flex><span>      Default: hugegraph
</span></span><span style=display:flex><span>    --password
</span></span><span style=display:flex><span>      Password of user
</span></span><span style=display:flex><span>    --timeout
</span></span><span style=display:flex><span>      Connection timeout
</span></span><span style=display:flex><span>      Default: <span style=color:#0000cf;font-weight:700>30</span>
</span></span><span style=display:flex><span>    --trust-store-file
</span></span><span style=display:flex><span>      The path of client truststore file used when https protocol is enabled
</span></span><span style=display:flex><span>    --trust-store-password
</span></span><span style=display:flex><span>      The password of the client truststore file used when the https protocol 
</span></span><span style=display:flex><span>      is enabled
</span></span><span style=display:flex><span>    --url
</span></span><span style=display:flex><span>      The URL of HugeGraph-Server
</span></span><span style=display:flex><span>      Default: http://127.0.0.1:8080
</span></span><span style=display:flex><span>    --user
</span></span><span style=display:flex><span>      Name of user
</span></span><span style=display:flex><span>  Commands:
</span></span><span style=display:flex><span>    graph-list      List all graphs
</span></span><span style=display:flex><span>      Usage: graph-list
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    graph-get      Get graph info
</span></span><span style=display:flex><span>      Usage: graph-get
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    graph-clear      Clear graph schema and data
</span></span><span style=display:flex><span>      Usage: graph-clear <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>        * --confirm-message, -c
</span></span><span style=display:flex><span>            Confirm message of graph clear is <span style=color:#4e9a06>&#34;I&#39;m sure to delete all data&#34;</span>. 
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>(</span>Note: include <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    graph-mode-set      Set graph mode
</span></span><span style=display:flex><span>      Usage: graph-mode-set <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>        * --graph-mode, -m
</span></span><span style=display:flex><span>            Graph mode, include: <span style=color:#ce5c00;font-weight:700>[</span>NONE, RESTORING, MERGING<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>            Possible Values: <span style=color:#ce5c00;font-weight:700>[</span>NONE, RESTORING, MERGING, LOADING<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    graph-mode-get      Get graph mode
</span></span><span style=display:flex><span>      Usage: graph-mode-get
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    task-list      List tasks
</span></span><span style=display:flex><span>      Usage: task-list <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>          --limit
</span></span><span style=display:flex><span>            Limit number, no limit <span style=color:#204a87;font-weight:700>if</span> not provided
</span></span><span style=display:flex><span>            Default: -1
</span></span><span style=display:flex><span>          --status
</span></span><span style=display:flex><span>            Status of task
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    task-get      Get task info
</span></span><span style=display:flex><span>      Usage: task-get <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>        * --task-id
</span></span><span style=display:flex><span>            Task id
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    task-delete      Delete task
</span></span><span style=display:flex><span>      Usage: task-delete <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>        * --task-id
</span></span><span style=display:flex><span>            Task id
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    task-cancel      Cancel task
</span></span><span style=display:flex><span>      Usage: task-cancel <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>        * --task-id
</span></span><span style=display:flex><span>            Task id
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    task-clear      Clear completed tasks
</span></span><span style=display:flex><span>      Usage: task-clear <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>          --force
</span></span><span style=display:flex><span>            Force to clear all tasks, cancel all uncompleted tasks firstly, 
</span></span><span style=display:flex><span>            and delete all completed tasks
</span></span><span style=display:flex><span>            Default: <span style=color:#204a87>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    gremlin-execute      Execute Gremlin statements
</span></span><span style=display:flex><span>      Usage: gremlin-execute <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>          --aliases, -a
</span></span><span style=display:flex><span>            Gremlin aliases, valid format is: <span style=color:#4e9a06>&#39;key1=value1,key2=value2...&#39;</span>
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span><span style=display:flex><span>          --bindings, -b
</span></span><span style=display:flex><span>            Gremlin bindings, valid format is: <span style=color:#4e9a06>&#39;key1=value1,key2=value2...&#39;</span>
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span><span style=display:flex><span>          --file, -f
</span></span><span style=display:flex><span>            Gremlin Script file to be executed, UTF-8 encoded, exclusive to 
</span></span><span style=display:flex><span>            --script 
</span></span><span style=display:flex><span>          --language, -l
</span></span><span style=display:flex><span>            Gremlin script language
</span></span><span style=display:flex><span>            Default: gremlin-groovy
</span></span><span style=display:flex><span>          --script, -s
</span></span><span style=display:flex><span>            Gremlin script to be executed, exclusive to --file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    gremlin-schedule      Execute Gremlin statements as asynchronous job
</span></span><span style=display:flex><span>      Usage: gremlin-schedule <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>          --bindings, -b
</span></span><span style=display:flex><span>            Gremlin bindings, valid format is: <span style=color:#4e9a06>&#39;key1=value1,key2=value2...&#39;</span>
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span><span style=display:flex><span>          --file, -f
</span></span><span style=display:flex><span>            Gremlin Script file to be executed, UTF-8 encoded, exclusive to 
</span></span><span style=display:flex><span>            --script 
</span></span><span style=display:flex><span>          --language, -l
</span></span><span style=display:flex><span>            Gremlin script language
</span></span><span style=display:flex><span>            Default: gremlin-groovy
</span></span><span style=display:flex><span>          --script, -s
</span></span><span style=display:flex><span>            Gremlin script to be executed, exclusive to --file
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    backup      Backup graph schema/data. If directory is on HDFS, use -D to 
</span></span><span style=display:flex><span>            <span style=color:#204a87>set</span> HDFS params. For exmaple:
</span></span><span style=display:flex><span>            -Dfs.default.name<span style=color:#ce5c00;font-weight:700>=</span>hdfs://localhost:9000 
</span></span><span style=display:flex><span>      Usage: backup <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>          --all-properties
</span></span><span style=display:flex><span>            All properties to be backup flag
</span></span><span style=display:flex><span>            Default: <span style=color:#204a87>false</span>
</span></span><span style=display:flex><span>          --compress
</span></span><span style=display:flex><span>            compress flag
</span></span><span style=display:flex><span>            Default: <span style=color:#204a87>true</span>
</span></span><span style=display:flex><span>          --directory, -d
</span></span><span style=display:flex><span>            Directory of graph schema/data, default is <span style=color:#4e9a06>&#39;./{graphname}&#39;</span> in 
</span></span><span style=display:flex><span>            <span style=color:#204a87>local</span> file system or <span style=color:#4e9a06>&#39;{fs.default.name}/{graphname}&#39;</span> in HDFS
</span></span><span style=display:flex><span>          --format
</span></span><span style=display:flex><span>            File format, valid is <span style=color:#ce5c00;font-weight:700>[</span>json, text<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>            Default: json
</span></span><span style=display:flex><span>          --huge-types, -t
</span></span><span style=display:flex><span>            Type of schema/data. Concat with <span style=color:#4e9a06>&#39;,&#39;</span> <span style=color:#204a87;font-weight:700>if</span> more than one. <span style=color:#4e9a06>&#39;all&#39;</span> means 
</span></span><span style=display:flex><span>            all vertices, edges and schema, in other words, <span style=color:#4e9a06>&#39;all&#39;</span> equals with 
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;vertex,edge,vertex_label,edge_label,property_key,index_label&#39;</span> 
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>[</span>PROPERTY_KEY, VERTEX_LABEL, EDGE_LABEL, INDEX_LABEL, VERTEX, EDGE<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>          --label
</span></span><span style=display:flex><span>            Vertex or edge label, only valid when <span style=color:#204a87>type</span> is vertex or edge
</span></span><span style=display:flex><span>          --log, -l
</span></span><span style=display:flex><span>            Directory of log
</span></span><span style=display:flex><span>            Default: ./logs
</span></span><span style=display:flex><span>          --properties
</span></span><span style=display:flex><span>            Vertex or edge properties to backup, only valid when <span style=color:#204a87>type</span> is
</span></span><span style=display:flex><span>            vertex or edge
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>[]</span>
</span></span><span style=display:flex><span>          --retry
</span></span><span style=display:flex><span>            Retry times, default is <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>          --split-size, -s
</span></span><span style=display:flex><span>            Split size of shard
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>1048576</span>
</span></span><span style=display:flex><span>          -D
</span></span><span style=display:flex><span>            HDFS config parameters
</span></span><span style=display:flex><span>            Syntax: -Dkey<span style=color:#ce5c00;font-weight:700>=</span>value
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    schedule-backup      Schedule backup task
</span></span><span style=display:flex><span>      Usage: schedule-backup <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>          --backup-num
</span></span><span style=display:flex><span>            The number of latest backups to keep
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>        * --directory, -d
</span></span><span style=display:flex><span>            The directory of backups stored
</span></span><span style=display:flex><span>          --interval
</span></span><span style=display:flex><span>            The interval of backup, format is: <span style=color:#4e9a06>&#34;a b c d e&#34;</span>. <span style=color:#4e9a06>&#39;a&#39;</span> means minute 
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span> - 59<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#4e9a06>&#39;b&#39;</span> means hour <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span> - 23<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#4e9a06>&#39;c&#39;</span> means day of month <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span> - 
</span></span><span style=display:flex><span>            31<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#4e9a06>&#39;d&#39;</span> means month <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span> - 12<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#4e9a06>&#39;e&#39;</span> means day of week <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>0</span> - 6<span style=color:#ce5c00;font-weight:700>)</span> 
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Sunday</span><span style=color:#ce5c00;font-weight:700>=</span>0<span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#4e9a06>&#34;*&#34;</span> means all
</span></span><span style=display:flex><span>            Default: <span style=color:#4e9a06>&#34;0 0 * * *&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    dump      Dump graph to files
</span></span><span style=display:flex><span>      Usage: dump <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>          --directory, -d
</span></span><span style=display:flex><span>            Directory of graph schema/data, default is <span style=color:#4e9a06>&#39;./{graphname}&#39;</span> in 
</span></span><span style=display:flex><span>            <span style=color:#204a87>local</span> file system or <span style=color:#4e9a06>&#39;{fs.default.name}/{graphname}&#39;</span> in HDFS
</span></span><span style=display:flex><span>          --formatter, -f
</span></span><span style=display:flex><span>            Formatter to customize format of vertex/edge
</span></span><span style=display:flex><span>            Default: JsonFormatter
</span></span><span style=display:flex><span>          --log, -l
</span></span><span style=display:flex><span>            Directory of log
</span></span><span style=display:flex><span>            Default: ./logs
</span></span><span style=display:flex><span>          --retry
</span></span><span style=display:flex><span>            Retry times, default is <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>          --split-size, -s
</span></span><span style=display:flex><span>            Split size of shard
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>1048576</span>
</span></span><span style=display:flex><span>          -D
</span></span><span style=display:flex><span>            HDFS config parameters
</span></span><span style=display:flex><span>            Syntax: -Dkey<span style=color:#ce5c00;font-weight:700>=</span>value
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    restore      Restore graph schema/data. If directory is on HDFS, use -D to 
</span></span><span style=display:flex><span>            <span style=color:#204a87>set</span> HDFS params <span style=color:#204a87;font-weight:700>if</span> needed. For 
</span></span><span style=display:flex><span>            exmaple:-Dfs.default.name<span style=color:#ce5c00;font-weight:700>=</span>hdfs://localhost:9000 
</span></span><span style=display:flex><span>      Usage: restore <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>          --clean
</span></span><span style=display:flex><span>            Whether to remove the directory of graph data after restored
</span></span><span style=display:flex><span>            Default: <span style=color:#204a87>false</span>
</span></span><span style=display:flex><span>          --directory, -d
</span></span><span style=display:flex><span>            Directory of graph schema/data, default is <span style=color:#4e9a06>&#39;./{graphname}&#39;</span> in 
</span></span><span style=display:flex><span>            <span style=color:#204a87>local</span> file system or <span style=color:#4e9a06>&#39;{fs.default.name}/{graphname}&#39;</span> in HDFS
</span></span><span style=display:flex><span>          --huge-types, -t
</span></span><span style=display:flex><span>            Type of schema/data. Concat with <span style=color:#4e9a06>&#39;,&#39;</span> <span style=color:#204a87;font-weight:700>if</span> more than one. <span style=color:#4e9a06>&#39;all&#39;</span> means 
</span></span><span style=display:flex><span>            all vertices, edges and schema, in other words, <span style=color:#4e9a06>&#39;all&#39;</span> equals with 
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;vertex,edge,vertex_label,edge_label,property_key,index_label&#39;</span> 
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>[</span>PROPERTY_KEY, VERTEX_LABEL, EDGE_LABEL, INDEX_LABEL, VERTEX, EDGE<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>          --log, -l
</span></span><span style=display:flex><span>            Directory of log
</span></span><span style=display:flex><span>            Default: ./logs
</span></span><span style=display:flex><span>          --retry
</span></span><span style=display:flex><span>            Retry times, default is <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>          -D
</span></span><span style=display:flex><span>            HDFS config parameters
</span></span><span style=display:flex><span>            Syntax: -Dkey<span style=color:#ce5c00;font-weight:700>=</span>value
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    migrate      Migrate graph
</span></span><span style=display:flex><span>      Usage: migrate <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>          --directory, -d
</span></span><span style=display:flex><span>            Directory of graph schema/data, default is <span style=color:#4e9a06>&#39;./{graphname}&#39;</span> in 
</span></span><span style=display:flex><span>            <span style=color:#204a87>local</span> file system or <span style=color:#4e9a06>&#39;{fs.default.name}/{graphname}&#39;</span> in HDFS
</span></span><span style=display:flex><span>          --graph-mode, -m
</span></span><span style=display:flex><span>            Mode used when migrating to target graph, include: <span style=color:#ce5c00;font-weight:700>[</span>RESTORING, 
</span></span><span style=display:flex><span>            MERGING<span style=color:#ce5c00;font-weight:700>]</span> 
</span></span><span style=display:flex><span>            Default: RESTORING
</span></span><span style=display:flex><span>            Possible Values: <span style=color:#ce5c00;font-weight:700>[</span>NONE, RESTORING, MERGING, LOADING<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>          --huge-types, -t
</span></span><span style=display:flex><span>            Type of schema/data. Concat with <span style=color:#4e9a06>&#39;,&#39;</span> <span style=color:#204a87;font-weight:700>if</span> more than one. <span style=color:#4e9a06>&#39;all&#39;</span> means 
</span></span><span style=display:flex><span>            all vertices, edges and schema, in other words, <span style=color:#4e9a06>&#39;all&#39;</span> equals with 
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#39;vertex,edge,vertex_label,edge_label,property_key,index_label&#39;</span> 
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>[</span>PROPERTY_KEY, VERTEX_LABEL, EDGE_LABEL, INDEX_LABEL, VERTEX, EDGE<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>          --keep-local-data
</span></span><span style=display:flex><span>            Whether to keep the <span style=color:#204a87>local</span> directory of graph data after restored
</span></span><span style=display:flex><span>            Default: <span style=color:#204a87>false</span>
</span></span><span style=display:flex><span>          --log, -l
</span></span><span style=display:flex><span>            Directory of log
</span></span><span style=display:flex><span>            Default: ./logs
</span></span><span style=display:flex><span>          --retry
</span></span><span style=display:flex><span>            Retry times, default is <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>3</span>
</span></span><span style=display:flex><span>          --split-size, -s
</span></span><span style=display:flex><span>            Split size of shard
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>1048576</span>
</span></span><span style=display:flex><span>          --target-graph
</span></span><span style=display:flex><span>            The name of target graph to migrate
</span></span><span style=display:flex><span>            Default: hugegraph
</span></span><span style=display:flex><span>          --target-password
</span></span><span style=display:flex><span>            The password of target graph to migrate
</span></span><span style=display:flex><span>          --target-timeout
</span></span><span style=display:flex><span>            The timeout to connect target graph to migrate
</span></span><span style=display:flex><span>            Default: <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>          --target-trust-store-file
</span></span><span style=display:flex><span>            The trust store file of target graph to migrate
</span></span><span style=display:flex><span>          --target-trust-store-password
</span></span><span style=display:flex><span>            The trust store password of target graph to migrate
</span></span><span style=display:flex><span>          --target-url
</span></span><span style=display:flex><span>            The url of target graph to migrate
</span></span><span style=display:flex><span>            Default: http://127.0.0.1:8081
</span></span><span style=display:flex><span>          --target-user
</span></span><span style=display:flex><span>            The username of target graph to migrate
</span></span><span style=display:flex><span>          -D
</span></span><span style=display:flex><span>            HDFS config parameters
</span></span><span style=display:flex><span>            Syntax: -Dkey<span style=color:#ce5c00;font-weight:700>=</span>value
</span></span><span style=display:flex><span>            Default: <span style=color:#ce5c00;font-weight:700>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    deploy      Install HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>      Usage: deploy <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>        * -p
</span></span><span style=display:flex><span>            Install path of HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>          -u
</span></span><span style=display:flex><span>            Download url prefix path of HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>        * -v
</span></span><span style=display:flex><span>            Version of HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    start-all      Start HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>      Usage: start-all <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>        * -p
</span></span><span style=display:flex><span>            Install path of HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>        * -v
</span></span><span style=display:flex><span>            Version of HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    clear      Clear HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>      Usage: clear <span style=color:#ce5c00;font-weight:700>[</span>options<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>        Options:
</span></span><span style=display:flex><span>        * -p
</span></span><span style=display:flex><span>            Install path of HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    stop-all      Stop HugeGraph-Server and HugeGraph-Studio
</span></span><span style=display:flex><span>      Usage: stop-all
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87>help</span>      Print usage
</span></span><span style=display:flex><span>      Usage: <span style=color:#204a87>help</span>
</span></span></code></pre></div><h5 id=310-å…·ä½“å‘½ä»¤ç¤ºä¾‹>3.10 å…·ä½“å‘½ä»¤ç¤ºä¾‹</h5><h6 id=1-gremlinè¯­å¥>1. gremlinè¯­å¥</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åŒæ­¥æ‰§è¡Œgremlin</span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph gremlin-execute --script <span style=color:#4e9a06>&#39;g.V().count()&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å¼‚æ­¥æ‰§è¡Œgremlin</span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph gremlin-schedule --script <span style=color:#4e9a06>&#39;g.V().count()&#39;</span>
</span></span></code></pre></div><h6 id=2-æŸ¥çœ‹taskæƒ…å†µ>2. æŸ¥çœ‹taskæƒ…å†µ</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph task-list
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph task-list --limit <span style=color:#0000cf;font-weight:700>5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph task-list --status success
</span></span></code></pre></div><h6 id=3-å›¾æ¨¡å¼æŸ¥çœ‹å’Œè®¾ç½®>3. å›¾æ¨¡å¼æŸ¥çœ‹å’Œè®¾ç½®</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph graph-mode-set -m RESTORING MERGING NONE
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph graph-mode-set -m RESTORING
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph graph-mode-get
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph graph-list
</span></span></code></pre></div><h6 id=4-æ¸…ç†å›¾>4. æ¸…ç†å›¾</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph graph-clear -c <span style=color:#4e9a06>&#34;I&#39;m sure to delete all data&#34;</span>
</span></span></code></pre></div><h6 id=5-å›¾å¤‡ä»½>5. å›¾å¤‡ä»½</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph backup -t all --directory ./backup-test
</span></span></code></pre></div><h6 id=6-å‘¨æœŸæ€§çš„å¤‡ä»½>6. å‘¨æœŸæ€§çš„å¤‡ä»½</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph --interval */2 * * * * schedule-backup -d ./backup-0.10.2
</span></span></code></pre></div><h6 id=7-å›¾æ¢å¤>7. å›¾æ¢å¤</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®¾ç½®å›¾æ¨¡å¼</span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph graph-mode-set -m RESTORING
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ¢å¤å›¾</span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph restore -t all --directory ./backup-test
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ¢å¤å›¾æ¨¡å¼</span>
</span></span><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph graph-mode-set -m NONE
</span></span></code></pre></div><h6 id=8-å›¾è¿ç§»>8. å›¾è¿ç§»</h6><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./bin/hugegraph --url http://127.0.0.1:8080 --graph hugegraph migrate --target-url http://127.0.0.1:8090 --target-graph hugegraph
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-7a8b9421800a2b76e91d76ba1eccb218>2.4 - HugeGraph-Spark-Connector Quick Start</h1><h3 id=1-hugegraph-spark-connector-æ¦‚è¿°>1 HugeGraph-Spark-Connector æ¦‚è¿°</h3><p>HugeGraph-Spark-Connector æ˜¯ä¸€ä¸ªç”¨äºåœ¨ Spark ä¸­ä»¥æ ‡å‡†æ ¼å¼è¯»å†™ HugeGraph æ•°æ®çš„è¿æ¥å™¨åº”ç”¨ç¨‹åºã€‚</p><h3 id=2-ç¯å¢ƒè¦æ±‚>2 ç¯å¢ƒè¦æ±‚</h3><ul><li>Java 8+</li><li>Maven 3.6+</li><li>Spark 3.x</li><li>Scala 2.12</li></ul><h3 id=3-ç¼–è¯‘>3 ç¼–è¯‘</h3><h4 id=31-ä¸æ‰§è¡Œæµ‹è¯•çš„ç¼–è¯‘>3.1 ä¸æ‰§è¡Œæµ‹è¯•çš„ç¼–è¯‘</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn clean package -DskipTests
</span></span></code></pre></div><h4 id=32-æ‰§è¡Œé»˜è®¤æµ‹è¯•çš„ç¼–è¯‘>3.2 æ‰§è¡Œé»˜è®¤æµ‹è¯•çš„ç¼–è¯‘</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn clean package
</span></span></code></pre></div><h3 id=4-ä½¿ç”¨æ–¹æ³•>4 ä½¿ç”¨æ–¹æ³•</h3><p>é¦–å…ˆåœ¨ä½ çš„ pom.xml ä¸­æ·»åŠ ä¾èµ–ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.apache.hugegraph<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>hugegraph-spark-connector<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>${revision}<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></div><h4 id=41-schema-å®šä¹‰ç¤ºä¾‹>4.1 Schema å®šä¹‰ç¤ºä¾‹</h4><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå›¾ï¼Œå…¶ schema å®šä¹‰å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-groovy data-lang=groovy><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asInt</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asDouble</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asDouble</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>useCustomizeStringId</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>nullableKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>primaryKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sourceLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>targetLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sourceLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>targetLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span></code></pre></div><h4 id=42-å†™å…¥é¡¶ç‚¹æ•°æ®scala>4.2 å†™å…¥é¡¶ç‚¹æ•°æ®ï¼ˆScalaï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>df</span> <span style=color:#204a87;font-weight:700>=</span> <span style=color:#000>sparkSession</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>createDataFrame</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Seq</span><span style=color:#ce5c00;font-weight:700>(</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Tuple3</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>29</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Tuple3</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;vadas&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>27</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;HongKong&#34;</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Tuple3</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Josh&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>32</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Tuple3</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;peter&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>35</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ShangHai&#34;</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Tuple3</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;li,nary&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>26</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Wu,han&#34;</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Tuple3</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;Bob&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>18</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;HangZhou&#34;</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>))</span> <span style=color:#000>toDF</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>df</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>show</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>df</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>write</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>format</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;org.apache.hugegraph.spark.connector.DataSource&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;host&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;127.0.0.1&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;port&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;8080&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;data-type&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;vertex&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;id&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;batch-size&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>mode</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>SaveMode</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Overwrite</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>save</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span></code></pre></div><h4 id=43-å†™å…¥è¾¹æ•°æ®scala>4.3 å†™å…¥è¾¹æ•°æ®ï¼ˆScalaï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>df</span> <span style=color:#204a87;font-weight:700>=</span> <span style=color:#000>sparkSession</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>createDataFrame</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>Seq</span><span style=color:#ce5c00;font-weight:700>(</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Tuple4</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;vadas&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;20160110&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Tuple4</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;peter&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Josh&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;20230801&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1.0</span><span style=color:#ce5c00;font-weight:700>),</span>
</span></span><span style=display:flex><span>  <span style=color:#000>Tuple4</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;peter&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;li,nary&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;20130220&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2.0</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>)).</span><span style=color:#000>toDF</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;source&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;target&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>df</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>show</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>df</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>write</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>format</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;org.apache.hugegraph.spark.connector.DataSource&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;host&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;127.0.0.1&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;port&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;8080&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;data-type&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;edge&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;source-name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;source&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;target-name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;target&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>option</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;batch-size&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>mode</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>SaveMode</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>Overwrite</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>  <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>save</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span></code></pre></div><h3 id=5-é…ç½®å‚æ•°>5 é…ç½®å‚æ•°</h3><h4 id=51-å®¢æˆ·ç«¯é…ç½®>5.1 å®¢æˆ·ç«¯é…ç½®</h4><p>å®¢æˆ·ç«¯é…ç½®ç”¨äºé…ç½® hugegraph-clientã€‚</p><table><thead><tr><th>å‚æ•°</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>host</code></td><td><code>localhost</code></td><td>HugeGraphServer çš„åœ°å€</td></tr><tr><td><code>port</code></td><td><code>8080</code></td><td>HugeGraphServer çš„ç«¯å£</td></tr><tr><td><code>graph</code></td><td><code>hugegraph</code></td><td>å›¾ç©ºé—´åç§°</td></tr><tr><td><code>protocol</code></td><td><code>http</code></td><td>å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„åè®®ï¼Œå¯é€‰ <code>http</code> æˆ– <code>https</code></td></tr><tr><td><code>username</code></td><td><code>null</code></td><td>å½“ HugeGraphServer å¼€å¯æƒé™è®¤è¯æ—¶ï¼Œå½“å‰å›¾çš„ç”¨æˆ·å</td></tr><tr><td><code>token</code></td><td><code>null</code></td><td>å½“ HugeGraphServer å¼€å¯æƒé™è®¤è¯æ—¶ï¼Œå½“å‰å›¾çš„ token</td></tr><tr><td><code>timeout</code></td><td><code>60</code></td><td>æ’å…¥ç»“æœè¿”å›çš„è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰</td></tr><tr><td><code>max-conn</code></td><td><code>CPUS * 4</code></td><td>HugeClient ä¸ HugeGraphServer ä¹‹é—´çš„æœ€å¤§ HTTP è¿æ¥æ•°</td></tr><tr><td><code>max-conn-per-route</code></td><td><code>CPUS * 2</code></td><td>HugeClient ä¸ HugeGraphServer ä¹‹é—´æ¯ä¸ªè·¯ç”±çš„æœ€å¤§ HTTP è¿æ¥æ•°</td></tr><tr><td><code>trust-store-file</code></td><td><code>null</code></td><td>å½“è¯·æ±‚åè®®ä¸º https æ—¶ï¼Œå®¢æˆ·ç«¯çš„è¯ä¹¦æ–‡ä»¶è·¯å¾„</td></tr><tr><td><code>trust-store-token</code></td><td><code>null</code></td><td>å½“è¯·æ±‚åè®®ä¸º https æ—¶ï¼Œå®¢æˆ·ç«¯çš„è¯ä¹¦å¯†ç </td></tr></tbody></table><h4 id=52-å›¾æ•°æ®é…ç½®>5.2 å›¾æ•°æ®é…ç½®</h4><p>å›¾æ•°æ®é…ç½®ç”¨äºè®¾ç½®å›¾ç©ºé—´çš„é…ç½®ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>data-type</code></td><td></td><td>å›¾æ•°æ®ç±»å‹ï¼Œå¿…é¡»æ˜¯ <code>vertex</code> æˆ– <code>edge</code></td></tr><tr><td><code>label</code></td><td></td><td>è¦å¯¼å…¥çš„é¡¶ç‚¹/è¾¹æ•°æ®æ‰€å±çš„æ ‡ç­¾</td></tr><tr><td><code>id</code></td><td></td><td>æŒ‡å®šæŸä¸€åˆ—ä½œä¸ºé¡¶ç‚¹çš„ id åˆ—ã€‚å½“é¡¶ç‚¹ id ç­–ç•¥ä¸º CUSTOMIZE æ—¶ï¼Œå¿…å¡«ï¼›å½“ id ç­–ç•¥ä¸º PRIMARY_KEY æ—¶ï¼Œå¿…é¡»ä¸ºç©º</td></tr><tr><td><code>source-name</code></td><td></td><td>é€‰æ‹©è¾“å…¥æºçš„æŸäº›åˆ—ä½œä¸ºæºé¡¶ç‚¹çš„ id åˆ—ã€‚å½“æºé¡¶ç‚¹çš„ id ç­–ç•¥ä¸º CUSTOMIZE æ—¶ï¼Œå¿…é¡»æŒ‡å®šæŸä¸€åˆ—ä½œä¸ºé¡¶ç‚¹çš„ id åˆ—ï¼›å½“æºé¡¶ç‚¹çš„ id ç­–ç•¥ä¸º PRIMARY_KEY æ—¶ï¼Œå¿…é¡»æŒ‡å®šä¸€åˆ—æˆ–å¤šåˆ—ç”¨äºæ‹¼æ¥ç”Ÿæˆé¡¶ç‚¹çš„ idï¼Œå³æ— è®ºä½¿ç”¨å“ªç§ id ç­–ç•¥ï¼Œæ­¤é¡¹éƒ½æ˜¯å¿…å¡«çš„</td></tr><tr><td><code>target-name</code></td><td></td><td>æŒ‡å®šæŸäº›åˆ—ä½œä¸ºç›®æ ‡é¡¶ç‚¹çš„ id åˆ—ï¼Œä¸ source-name ç±»ä¼¼</td></tr><tr><td><code>selected-fields</code></td><td></td><td>é€‰æ‹©æŸäº›åˆ—è¿›è¡Œæ’å…¥ï¼Œå…¶ä»–æœªé€‰æ‹©çš„åˆ—ä¸æ’å…¥ï¼Œä¸èƒ½ä¸ ignored-fields åŒæ—¶å­˜åœ¨</td></tr><tr><td><code>ignored-fields</code></td><td></td><td>å¿½ç•¥æŸäº›åˆ—ä½¿å…¶ä¸å‚ä¸æ’å…¥ï¼Œä¸èƒ½ä¸ selected-fields åŒæ—¶å­˜åœ¨</td></tr><tr><td><code>batch-size</code></td><td><code>500</code></td><td>å¯¼å…¥æ•°æ®æ—¶æ¯æ‰¹æ•°æ®çš„æ¡ç›®æ•°</td></tr></tbody></table><h4 id=53-é€šç”¨é…ç½®>5.3 é€šç”¨é…ç½®</h4><p>é€šç”¨é…ç½®åŒ…å«ä¸€äº›å¸¸ç”¨çš„é…ç½®é¡¹ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>delimiter</code></td><td><code>,</code></td><td><code>source-name</code>ã€<code>target-name</code>ã€<code>selected-fields</code> æˆ– <code>ignored-fields</code> çš„åˆ†éš”ç¬¦</td></tr></tbody></table><h3 id=6-è®¸å¯è¯>6 è®¸å¯è¯</h3><p>ä¸ HugeGraph ä¸€æ ·ï¼Œhugegraph-spark-connector ä¹Ÿé‡‡ç”¨ Apache 2.0 è®¸å¯è¯ã€‚</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6b30c33f21d772125fdc3d105677ea0d>3 - HugeGraph-AI</h1><p><a href=https://www.apache.org/licenses/LICENSE-2.0.html><img src=https://img.shields.io/badge/license-Apache%202-0E78BA.svg alt=License></a>
<a href=https://deepwiki.com/apache/incubator-hugegraph-ai><img src=https://deepwiki.com/badge.svg alt="Ask DeepWiki"></a></p><blockquote><p>DeepWiki æä¾›å®æ—¶æ›´æ–°çš„é¡¹ç›®æ–‡æ¡£ï¼Œå†…å®¹æ›´å…¨é¢å‡†ç¡®ï¼Œé€‚åˆå¿«é€Ÿäº†è§£é¡¹ç›®æœ€æ–°æƒ…å†µã€‚</p><p>ğŸ“– <a href=https://deepwiki.com/apache/incubator-hugegraph-ai>https://deepwiki.com/apache/incubator-hugegraph-ai</a></p></blockquote><p><code>hugegraph-ai</code> æ•´åˆäº† <a href=https://github.com/apache/hugegraph>HugeGraph</a> ä¸äººå·¥æ™ºèƒ½åŠŸèƒ½ï¼Œä¸ºå¼€å‘è€…æ„å»º AI é©±åŠ¨çš„å›¾åº”ç”¨æä¾›å…¨é¢æ”¯æŒã€‚</p><h2 id=-æ ¸å¿ƒåŠŸèƒ½>âœ¨ æ ¸å¿ƒåŠŸèƒ½</h2><ul><li><strong>GraphRAG</strong>ï¼šåˆ©ç”¨å›¾å¢å¼ºæ£€ç´¢æ„å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿ</li><li><strong>Text2Gremlin</strong>ï¼šè‡ªç„¶è¯­è¨€åˆ°å›¾æŸ¥è¯¢çš„è½¬æ¢ï¼Œæ”¯æŒ REST API</li><li><strong>çŸ¥è¯†å›¾è°±æ„å»º</strong>ï¼šä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹ä»æ–‡æœ¬è‡ªåŠ¨æ„å»ºå›¾è°±</li><li><strong>å›¾æœºå™¨å­¦ä¹ </strong>ï¼šé›†æˆ 21 ç§å›¾å­¦ä¹ ç®—æ³•ï¼ˆGCNã€GATã€GraphSAGE ç­‰ï¼‰</li><li><strong>Python å®¢æˆ·ç«¯</strong>ï¼šæ˜“äºä½¿ç”¨çš„ HugeGraph Python æ“ä½œæ¥å£</li><li><strong>AI æ™ºèƒ½ä½“</strong>ï¼šæä¾›æ™ºèƒ½å›¾åˆ†æä¸æ¨ç†èƒ½åŠ›</li></ul><h3 id=-v150-æ–°ç‰¹æ€§>ğŸ‰ v1.5.0 æ–°ç‰¹æ€§</h3><ul><li><strong>Text2Gremlin REST API</strong>ï¼šé€šè¿‡ REST ç«¯ç‚¹å°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸º Gremlin å‘½ä»¤</li><li><strong>å¤šæ¨¡å‹å‘é‡æ”¯æŒ</strong>ï¼šæ¯ä¸ªå›¾å®ä¾‹å¯ä»¥ä½¿ç”¨ç‹¬ç«‹çš„åµŒå…¥æ¨¡å‹</li><li><strong>åŒè¯­æç¤ºæ”¯æŒ</strong>ï¼šæ”¯æŒè‹±æ–‡å’Œä¸­æ–‡æç¤ºè¯åˆ‡æ¢ï¼ˆEN/CNï¼‰</li><li><strong>åŠè‡ªåŠ¨ Schema ç”Ÿæˆ</strong>ï¼šä»æ–‡æœ¬æ•°æ®æ™ºèƒ½æ¨æ–­ Schema</li><li><strong>åŠè‡ªåŠ¨ Prompt ç”Ÿæˆ</strong>ï¼šä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„æç¤ºè¯æ¨¡æ¿</li><li><strong>å¢å¼ºçš„ Reranker æ”¯æŒ</strong>ï¼šé›†æˆ Cohere å’Œ SiliconFlow é‡æ’åºå™¨</li><li><strong>LiteLLM å¤šä¾›åº”å•†æ”¯æŒ</strong>ï¼šç»Ÿä¸€æ¥å£æ”¯æŒ OpenAIã€Anthropicã€Gemini ç­‰</li></ul><h2 id=-å¿«é€Ÿå¼€å§‹>ğŸš€ å¿«é€Ÿå¼€å§‹</h2><blockquote><p>[!NOTE]
å¦‚éœ€å®Œæ•´çš„éƒ¨ç½²æŒ‡å—å’Œè¯¦ç»†ç¤ºä¾‹ï¼Œè¯·å‚é˜… <a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-llm/README.md>hugegraph-llm/README.md</a>ã€‚</p></blockquote><h3 id=ç¯å¢ƒè¦æ±‚>ç¯å¢ƒè¦æ±‚</h3><ul><li>Python 3.10+ï¼ˆhugegraph-llm å¿…éœ€ï¼‰</li><li><a href=https://docs.astral.sh/uv/>uv</a> 0.7+ï¼ˆæ¨èçš„åŒ…ç®¡ç†å™¨ï¼‰</li><li>HugeGraph Server 1.5+ï¼ˆå¿…éœ€ï¼‰</li><li>Dockerï¼ˆå¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²ï¼‰</li></ul><h3 id=æ–¹æ¡ˆä¸€docker-éƒ¨ç½²æ¨è>æ–¹æ¡ˆä¸€ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å…‹éš†ä»“åº“</span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/incubator-hugegraph-ai.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> incubator-hugegraph-ai
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®¾ç½®ç¯å¢ƒå¹¶å¯åŠ¨æœåŠ¡</span>
</span></span><span style=display:flex><span>cp docker/env.template docker/.env
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç¼–è¾‘ docker/.env è®¾ç½®ä½ çš„ PROJECT_PATH</span>
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> docker
</span></span><span style=display:flex><span>docker-compose -f docker-compose-network.yml up -d
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®¿é—®æœåŠ¡ï¼š</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># - HugeGraph Server: http://localhost:8080</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># - RAG æœåŠ¡: http://localhost:8001</span>
</span></span></code></pre></div><h3 id=æ–¹æ¡ˆäºŒæºç å®‰è£…>æ–¹æ¡ˆäºŒï¼šæºç å®‰è£…</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. å¯åŠ¨ HugeGraph Server</span>
</span></span><span style=display:flex><span>docker run -itd --name<span style=color:#ce5c00;font-weight:700>=</span>server -p 8080:8080 hugegraph/hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. å…‹éš†å¹¶è®¾ç½®é¡¹ç›®</span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/incubator-hugegraph-ai.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> incubator-hugegraph-ai/hugegraph-llm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. å®‰è£…ä¾èµ–</span>
</span></span><span style=display:flex><span>uv venv <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#204a87>source</span> .venv/bin/activate
</span></span><span style=display:flex><span>uv pip install -e .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 4. å¯åŠ¨æ¼”ç¤º</span>
</span></span><span style=display:flex><span>python -m hugegraph_llm.demo.rag_demo.app
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®¿é—® http://127.0.0.1:8001</span>
</span></span></code></pre></div><h3 id=åŸºæœ¬ç”¨æ³•ç¤ºä¾‹>åŸºæœ¬ç”¨æ³•ç¤ºä¾‹</h3><h4 id=graphrag---é—®ç­”>GraphRAG - é—®ç­”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.graph_rag_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>RAGPipeline</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ– RAG å·¥ä½œæµ</span>
</span></span><span style=display:flex><span><span style=color:#000>graph_rag</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RAGPipeline</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å¯¹ä½ çš„å›¾è¿›è¡Œæé—®</span>
</span></span><span style=display:flex><span><span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>graph_rag</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>extract_keywords</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>text</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®² Al Pacino çš„æ•…äº‹ã€‚&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>keywords_to_vid</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>query_graphdb</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>max_deep</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>max_graph_items</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>synthesize_answer</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><h4 id=çŸ¥è¯†å›¾è°±æ„å»º>çŸ¥è¯†å›¾è°±æ„å»º</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.models.llms.init_llm</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>LLMs</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.kg_construction_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>KgBuilder</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä»æ–‡æœ¬æ„å»ºçŸ¥è¯†å›¾è°±</span>
</span></span><span style=display:flex><span><span style=color:#000>TEXT</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ä½ çš„æ–‡æœ¬å†…å®¹...&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>builder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>KgBuilder</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>LLMs</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_chat_llm</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span><span style=color:#000>builder</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>import_schema</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>from_hugegraph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>chunk_split</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>TEXT</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>extract_info</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>extract_type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;property_graph&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>commit_to_hugegraph</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><h4 id=å›¾æœºå™¨å­¦ä¹ >å›¾æœºå™¨å­¦ä¹ </h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>pyhugegraph.client</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>PyHugeClient</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è¿æ¥ HugeGraph å¹¶è¿è¡Œæœºå™¨å­¦ä¹ ç®—æ³•</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è¯¦ç»†ç¤ºä¾‹è¯·å‚é˜… hugegraph-ml æ–‡æ¡£</span>
</span></span></code></pre></div><h2 id=-æ¨¡å—>ğŸ“¦ æ¨¡å—</h2><h3 id=hugegraph-llmhttpsgithubcomapacheincubator-hugegraph-aitreemainhugegraph-llm-ask-deepwikihttpsdeepwikicombadgesvghttpsdeepwikicomapacheincubator-hugegraph-ai><a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-llm>hugegraph-llm</a> <a href=https://deepwiki.com/apache/incubator-hugegraph-ai><img src=https://deepwiki.com/badge.svg alt="Ask DeepWiki"></a></h3><p>ç”¨äºå›¾åº”ç”¨çš„å¤§è¯­è¨€æ¨¡å‹é›†æˆï¼š</p><ul><li><strong>GraphRAG</strong>ï¼šåŸºäºå›¾æ•°æ®çš„æ£€ç´¢å¢å¼ºç”Ÿæˆ</li><li><strong>çŸ¥è¯†å›¾è°±æ„å»º</strong>ï¼šä»æ–‡æœ¬è‡ªåŠ¨æ„å»ºçŸ¥è¯†å›¾è°±</li><li><strong>è‡ªç„¶è¯­è¨€æ¥å£</strong>ï¼šä½¿ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢å›¾</li><li><strong>AI æ™ºèƒ½ä½“</strong>ï¼šæ™ºèƒ½å›¾åˆ†æä¸æ¨ç†</li></ul><h3 id=hugegraph-mlhttpsgithubcomapacheincubator-hugegraph-aitreemainhugegraph-ml><a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-ml>hugegraph-ml</a></h3><p>åŒ…å« 21 ç§ç®—æ³•çš„å›¾æœºå™¨å­¦ä¹ ï¼š</p><ul><li><strong>èŠ‚ç‚¹åˆ†ç±»</strong>ï¼šGCNã€GATã€GraphSAGEã€APPNPã€AGNNã€ARMAã€DAGNNã€DeeperGCNã€GRANDã€JKNetã€Cluster-GCN</li><li><strong>å›¾åˆ†ç±»</strong>ï¼šDiffPoolã€GIN</li><li><strong>å›¾åµŒå…¥</strong>ï¼šDGIã€BGRLã€GRACE</li><li><strong>é“¾æ¥é¢„æµ‹</strong>ï¼šSEALã€P-GNNã€GATNE</li><li><strong>æ¬ºè¯ˆæ£€æµ‹</strong>ï¼šCARE-GNNã€BGNN</li><li><strong>åå¤„ç†</strong>ï¼šC&Sï¼ˆCorrect & Smoothï¼‰</li></ul><h3 id=hugegraph-python-clienthttpsgithubcomapacheincubator-hugegraph-aitreemainhugegraph-python-client><a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-python-client>hugegraph-python-client</a></h3><p>ç”¨äº HugeGraph æ“ä½œçš„ Python å®¢æˆ·ç«¯ï¼š</p><ul><li><strong>Schema ç®¡ç†</strong>ï¼šå®šä¹‰é¡¶ç‚¹/è¾¹æ ‡ç­¾å’Œå±æ€§</li><li><strong>CRUD æ“ä½œ</strong>ï¼šåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤å›¾æ•°æ®</li><li><strong>Gremlin æŸ¥è¯¢</strong>ï¼šæ‰§è¡Œå›¾éå†æŸ¥è¯¢</li><li><strong>REST API</strong>ï¼šå®Œæ•´çš„ HugeGraph REST API è¦†ç›–</li></ul><h2 id=-äº†è§£æ›´å¤š>ğŸ“š äº†è§£æ›´å¤š</h2><ul><li><a href=https://hugegraph.apache.org/docs/quickstart/hugegraph-ai/>é¡¹ç›®ä¸»é¡µ</a></li><li><a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-llm/quick_start.md>LLM å¿«é€Ÿå…¥é—¨æŒ‡å—</a></li><li><a href=https://deepwiki.com/apache/incubator-hugegraph-ai>DeepWiki AI æ–‡æ¡£</a></li></ul><h2 id=-ç›¸å…³é¡¹ç›®>ğŸ”— ç›¸å…³é¡¹ç›®</h2><ul><li><a href=https://github.com/apache/hugegraph>hugegraph</a> - æ ¸å¿ƒå›¾æ•°æ®åº“</li><li><a href=https://github.com/apache/hugegraph-toolchain>hugegraph-toolchain</a> - å¼€å‘å·¥å…·ï¼ˆåŠ è½½å™¨ã€ä»ªè¡¨ç›˜ç­‰ï¼‰</li><li><a href=https://github.com/apache/hugegraph-computer>hugegraph-computer</a> - å›¾è®¡ç®—ç³»ç»Ÿ</li></ul><h2 id=-è´¡çŒ®>ğŸ¤ è´¡çŒ®</h2><p>æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯¦æƒ…è¯·å‚é˜…æˆ‘ä»¬çš„<a href=https://hugegraph.apache.org/docs/contribution-guidelines/>è´¡çŒ®æŒ‡å—</a>ã€‚</p><p><strong>å¼€å‘è®¾ç½®ï¼š</strong></p><ul><li>ä½¿ç”¨ <a href=https://desktop.github.com/>GitHub Desktop</a> æ›´è½»æ¾åœ°ç®¡ç† PR</li><li>æäº¤ PR å‰è¿è¡Œ <code>./style/code_format_and_analysis.sh</code></li><li>æŠ¥å‘Šé”™è¯¯å‰æ£€æŸ¥ç°æœ‰é—®é¢˜</li></ul><p><a href=https://github.com/apache/incubator-hugegraph-ai/graphs/contributors><img src="https://contrib.rocks/image?repo=apache/incubator-hugegraph-ai" alt="contributors graph"></a></p><h2 id=-è®¸å¯è¯>ğŸ“„ è®¸å¯è¯</h2><p>hugegraph-ai é‡‡ç”¨ <a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/LICENSE>Apache 2.0 è®¸å¯è¯</a>ã€‚</p><h2 id=-è”ç³»æˆ‘ä»¬>ğŸ“ è”ç³»æˆ‘ä»¬</h2><ul><li><strong>GitHub Issues</strong>ï¼š<a href=https://github.com/apache/incubator-hugegraph-ai/issues>æŠ¥å‘Šé”™è¯¯æˆ–è¯·æ±‚åŠŸèƒ½</a>ï¼ˆå“åº”æœ€å¿«ï¼‰</li><li><strong>ç”µå­é‚®ä»¶</strong>ï¼š<a href=mailto:dev@hugegraph.apache.org>dev@hugegraph.apache.org</a>ï¼ˆ<a href=https://hugegraph.apache.org/docs/contribution-guidelines/subscribe/>éœ€è¦è®¢é˜…</a>ï¼‰</li><li><strong>å¾®ä¿¡</strong>ï¼šå…³æ³¨ &ldquo;Apache HugeGraph&rdquo; å¾®ä¿¡å…¬ä¼—å·</li></ul><img src=https://raw.githubusercontent.com/apache/hugegraph-doc/master/assets/images/wechat.png alt="Apache HugeGraph WeChat QR Code" width=200></div><div class=td-content style=page-break-before:always><h1 id=pg-0b4da31f88e2852fb8a360769f3c9f28>3.1 - HugeGraph-LLM</h1><blockquote><p>æœ¬æ–‡ä¸ºä¸­æ–‡ç¿»è¯‘ç‰ˆæœ¬ï¼Œå†…å®¹åŸºäºè‹±æ–‡ç‰ˆè¿›è¡Œï¼Œæˆ‘ä»¬æ¬¢è¿æ‚¨éšæ—¶æå‡ºä¿®æ”¹å»ºè®®ã€‚æˆ‘ä»¬æ¨èæ‚¨é˜…è¯» <a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-llm#readme>AI ä»“åº“ README</a> ä»¥è·å–æœ€æ–°ä¿¡æ¯ï¼Œå®˜ç½‘ä¼šå®šæœŸåŒæ­¥æ›´æ–°ã€‚</p></blockquote><blockquote><p><strong>è¿æ¥å›¾æ•°æ®åº“ä¸å¤§è¯­è¨€æ¨¡å‹çš„æ¡¥æ¢</strong></p></blockquote><blockquote><p>AI æ€»ç»“é¡¹ç›®æ–‡æ¡£ï¼š<a href=https://deepwiki.com/apache/incubator-hugegraph-ai><img src=https://deepwiki.com/badge.svg alt="Ask DeepWiki"></a></p></blockquote><h2 id=-æ¦‚è¿°>ğŸ¯ æ¦‚è¿°</h2><p>HugeGraph-LLM æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·åŒ…ï¼Œå®ƒèåˆäº†å›¾æ•°æ®åº“å’Œå¤§å‹è¯­è¨€æ¨¡å‹çš„ä¼˜åŠ¿ï¼Œå®ç°äº† HugeGraph ä¸ LLM ä¹‹é—´çš„æ— ç¼é›†æˆï¼ŒåŠ©åŠ›å¼€å‘è€…æ„å»ºæ™ºèƒ½åº”ç”¨ã€‚</p><h3 id=æ ¸å¿ƒåŠŸèƒ½>æ ¸å¿ƒåŠŸèƒ½</h3><ul><li>ğŸ—ï¸ <strong>çŸ¥è¯†å›¾è°±æ„å»º</strong>ï¼šåˆ©ç”¨ LLM å’Œ HugeGraph è‡ªåŠ¨æ„å»ºçŸ¥è¯†å›¾è°±ã€‚</li><li>ğŸ—£ï¸ <strong>è‡ªç„¶è¯­è¨€æŸ¥è¯¢</strong>ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€ï¼ˆGremlin/Cypherï¼‰æ“ä½œå›¾æ•°æ®åº“ã€‚</li><li>ğŸ” <strong>å›¾å¢å¼º RAG</strong>ï¼šå€ŸåŠ©çŸ¥è¯†å›¾è°±æå‡é—®ç­”å‡†ç¡®æ€§ï¼ˆGraphRAG å’Œ Graph Agentï¼‰ã€‚</li></ul><p>æ›´å¤šæºç æ–‡æ¡£ï¼Œè¯·è®¿é—®æˆ‘ä»¬çš„ <a href=https://deepwiki.com/apache/incubator-hugegraph-ai>DeepWiki</a> é¡µé¢ï¼ˆæ¨èï¼‰ã€‚</p><h2 id=-ç¯å¢ƒè¦æ±‚>ğŸ“‹ ç¯å¢ƒè¦æ±‚</h2><blockquote><p>[!IMPORTANT]</p><ul><li><strong>Python</strong>ï¼š3.10+ï¼ˆæœªåœ¨ 3.12 ç‰ˆæœ¬æµ‹è¯•ï¼‰</li><li><strong>HugeGraph Server</strong>ï¼š1.3+ï¼ˆæ¨è 1.5+ï¼‰</li><li><strong>UV åŒ…ç®¡ç†å™¨</strong>ï¼š0.7+</li></ul></blockquote><h2 id=-å¿«é€Ÿå¼€å§‹>ğŸš€ å¿«é€Ÿå¼€å§‹</h2><p>è¯·é€‰æ‹©æ‚¨åå¥½çš„éƒ¨ç½²æ–¹å¼ï¼š</p><h3 id=æ–¹æ¡ˆä¸€docker-composeæ¨è>æ–¹æ¡ˆä¸€ï¼šDocker Composeï¼ˆæ¨èï¼‰</h3><p>è¿™æ˜¯åŒæ—¶å¯åŠ¨ HugeGraph Server å’Œ RAG æœåŠ¡çš„æœ€å¿«æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. è®¾ç½®ç¯å¢ƒ</span>
</span></span><span style=display:flex><span>cp docker/env.template docker/.env
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç¼–è¾‘ docker/.envï¼Œå°† PROJECT_PATH è®¾ç½®ä¸ºæ‚¨çš„å®é™…é¡¹ç›®è·¯å¾„</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. éƒ¨ç½²æœåŠ¡</span>
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> docker
</span></span><span style=display:flex><span>docker-compose -f docker-compose-network.yml up -d
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. éªŒè¯éƒ¨ç½²</span>
</span></span><span style=display:flex><span>docker-compose -f docker-compose-network.yml ps
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 4. è®¿é—®æœåŠ¡</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># HugeGraph Server: http://localhost:8080</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># RAG æœåŠ¡: http://localhost:8001</span>
</span></span></code></pre></div><h3 id=æ–¹æ¡ˆäºŒç‹¬ç«‹-docker-å®¹å™¨>æ–¹æ¡ˆäºŒï¼šç‹¬ç«‹ Docker å®¹å™¨</h3><p>å¦‚æœæ‚¨å¸Œæœ›å¯¹å„ç»„ä»¶è¿›è¡Œæ›´ç²¾ç»†çš„æ§åˆ¶ï¼š</p><h4 id=å¯ç”¨é•œåƒ>å¯ç”¨é•œåƒ</h4><ul><li><strong><code>hugegraph/rag</code></strong>ï¼šå¼€å‘é•œåƒï¼Œå¯è®¿é—®æºä»£ç </li><li><strong><code>hugegraph/rag-bin</code></strong>ï¼šç”Ÿäº§ä¼˜åŒ–çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆä½¿ç”¨ Nuitka ç¼–è¯‘ï¼‰</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. åˆ›å»ºç½‘ç»œ</span>
</span></span><span style=display:flex><span>docker network create -d bridge hugegraph-net
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. å¯åŠ¨ HugeGraph Server</span>
</span></span><span style=display:flex><span>docker run -itd --name<span style=color:#ce5c00;font-weight:700>=</span>server -p 8080:8080 --network hugegraph-net hugegraph/hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. å¯åŠ¨ RAG æœåŠ¡</span>
</span></span><span style=display:flex><span>docker pull hugegraph/rag:latest
</span></span><span style=display:flex><span>docker run -itd --name rag <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -v /path/to/your/hugegraph-llm/.env:/home/work/hugegraph-llm/.env <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -p 8001:8001 --network hugegraph-net hugegraph/rag
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 4. ç›‘æ§æ—¥å¿—</span>
</span></span><span style=display:flex><span>docker logs -f rag
</span></span></code></pre></div><h3 id=æ–¹æ¡ˆä¸‰ä»æºç æ„å»º>æ–¹æ¡ˆä¸‰ï¼šä»æºç æ„å»º</h3><p>é€‚ç”¨äºå¼€å‘å’Œè‡ªå®šä¹‰åœºæ™¯ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. å¯åŠ¨ HugeGraph Server</span>
</span></span><span style=display:flex><span>docker run -itd --name<span style=color:#ce5c00;font-weight:700>=</span>server -p 8080:8080 hugegraph/hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. å®‰è£… UV åŒ…ç®¡ç†å™¨</span>
</span></span><span style=display:flex><span>curl -LsSf https://astral.sh/uv/install.sh <span style=color:#000;font-weight:700>|</span> sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. å…‹éš†å¹¶è®¾ç½®é¡¹ç›®</span>
</span></span><span style=display:flex><span>git clone https://github.com/apache/incubator-hugegraph-ai.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> incubator-hugegraph-ai/hugegraph-llm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 4. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–</span>
</span></span><span style=display:flex><span>uv venv <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#204a87>source</span> .venv/bin/activate
</span></span><span style=display:flex><span>uv pip install -e .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 5. å¯åŠ¨ RAG æ¼”ç¤º</span>
</span></span><span style=display:flex><span>python -m hugegraph_llm.demo.rag_demo.app
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®¿é—®: http://127.0.0.1:8001</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 6. (å¯é€‰) è‡ªå®šä¹‰ä¸»æœº/ç«¯å£</span>
</span></span><span style=display:flex><span>python -m hugegraph_llm.demo.rag_demo.app --host 127.0.0.1 --port <span style=color:#0000cf;font-weight:700>18001</span>
</span></span></code></pre></div><h4 id=é¢å¤–è®¾ç½®å¯é€‰>é¢å¤–è®¾ç½®ï¼ˆå¯é€‰ï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä¸‹è½½ NLTK åœç”¨è¯ä»¥ä¼˜åŒ–æ–‡æœ¬å¤„ç†</span>
</span></span><span style=display:flex><span>python ./hugegraph_llm/operators/common_op/nltk_helper.py
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ›´æ–°é…ç½®æ–‡ä»¶</span>
</span></span><span style=display:flex><span>python -m hugegraph_llm.config.generate --update
</span></span></code></pre></div><blockquote><p>[!TIP]
æŸ¥çœ‹æˆ‘ä»¬çš„<a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-llm/quick_start.md>å¿«é€Ÿå…¥é—¨æŒ‡å—</a>è·å–è¯¦ç»†ç”¨æ³•ç¤ºä¾‹å’ŒæŸ¥è¯¢é€»è¾‘è§£é‡Šã€‚</p></blockquote><h2 id=-ç”¨æ³•ç¤ºä¾‹>ğŸ’¡ ç”¨æ³•ç¤ºä¾‹</h2><h3 id=çŸ¥è¯†å›¾è°±æ„å»º>çŸ¥è¯†å›¾è°±æ„å»º</h3><h4 id=äº¤äº’å¼-web-ç•Œé¢>äº¤äº’å¼ Web ç•Œé¢</h4><p>ä½¿ç”¨ Gradio ç•Œé¢è¿›è¡Œå¯è§†åŒ–çŸ¥è¯†å›¾è°±æ„å»ºï¼š</p><p><strong>è¾“å…¥é€‰é¡¹ï¼š</strong></p><ul><li><strong>æ–‡æœ¬</strong>ï¼šç›´æ¥è¾“å…¥æ–‡æœ¬ç”¨äº RAG ç´¢å¼•åˆ›å»º</li><li><strong>æ–‡ä»¶</strong>ï¼šä¸Šä¼  TXT æˆ– DOCX æ–‡ä»¶ï¼ˆæ”¯æŒå¤šé€‰ï¼‰</li></ul><p><strong>Schema é…ç½®ï¼š</strong></p><ul><li><strong>è‡ªå®šä¹‰ Schema</strong>ï¼šéµå¾ªæˆ‘ä»¬<a href=https://github.com/apache/incubator-hugegraph-ai/blob/aff3bbe25fa91c3414947a196131be812c20ef11/hugegraph-llm/src/hugegraph_llm/config/config_data.py#L125>æ¨¡æ¿</a>çš„ JSON æ ¼å¼</li><li><strong>HugeGraph Schema</strong>ï¼šä½¿ç”¨ç°æœ‰å›¾å®ä¾‹çš„ Schemaï¼ˆä¾‹å¦‚ï¼Œâ€œhugegraphâ€ï¼‰</li></ul><p><img src=https://hugegraph.apache.org/docs/images/gradio-kg.png alt=çŸ¥è¯†å›¾è°±æ„å»ºå™¨></p><h4 id=ä»£ç æ„å»º>ä»£ç æ„å»º</h4><p>ä½¿ç”¨ <code>KgBuilder</code> ç±»é€šè¿‡ä»£ç æ„å»ºçŸ¥è¯†å›¾è°±ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.models.llms.init_llm</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>LLMs</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.kg_construction_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>KgBuilder</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ–å¹¶é“¾å¼æ“ä½œ</span>
</span></span><span style=display:flex><span><span style=color:#000>TEXT</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;åœ¨æ­¤å¤„è¾“å…¥æ‚¨çš„æ–‡æœ¬å†…å®¹...&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>builder</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>KgBuilder</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>LLMs</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>get_chat_llm</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>builder</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>import_schema</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>from_hugegraph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;talent_graph&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>print_result</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>chunk_split</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>TEXT</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>print_result</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>extract_info</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>extract_type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;property_graph&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>print_result</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>commit_to_hugegraph</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><p><strong>å·¥ä½œæµï¼š</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph LR
</span></span><span style=display:flex><span>    A[å¯¼å…¥ Schema] --&gt; B[æ–‡æœ¬åˆ†å—]
</span></span><span style=display:flex><span>    B --&gt; C[æå–ä¿¡æ¯]
</span></span><span style=display:flex><span>    C --&gt; D[æäº¤åˆ° HugeGraph]
</span></span><span style=display:flex><span>    D --&gt; E[æ‰§è¡Œå·¥ä½œæµ]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    style A fill:#fff2cc
</span></span><span style=display:flex><span>    style B fill:#d5e8d4
</span></span><span style=display:flex><span>    style C fill:#dae8fc
</span></span><span style=display:flex><span>    style D fill:#f8cecc
</span></span><span style=display:flex><span>    style E fill:#e1d5e7
</span></span></code></pre></div><h3 id=å›¾å¢å¼º-rag>å›¾å¢å¼º RAG</h3><p>åˆ©ç”¨ HugeGraph è¿›è¡Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.graph_rag_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>RAGPipeline</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ– RAG å·¥ä½œæµ</span>
</span></span><span style=display:flex><span><span style=color:#000>graph_rag</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>RAGPipeline</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ‰§è¡Œ RAG å·¥ä½œæµ</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>graph_rag</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>extract_keywords</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>text</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®² Al Pacino çš„æ•…äº‹ã€‚&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>keywords_to_vid</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>query_graphdb</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>max_deep</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>max_graph_items</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>merge_dedup_rerank</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>synthesize_answer</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vector_only_answer</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>False</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>graph_only_answer</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>True</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>verbose</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>True</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><p><strong>RAG å·¥ä½œæµï¼š</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph TD
</span></span><span style=display:flex><span>    A[ç”¨æˆ·æŸ¥è¯¢] --&gt; B[æå–å…³é”®è¯]
</span></span><span style=display:flex><span>    B --&gt; C[åŒ¹é…å›¾èŠ‚ç‚¹]
</span></span><span style=display:flex><span>    C --&gt; D[æ£€ç´¢å›¾ä¸Šä¸‹æ–‡]
</span></span><span style=display:flex><span>    D --&gt; E[é‡æ’åºç»“æœ]
</span></span><span style=display:flex><span>    E --&gt; F[ç”Ÿæˆç­”æ¡ˆ]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    style A fill:#e3f2fd
</span></span><span style=display:flex><span>    style B fill:#f3e5f5
</span></span><span style=display:flex><span>    style C fill:#e8f5e8
</span></span><span style=display:flex><span>    style D fill:#fff3e0
</span></span><span style=display:flex><span>    style E fill:#fce4ec
</span></span><span style=display:flex><span>    style F fill:#e0f2f1
</span></span></code></pre></div><h2 id=-é…ç½®>ğŸ”§ é…ç½®</h2><p>è¿è¡Œæ¼”ç¤ºå,å°†è‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼š</p><ul><li><strong>ç¯å¢ƒ</strong>ï¼š<code>hugegraph-llm/.env</code></li><li><strong>æç¤º</strong>ï¼š<code>hugegraph-llm/src/hugegraph_llm/resources/demo/config_prompt.yaml</code></li></ul><blockquote><p>[!NOTE]
ä½¿ç”¨ Web ç•Œé¢æ—¶ï¼Œé…ç½®æ›´æ”¹ä¼šè‡ªåŠ¨ä¿å­˜ã€‚å¯¹äºæ‰‹åŠ¨æ›´æ”¹ï¼Œåˆ·æ–°é¡µé¢å³å¯åŠ è½½æ›´æ–°ã€‚</p></blockquote><h3 id=llm-æä¾›å•†é…ç½®>LLM æä¾›å•†é…ç½®</h3><p>æœ¬é¡¹ç›®ä½¿ç”¨ <a href=https://docs.litellm.ai/docs/providers>LiteLLM</a> å®ç°å¤šæä¾›å•† LLM æ”¯æŒï¼Œå¯ç»Ÿä¸€è®¿é—® OpenAIã€Anthropicã€Googleã€Cohere ä»¥åŠ 100 å¤šä¸ªå…¶ä»–æä¾›å•†ã€‚</p><h4 id=æ–¹æ¡ˆä¸€ç›´æ¥-llm-è¿æ¥openaiollama>æ–¹æ¡ˆä¸€ï¼šç›´æ¥ LLM è¿æ¥ï¼ˆOpenAIã€Ollamaï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># .env é…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#000>chat_llm_type</span><span style=color:#ce5c00;font-weight:700>=</span>openai           <span style=color:#8f5902;font-style:italic># æˆ– ollama/local</span>
</span></span><span style=display:flex><span><span style=color:#000>openai_api_key</span><span style=color:#ce5c00;font-weight:700>=</span>sk-xxx
</span></span><span style=display:flex><span><span style=color:#000>openai_api_base</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>openai_language_model</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>openai_max_tokens</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>
</span></span></code></pre></div><h4 id=æ–¹æ¡ˆäºŒlitellm-å¤šæä¾›å•†æ”¯æŒ>æ–¹æ¡ˆäºŒï¼šLiteLLM å¤šæä¾›å•†æ”¯æŒ</h4><p>LiteLLM ä½œä¸ºå¤šä¸ª LLM æä¾›å•†çš„ç»Ÿä¸€ä»£ç†ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># .env é…ç½®</span>
</span></span><span style=display:flex><span><span style=color:#000>chat_llm_type</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>extract_llm_type</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>text2gql_llm_type</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># LiteLLM è®¾ç½®</span>
</span></span><span style=display:flex><span><span style=color:#000>litellm_api_base</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000  <span style=color:#8f5902;font-style:italic># LiteLLM ä»£ç†æœåŠ¡å™¨</span>
</span></span><span style=display:flex><span><span style=color:#000>litellm_api_key</span><span style=color:#ce5c00;font-weight:700>=</span>sk-1234                  <span style=color:#8f5902;font-style:italic># LiteLLM API å¯†é’¥</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ¨¡å‹é€‰æ‹©ï¼ˆæä¾›å•†/æ¨¡å‹æ ¼å¼ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>litellm_language_model</span><span style=color:#ce5c00;font-weight:700>=</span>anthropic/claude-3-5-sonnet-20241022
</span></span><span style=display:flex><span><span style=color:#000>litellm_max_tokens</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>
</span></span></code></pre></div><p><strong>æ”¯æŒçš„æä¾›å•†</strong>ï¼šOpenAIã€Anthropicã€Googleï¼ˆGeminiï¼‰ã€Azureã€Cohereã€Bedrockã€Vertex AIã€Hugging Face ç­‰ã€‚</p><p>å®Œæ•´æä¾›å•†åˆ—è¡¨å’Œé…ç½®è¯¦æƒ…ï¼Œè¯·è®¿é—® <a href=https://docs.litellm.ai/docs/providers>LiteLLM Providers</a>ã€‚</p><h3 id=reranker-é…ç½®>Reranker é…ç½®</h3><p>Reranker é€šè¿‡é‡æ–°æ’åºæ£€ç´¢ç»“æœæ¥æé«˜ RAG å‡†ç¡®æ€§ã€‚æ”¯æŒçš„æä¾›å•†ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Cohere Reranker</span>
</span></span><span style=display:flex><span><span style=color:#000>reranker_type</span><span style=color:#ce5c00;font-weight:700>=</span>cohere
</span></span><span style=display:flex><span><span style=color:#000>cohere_api_key</span><span style=color:#ce5c00;font-weight:700>=</span>your-cohere-key
</span></span><span style=display:flex><span><span style=color:#000>cohere_rerank_model</span><span style=color:#ce5c00;font-weight:700>=</span>rerank-english-v3.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># SiliconFlow Reranker</span>
</span></span><span style=display:flex><span><span style=color:#000>reranker_type</span><span style=color:#ce5c00;font-weight:700>=</span>siliconflow
</span></span><span style=display:flex><span><span style=color:#000>siliconflow_api_key</span><span style=color:#ce5c00;font-weight:700>=</span>your-siliconflow-key
</span></span><span style=display:flex><span><span style=color:#000>siliconflow_rerank_model</span><span style=color:#ce5c00;font-weight:700>=</span>BAAI/bge-reranker-v2-m3
</span></span></code></pre></div><h3 id=text2gremlin-é…ç½®>Text2Gremlin é…ç½®</h3><p>å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸º Gremlin æŸ¥è¯¢ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.operators.graph_rag_task</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>Text2GremlinPipeline</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ–å·¥ä½œæµ</span>
</span></span><span style=display:flex><span><span style=color:#000>text2gremlin</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Text2GremlinPipeline</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç”Ÿæˆ Gremlin æŸ¥è¯¢</span>
</span></span><span style=display:flex><span><span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>text2gremlin</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>query_to_gremlin</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>query</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;æŸ¥æ‰¾æ‰€æœ‰ç”± Francis Ford Coppola æ‰§å¯¼çš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>execute_gremlin_query</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>run</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><p><strong>REST API ç«¯ç‚¹</strong>ï¼šæœ‰å…³ HTTP ç«¯ç‚¹è¯¦æƒ…ï¼Œè¯·å‚é˜… <a href=./rest-api.md>REST API æ–‡æ¡£</a>ã€‚</p><h2 id=-å…¶ä»–èµ„æº>ğŸ“š å…¶ä»–èµ„æº</h2><ul><li><strong>å›¾å¯è§†åŒ–</strong>ï¼šä½¿ç”¨ <a href=https://hub.docker.com/r/hugegraph/hubble>HugeGraph Hubble</a> è¿›è¡Œæ•°æ®åˆ†æå’Œ Schema ç®¡ç†</li><li><strong>API æ–‡æ¡£</strong>ï¼šæµè§ˆæˆ‘ä»¬çš„ REST API ç«¯ç‚¹ä»¥è¿›è¡Œé›†æˆ</li><li><strong>ç¤¾åŒº</strong>ï¼šåŠ å…¥æˆ‘ä»¬çš„è®¨è®ºå¹¶ä¸ºé¡¹ç›®åšå‡ºè´¡çŒ®</li></ul><hr><p><strong>è®¸å¯è¯</strong>ï¼šApache License 2.0 | <strong>ç¤¾åŒº</strong>ï¼š<a href=https://hugegraph.apache.org/>Apache HugeGraph</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-e0b469442bebe4a5db69564efbaa4753>3.2 - HugeGraph-ML</h1><p>HugeGraph-ML å°† HugeGraph ä¸æµè¡Œçš„å›¾å­¦ä¹ åº“é›†æˆï¼Œæ”¯æŒç›´æ¥åœ¨å›¾æ•°æ®ä¸Šè¿›è¡Œç«¯åˆ°ç«¯çš„æœºå™¨å­¦ä¹ å·¥ä½œæµã€‚</p><h2 id=æ¦‚è¿°>æ¦‚è¿°</h2><p><code>hugegraph-ml</code> æä¾›äº†ç»Ÿä¸€æ¥å£ï¼Œç”¨äºå°†å›¾ç¥ç»ç½‘ç»œå’Œæœºå™¨å­¦ä¹ ç®—æ³•åº”ç”¨äºå­˜å‚¨åœ¨ HugeGraph ä¸­çš„æ•°æ®ã€‚å®ƒé€šè¿‡æ— ç¼è½¬æ¢ HugeGraph æ•°æ®åˆ°ä¸»æµ ML æ¡†æ¶å…¼å®¹æ ¼å¼ï¼Œæ¶ˆé™¤äº†å¤æ‚çš„æ•°æ®å¯¼å‡º/å¯¼å…¥æµç¨‹ã€‚</p><h3 id=æ ¸å¿ƒåŠŸèƒ½>æ ¸å¿ƒåŠŸèƒ½</h3><ul><li><strong>ç›´æ¥ HugeGraph é›†æˆ</strong>ï¼šæ— éœ€æ‰‹åŠ¨å¯¼å‡ºå³å¯ç›´æ¥ä» HugeGraph æŸ¥è¯¢å›¾æ•°æ®</li><li><strong>21 ç§ç®—æ³•å®ç°</strong>ï¼šå…¨é¢è¦†ç›–èŠ‚ç‚¹åˆ†ç±»ã€å›¾åˆ†ç±»ã€åµŒå…¥å’Œé“¾æ¥é¢„æµ‹</li><li><strong>DGL åç«¯</strong>ï¼šåˆ©ç”¨æ·±åº¦å›¾åº“ï¼ˆDGLï¼‰è¿›è¡Œé«˜æ•ˆè®­ç»ƒ</li><li><strong>ç«¯åˆ°ç«¯å·¥ä½œæµ</strong>ï¼šä»æ•°æ®åŠ è½½åˆ°æ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°</li><li><strong>æ¨¡å—åŒ–ä»»åŠ¡</strong>ï¼šå¯å¤ç”¨çš„å¸¸è§ ML åœºæ™¯ä»»åŠ¡æŠ½è±¡</li></ul><h2 id=ç¯å¢ƒè¦æ±‚>ç¯å¢ƒè¦æ±‚</h2><ul><li><strong>Python</strong>ï¼š3.9+ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰</li><li><strong>HugeGraph Server</strong>ï¼š1.0+ï¼ˆæ¨èï¼š1.5+ï¼‰</li><li><strong>UV åŒ…ç®¡ç†å™¨</strong>ï¼š0.7+ï¼ˆç”¨äºä¾èµ–ç®¡ç†ï¼‰</li></ul><h2 id=å®‰è£…>å®‰è£…</h2><h3 id=1-å¯åŠ¨-hugegraph-server>1. å¯åŠ¨ HugeGraph Server</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ–¹æ¡ˆä¸€ï¼šDockerï¼ˆæ¨èï¼‰</span>
</span></span><span style=display:flex><span>docker run -itd --name<span style=color:#ce5c00;font-weight:700>=</span>hugegraph -p 8080:8080 hugegraph/hugegraph
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ–¹æ¡ˆäºŒï¼šäºŒè¿›åˆ¶åŒ…</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å‚è§ https://hugegraph.apache.org/docs/download/download/</span>
</span></span></code></pre></div><h3 id=2-å…‹éš†å¹¶è®¾ç½®>2. å…‹éš†å¹¶è®¾ç½®</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/apache/incubator-hugegraph-ai.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> incubator-hugegraph-ai/hugegraph-ml
</span></span></code></pre></div><h3 id=3-å®‰è£…ä¾èµ–>3. å®‰è£…ä¾èµ–</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># uv sync è‡ªåŠ¨åˆ›å»º .venv å¹¶å®‰è£…æ‰€æœ‰ä¾èµ–</span>
</span></span><span style=display:flex><span>uv sync
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
</span></span><span style=display:flex><span><span style=color:#204a87>source</span> .venv/bin/activate
</span></span></code></pre></div><h3 id=4-å¯¼èˆªåˆ°æºä»£ç ç›®å½•>4. å¯¼èˆªåˆ°æºä»£ç ç›®å½•</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> ./src
</span></span></code></pre></div><blockquote><p>[!NOTE]
æ‰€æœ‰ç¤ºä¾‹å‡å‡å®šæ‚¨åœ¨å·²æ¿€æ´»çš„è™šæ‹Ÿç¯å¢ƒä¸­ã€‚</p></blockquote><h2 id=å·²å®ç°ç®—æ³•>å·²å®ç°ç®—æ³•</h2><p>HugeGraph-ML ç›®å‰å®ç°äº†è·¨å¤šä¸ªç±»åˆ«çš„ <strong>21 ç§å›¾æœºå™¨å­¦ä¹ ç®—æ³•</strong>ï¼š</p><h3 id=èŠ‚ç‚¹åˆ†ç±»11-ç§ç®—æ³•>èŠ‚ç‚¹åˆ†ç±»ï¼ˆ11 ç§ç®—æ³•ï¼‰</h3><p>åŸºäºç½‘ç»œç»“æ„å’Œç‰¹å¾é¢„æµ‹å›¾èŠ‚ç‚¹çš„æ ‡ç­¾ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>GCN</strong></td><td><a href=https://arxiv.org/abs/1609.02907>Kipf & Welling, 2017</a></td><td>å›¾å·ç§¯ç½‘ç»œ</td></tr><tr><td><strong>GAT</strong></td><td><a href=https://arxiv.org/abs/1710.10903>VeliÄkoviÄ‡ et al., 2018</a></td><td>å›¾æ³¨æ„åŠ›ç½‘ç»œ</td></tr><tr><td><strong>GraphSAGE</strong></td><td><a href=https://arxiv.org/abs/1706.02216>Hamilton et al., 2017</a></td><td>å½’çº³å¼è¡¨ç¤ºå­¦ä¹ </td></tr><tr><td><strong>APPNP</strong></td><td><a href=https://arxiv.org/abs/1810.05997>Klicpera et al., 2019</a></td><td>ä¸ªæ€§åŒ– PageRank ä¼ æ’­</td></tr><tr><td><strong>AGNN</strong></td><td><a href=https://arxiv.org/abs/1803.03735>Thekumparampil et al., 2018</a></td><td>åŸºäºæ³¨æ„åŠ›çš„ GNN</td></tr><tr><td><strong>ARMA</strong></td><td><a href=https://arxiv.org/abs/1901.01343>Bianchi et al., 2019</a></td><td>è‡ªå›å½’ç§»åŠ¨å¹³å‡æ»¤æ³¢å™¨</td></tr><tr><td><strong>DAGNN</strong></td><td><a href=https://arxiv.org/abs/2007.09296>Liu et al., 2020</a></td><td>æ·±åº¦è‡ªé€‚åº”å›¾ç¥ç»ç½‘ç»œ</td></tr><tr><td><strong>DeeperGCN</strong></td><td><a href=https://arxiv.org/abs/2006.07739>Li et al., 2020</a></td><td>éå¸¸æ·±çš„ GCN æ¶æ„</td></tr><tr><td><strong>GRAND</strong></td><td><a href=https://arxiv.org/abs/2005.11079>Feng et al., 2020</a></td><td>å›¾éšæœºç¥ç»ç½‘ç»œ</td></tr><tr><td><strong>JKNet</strong></td><td><a href=https://arxiv.org/abs/1806.03536>Xu et al., 2018</a></td><td>è·³è·ƒçŸ¥è¯†ç½‘ç»œ</td></tr><tr><td><strong>Cluster-GCN</strong></td><td><a href=https://arxiv.org/abs/1905.07953>Chiang et al., 2019</a></td><td>é€šè¿‡èšç±»å®ç°å¯æ‰©å±• GCN è®­ç»ƒ</td></tr></tbody></table><h3 id=å›¾åˆ†ç±»2-ç§ç®—æ³•>å›¾åˆ†ç±»ï¼ˆ2 ç§ç®—æ³•ï¼‰</h3><p>åŸºäºç»“æ„å’ŒèŠ‚ç‚¹ç‰¹å¾å¯¹æ•´ä¸ªå›¾è¿›è¡Œåˆ†ç±»ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>DiffPool</strong></td><td><a href=https://arxiv.org/abs/1806.08804>Ying et al., 2018</a></td><td>å¯å¾®åˆ†å›¾æ± åŒ–</td></tr><tr><td><strong>GIN</strong></td><td><a href=https://arxiv.org/abs/1810.00826>Xu et al., 2019</a></td><td>å›¾åŒæ„ç½‘ç»œ</td></tr></tbody></table><h3 id=å›¾åµŒå…¥3-ç§ç®—æ³•>å›¾åµŒå…¥ï¼ˆ3 ç§ç®—æ³•ï¼‰</h3><p>å­¦ä¹ ç”¨äºä¸‹æ¸¸ä»»åŠ¡çš„æ— ç›‘ç£èŠ‚ç‚¹è¡¨ç¤ºã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>DGI</strong></td><td><a href=https://arxiv.org/abs/1809.10341>VeliÄkoviÄ‡ et al., 2019</a></td><td>æ·±åº¦å›¾ä¿¡æ¯æœ€å¤§åŒ–ï¼ˆå¯¹æ¯”å­¦ä¹ ï¼‰</td></tr><tr><td><strong>BGRL</strong></td><td><a href=https://arxiv.org/abs/2102.06514>Thakoor et al., 2021</a></td><td>è‡ªä¸¾å›¾è¡¨ç¤ºå­¦ä¹ </td></tr><tr><td><strong>GRACE</strong></td><td><a href=https://arxiv.org/abs/2006.04131>Zhu et al., 2020</a></td><td>å›¾å¯¹æ¯”å­¦ä¹ </td></tr></tbody></table><h3 id=é“¾æ¥é¢„æµ‹3-ç§ç®—æ³•>é“¾æ¥é¢„æµ‹ï¼ˆ3 ç§ç®—æ³•ï¼‰</h3><p>é¢„æµ‹å›¾ä¸­ç¼ºå¤±æˆ–æœªæ¥çš„è¿æ¥ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>SEAL</strong></td><td><a href=https://arxiv.org/abs/1802.09691>Zhang & Chen, 2018</a></td><td>å­å›¾æå–å’Œæ ‡æ³¨</td></tr><tr><td><strong>P-GNN</strong></td><td><a href=http://proceedings.mlr.press/v97/you19b/you19b.pdf>You et al., 2019</a></td><td>ä½ç½®æ„ŸçŸ¥ GNN</td></tr><tr><td><strong>GATNE</strong></td><td><a href=https://arxiv.org/abs/1905.01669>Cen et al., 2019</a></td><td>å±æ€§å¤šå…ƒå¼‚æ„ç½‘ç»œåµŒå…¥</td></tr></tbody></table><h3 id=æ¬ºè¯ˆæ£€æµ‹2-ç§ç®—æ³•>æ¬ºè¯ˆæ£€æµ‹ï¼ˆ2 ç§ç®—æ³•ï¼‰</h3><p>æ£€æµ‹å›¾ä¸­çš„å¼‚å¸¸èŠ‚ç‚¹ï¼ˆä¾‹å¦‚æ¬ºè¯ˆè´¦æˆ·ï¼‰ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>CARE-GNN</strong></td><td><a href=https://arxiv.org/abs/2008.08692>Dou et al., 2020</a></td><td>æŠ—ä¼ªè£… GNN</td></tr><tr><td><strong>BGNN</strong></td><td><a href=https://arxiv.org/abs/2101.08543>Zheng et al., 2021</a></td><td>äºŒéƒ¨å›¾ç¥ç»ç½‘ç»œ</td></tr></tbody></table><h3 id=åå¤„ç†1-ç§ç®—æ³•>åå¤„ç†ï¼ˆ1 ç§ç®—æ³•ï¼‰</h3><p>é€šè¿‡æ ‡ç­¾ä¼ æ’­æ”¹è¿›é¢„æµ‹ã€‚</p><table><thead><tr><th>ç®—æ³•</th><th>è®ºæ–‡</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>C&S</strong></td><td><a href=https://arxiv.org/abs/2010.13993>Huang et al., 2020</a></td><td>æ ¡æ­£ä¸å¹³æ»‘ï¼ˆé¢„æµ‹ä¼˜åŒ–ï¼‰</td></tr></tbody></table><h2 id=ä½¿ç”¨ç¤ºä¾‹>ä½¿ç”¨ç¤ºä¾‹</h2><h3 id=ç¤ºä¾‹-1ä½¿ç”¨-dgi-è¿›è¡ŒèŠ‚ç‚¹åµŒå…¥>ç¤ºä¾‹ 1ï¼šä½¿ç”¨ DGI è¿›è¡ŒèŠ‚ç‚¹åµŒå…¥</h3><p>ä½¿ç”¨æ·±åº¦å›¾ä¿¡æ¯æœ€å¤§åŒ–ï¼ˆDGIï¼‰åœ¨ Cora æ•°æ®é›†ä¸Šè¿›è¡Œæ— ç›‘ç£èŠ‚ç‚¹åµŒå…¥ã€‚</p><h4 id=æ­¥éª¤-1å¯¼å…¥æ•°æ®é›†å¦‚éœ€>æ­¥éª¤ 1ï¼šå¯¼å…¥æ•°æ®é›†ï¼ˆå¦‚éœ€ï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.utils.dgl2hugegraph_utils</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>import_graph_from_dgl</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä» DGL å¯¼å…¥ Cora æ•°æ®é›†åˆ° HugeGraph</span>
</span></span><span style=display:flex><span><span style=color:#000>import_graph_from_dgl</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;cora&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h4 id=æ­¥éª¤-2è½¬æ¢å›¾æ•°æ®>æ­¥éª¤ 2ï¼šè½¬æ¢å›¾æ•°æ®</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.data.hugegraph2dgl</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>HugeGraph2DGL</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å°† HugeGraph æ•°æ®è½¬æ¢ä¸º DGL æ ¼å¼</span>
</span></span><span style=display:flex><span><span style=color:#000>hg2d</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HugeGraph2DGL</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hg2d</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>convert_graph</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vertex_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;CORA_vertex&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edge_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;CORA_edge&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h4 id=æ­¥éª¤-3åˆå§‹åŒ–æ¨¡å‹>æ­¥éª¤ 3ï¼šåˆå§‹åŒ–æ¨¡å‹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.models.dgi</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>DGI</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆ›å»º DGI æ¨¡å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>DGI</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n_in_feats</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;feat&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>])</span>
</span></span></code></pre></div><h4 id=æ­¥éª¤-4è®­ç»ƒå¹¶ç”ŸæˆåµŒå…¥>æ­¥éª¤ 4ï¼šè®­ç»ƒå¹¶ç”ŸæˆåµŒå…¥</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.tasks.node_embed</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>NodeEmbed</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®­ç»ƒæ¨¡å‹å¹¶ç”ŸæˆèŠ‚ç‚¹åµŒå…¥</span>
</span></span><span style=display:flex><span><span style=color:#000>node_embed_task</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>NodeEmbed</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>model</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>embedded_graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>node_embed_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>train_and_embed</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>add_self_loop</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>True</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_epochs</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>300</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#000>patience</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h4 id=æ­¥éª¤-5ä¸‹æ¸¸ä»»åŠ¡èŠ‚ç‚¹åˆ†ç±»>æ­¥éª¤ 5ï¼šä¸‹æ¸¸ä»»åŠ¡ï¼ˆèŠ‚ç‚¹åˆ†ç±»ï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.models.mlp</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>MLPClassifier</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.tasks.node_classify</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>NodeClassify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä½¿ç”¨åµŒå…¥è¿›è¡ŒèŠ‚ç‚¹åˆ†ç±»</span>
</span></span><span style=display:flex><span><span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>MLPClassifier</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_in_feat</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>embedded_graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;feat&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_out_feat</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>embedded_graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>unique</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>node_clf_task</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>NodeClassify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>embedded_graph</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>model</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>node_clf_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>train</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lr</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1e-3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>n_epochs</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>400</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>patience</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>40</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node_clf_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>evaluate</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#39;accuracy&#39;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.82</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;loss&#39;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.5714246034622192</span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>å®Œæ•´ç¤ºä¾‹</strong>ï¼šå‚è§ <a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-ml/src/hugegraph_ml/examples/dgi_example.py>dgi_example.py</a></p><h3 id=ç¤ºä¾‹-2ä½¿ç”¨-grand-è¿›è¡ŒèŠ‚ç‚¹åˆ†ç±»>ç¤ºä¾‹ 2ï¼šä½¿ç”¨ GRAND è¿›è¡ŒèŠ‚ç‚¹åˆ†ç±»</h3><p>ä½¿ç”¨ GRAND æ¨¡å‹ç›´æ¥å¯¹èŠ‚ç‚¹è¿›è¡Œåˆ†ç±»ï¼ˆæ— éœ€å•ç‹¬çš„åµŒå…¥æ­¥éª¤ï¼‰ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.data.hugegraph2dgl</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>HugeGraph2DGL</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.models.grand</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>GRAND</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.tasks.node_classify</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>NodeClassify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åŠ è½½å›¾</span>
</span></span><span style=display:flex><span><span style=color:#000>hg2d</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HugeGraph2DGL</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hg2d</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>convert_graph</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vertex_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;CORA_vertex&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edge_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;CORA_edge&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ– GRAND æ¨¡å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>model</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>GRAND</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_in_feats</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;feat&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#000>n_out_feats</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ndata</span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;label&#34;</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>unique</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>shape</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è®­ç»ƒå’Œè¯„ä¼°</span>
</span></span><span style=display:flex><span><span style=color:#000>node_clf_task</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>NodeClassify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>model</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>model</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>node_clf_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>train</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lr</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1e-2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>n_epochs</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1500</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>patience</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>100</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node_clf_task</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>evaluate</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><p><strong>å®Œæ•´ç¤ºä¾‹</strong>ï¼šå‚è§ <a href=https://github.com/apache/incubator-hugegraph-ai/blob/main/hugegraph-ml/src/hugegraph_ml/examples/grand_example.py>grand_example.py</a></p><h2 id=æ ¸å¿ƒç»„ä»¶>æ ¸å¿ƒç»„ä»¶</h2><h3 id=hugegraph2dgl-è½¬æ¢å™¨>HugeGraph2DGL è½¬æ¢å™¨</h3><p>æ— ç¼å°† HugeGraph æ•°æ®è½¬æ¢ä¸º DGL å›¾æ ¼å¼ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_ml.data.hugegraph2dgl</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>HugeGraph2DGL</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>hg2d</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HugeGraph2DGL</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hg2d</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>convert_graph</span><span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>    <span style=color:#000>vertex_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span>      <span style=color:#8f5902;font-style:italic># è¦æå–çš„é¡¶ç‚¹æ ‡ç­¾</span>
</span></span><span style=display:flex><span>    <span style=color:#000>edge_label</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#000;font-weight:700>,</span>         <span style=color:#8f5902;font-style:italic># è¦æå–çš„è¾¹æ ‡ç­¾</span>
</span></span><span style=display:flex><span>    <span style=color:#000>directed</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>False</span>              <span style=color:#8f5902;font-style:italic># å›¾çš„æ–¹å‘æ€§</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h3 id=ä»»åŠ¡æŠ½è±¡>ä»»åŠ¡æŠ½è±¡</h3><p>ç”¨äºå¸¸è§ ML å·¥ä½œæµçš„å¯å¤ç”¨ä»»åŠ¡å¯¹è±¡ï¼š</p><table><thead><tr><th>ä»»åŠ¡</th><th>ç±»</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>èŠ‚ç‚¹åµŒå…¥</td><td><code>NodeEmbed</code></td><td>ç”Ÿæˆæ— ç›‘ç£èŠ‚ç‚¹åµŒå…¥</td></tr><tr><td>èŠ‚ç‚¹åˆ†ç±»</td><td><code>NodeClassify</code></td><td>é¢„æµ‹èŠ‚ç‚¹æ ‡ç­¾</td></tr><tr><td>å›¾åˆ†ç±»</td><td><code>GraphClassify</code></td><td>é¢„æµ‹å›¾çº§æ ‡ç­¾</td></tr><tr><td>é“¾æ¥é¢„æµ‹</td><td><code>LinkPredict</code></td><td>é¢„æµ‹ç¼ºå¤±è¾¹</td></tr></tbody></table><h2 id=æœ€ä½³å®è·µ>æœ€ä½³å®è·µ</h2><ol><li><strong>ä»å°æ•°æ®é›†å¼€å§‹</strong>ï¼šåœ¨æ‰©å±•ä¹‹å‰å…ˆåœ¨å°å›¾ï¼ˆä¾‹å¦‚ Coraã€Citeseerï¼‰ä¸Šæµ‹è¯•æ‚¨çš„æµç¨‹</li><li><strong>ä½¿ç”¨æ—©åœ</strong>ï¼šè®¾ç½® <code>patience</code> å‚æ•°ä»¥é¿å…è¿‡æ‹Ÿåˆ</li><li><strong>è°ƒæ•´è¶…å‚æ•°</strong>ï¼šæ ¹æ®æ•°æ®é›†å¤§å°è°ƒæ•´å­¦ä¹ ç‡ã€éšè—ç»´åº¦å’Œå‘¨æœŸæ•°</li><li><strong>ç›‘æ§ GPU å†…å­˜</strong>ï¼šå¤§å›¾å¯èƒ½éœ€è¦æ‰¹é‡è®­ç»ƒï¼ˆä¾‹å¦‚ Cluster-GCNï¼‰</li><li><strong>éªŒè¯ Schema</strong>ï¼šç¡®ä¿é¡¶ç‚¹/è¾¹æ ‡ç­¾ä¸æ‚¨çš„ HugeGraph schema åŒ¹é…</li></ol><h2 id=æ•…éšœæ’é™¤>æ•…éšœæ’é™¤</h2><table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>è¿æ¥ HugeGraph &ldquo;Connection refused&rdquo;</td><td>éªŒè¯æœåŠ¡å™¨æ˜¯å¦åœ¨ 8080 ç«¯å£è¿è¡Œ</td></tr><tr><td>CUDA å†…å­˜ä¸è¶³</td><td>å‡å°‘æ‰¹å¤§å°æˆ–ä½¿ç”¨ä»… CPU æ¨¡å¼</td></tr><tr><td>æ¨¡å‹æ”¶æ•›é—®é¢˜</td><td>å°è¯•ä¸åŒçš„å­¦ä¹ ç‡ï¼ˆ1e-2ã€1e-3ã€1e-4ï¼‰</td></tr><tr><td>DGL çš„ ImportError</td><td>è¿è¡Œ <code>uv sync</code> é‡æ–°å®‰è£…ä¾èµ–</td></tr></tbody></table><h2 id=è´¡çŒ®>è´¡çŒ®</h2><p>æ·»åŠ æ–°ç®—æ³•ï¼š</p><ol><li>åœ¨ <code>src/hugegraph_ml/models/your_model.py</code> åˆ›å»ºæ¨¡å‹æ–‡ä»¶</li><li>ç»§æ‰¿åŸºç¡€æ¨¡å‹ç±»å¹¶å®ç° <code>forward()</code> æ–¹æ³•</li><li>åœ¨ <code>src/hugegraph_ml/examples/</code> æ·»åŠ ç¤ºä¾‹è„šæœ¬</li><li>æ›´æ–°æ­¤æ–‡æ¡£å¹¶æ·»åŠ ç®—æ³•è¯¦æƒ…</li></ol><h2 id=å¦è§>å¦è§</h2><ul><li><a href=../_index.md>HugeGraph-AI æ¦‚è¿°</a> - å®Œæ•´ AI ç”Ÿæ€ç³»ç»Ÿ</li><li><a href=./hugegraph-llm.md>HugeGraph-LLM</a> - RAG å’ŒçŸ¥è¯†å›¾è°±æ„å»º</li><li><a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-ml>GitHub ä»“åº“</a> - æºä»£ç å’Œç¤ºä¾‹</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-bb10fc095f5061d789104547f7246a67>3.3 - GraphRAG UI Details</h1><blockquote><p>æ¥ç»­<a href=../>ä¸»æ–‡æ¡£</a>ä»‹ç»åŸºç¡€ UI åŠŸèƒ½åŠè¯¦æƒ…ï¼Œæ¬¢è¿éšæ—¶æ›´æ–°å’Œæ”¹è¿›ï¼Œè°¢è°¢</p></blockquote><h1 id=1-é¡¹ç›®æ ¸å¿ƒé€»è¾‘>1. é¡¹ç›®æ ¸å¿ƒé€»è¾‘</h1><h2 id=æ„å»º-rag-ç´¢å¼•èŒè´£>æ„å»º RAG ç´¢å¼•èŒè´£ï¼š</h2><ul><li>æ–‡æœ¬åˆ†å‰²å’Œå‘é‡åŒ–</li><li>ä»æ–‡æœ¬ä¸­æå–å›¾ï¼ˆæ„å»ºçŸ¥è¯†å›¾è°±ï¼‰å¹¶å¯¹é¡¶ç‚¹è¿›è¡Œå‘é‡åŒ–</li></ul><h2 id=graphrag-å’Œç”¨æˆ·åŠŸèƒ½èŒè´£>(Graph)RAG å’Œç”¨æˆ·åŠŸèƒ½èŒè´£ï¼š</h2><ul><li>æ ¹æ®æŸ¥è¯¢ä»æ„å»ºçš„çŸ¥è¯†å›¾è°±å’Œå‘é‡æ•°æ®åº“ä¸­æ£€ç´¢ç›¸å…³å†…å®¹ï¼Œç”¨äºè¡¥å……æç¤ºè¯ã€‚</li></ul><h1 id=2-å¤„ç†æµç¨‹æ„å»º-rag-ç´¢å¼•>2. ï¼ˆå¤„ç†æµç¨‹ï¼‰æ„å»º RAG ç´¢å¼•</h1><p>ä»æ–‡æœ¬æ„å»ºçŸ¥è¯†å›¾è°±ã€åˆ†å—å‘é‡å’Œå›¾é¡¶ç‚¹å‘é‡ã€‚</p><p><img src=https://github.com/user-attachments/assets/f3366d46-2e31-4638-94c4-7214951ef77a alt=image></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph TD;
</span></span><span style=display:flex><span>    A[åŸå§‹æ–‡æœ¬] --&gt; B[æ–‡æœ¬åˆ†å‰²]
</span></span><span style=display:flex><span>    B --&gt; C[å‘é‡åŒ–]
</span></span><span style=display:flex><span>    C --&gt; D[å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    A --&gt; F[æ–‡æœ¬åˆ†å‰²]
</span></span><span style=display:flex><span>    F --&gt; G[LLM åŸºäº schema å’Œåˆ†å‰²åçš„æ–‡æœ¬æå–å›¾]
</span></span><span style=display:flex><span>    G --&gt; H[å°†å›¾å­˜å‚¨åˆ°å›¾æ•°æ®åº“ï¼Œ\nè‡ªåŠ¨å¯¹é¡¶ç‚¹è¿›è¡Œå‘é‡åŒ–\nå¹¶å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    I[ä»å›¾æ•°æ®åº“æ£€ç´¢é¡¶ç‚¹] --&gt; J[å¯¹é¡¶ç‚¹è¿›è¡Œå‘é‡åŒ–å¹¶å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“\næ³¨æ„ï¼šå¢é‡æ›´æ–°]
</span></span></code></pre></div><h3 id=å››ä¸ªè¾“å…¥å­—æ®µ>å››ä¸ªè¾“å…¥å­—æ®µï¼š</h3><ul><li><strong>æ–‡æ¡£ï¼š</strong> è¾“å…¥æ–‡æœ¬</li><li><strong>Schemaï¼š</strong> å›¾çš„ schemaï¼Œå¯ä»¥ä»¥ JSON æ ¼å¼çš„ schema æä¾›ï¼Œæˆ–æä¾›å›¾åç§°ï¼ˆå¦‚æœæ•°æ®åº“ä¸­å·²å­˜åœ¨ï¼‰ã€‚</li><li><strong>å›¾æå–æç¤ºè¯å¤´éƒ¨ï¼š</strong> æç¤ºè¯çš„å¤´éƒ¨</li><li><strong>è¾“å‡ºï¼š</strong> æ˜¾ç¤ºç»“æœ</li></ul><h3 id=æŒ‰é’®>æŒ‰é’®ï¼š</h3><ul><li><p><strong>è·å– RAG ä¿¡æ¯</strong></p><ul><li><strong>è·å–å‘é‡ç´¢å¼•ä¿¡æ¯ï¼š</strong> æ£€ç´¢å‘é‡ç´¢å¼•ä¿¡æ¯</li><li><strong>è·å–å›¾ç´¢å¼•ä¿¡æ¯ï¼š</strong> æ£€ç´¢å›¾ç´¢å¼•ä¿¡æ¯</li></ul></li><li><p><strong>æ¸…é™¤ RAG æ•°æ®</strong></p><ul><li><strong>æ¸…é™¤åˆ†å—å‘é‡ç´¢å¼•ï¼š</strong> æ¸…é™¤åˆ†å—å‘é‡</li><li><strong>æ¸…é™¤å›¾é¡¶ç‚¹å‘é‡ç´¢å¼•ï¼š</strong> æ¸…é™¤å›¾é¡¶ç‚¹å‘é‡</li><li><strong>æ¸…é™¤å›¾æ•°æ®ï¼š</strong> æ¸…é™¤å›¾æ•°æ®</li></ul></li><li><p><strong>å¯¼å…¥åˆ°å‘é‡ï¼š</strong> å°†æ–‡æ¡£ä¸­çš„æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡ï¼ˆéœ€è¦å…ˆå¯¹æ–‡æœ¬è¿›è¡Œåˆ†å—ï¼Œç„¶åå°†åˆ†å—è½¬æ¢ä¸ºå‘é‡ï¼‰</p></li><li><p><strong>æå–å›¾æ•°æ® (1)ï¼š</strong> åŸºäº Schemaï¼Œä½¿ç”¨å›¾æå–æç¤ºè¯å¤´éƒ¨å’Œåˆ†å—å†…å®¹ä½œä¸ºæç¤ºè¯ï¼Œä»æ–‡æ¡£ä¸­æå–å›¾æ•°æ®</p></li><li><p><strong>åŠ è½½åˆ°å›¾æ•°æ®åº“ (2)ï¼š</strong> å°†æå–çš„å›¾æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ï¼ˆè‡ªåŠ¨è°ƒç”¨æ›´æ–°é¡¶ç‚¹åµŒå…¥ä»¥å°†å‘é‡å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ï¼‰</p></li><li><p><strong>æ›´æ–°é¡¶ç‚¹åµŒå…¥ï¼š</strong> å°†å›¾é¡¶ç‚¹è½¬æ¢ä¸ºå‘é‡</p></li></ul><h3 id=æ‰§è¡Œæµç¨‹>æ‰§è¡Œæµç¨‹ï¼š</h3><ol><li>åœ¨<strong>æ–‡æ¡£</strong>å­—æ®µä¸­è¾“å…¥æ–‡æœ¬ã€‚</li><li>ç‚¹å‡»<strong>å¯¼å…¥åˆ°å‘é‡</strong>æŒ‰é’®ï¼Œå¯¹æ–‡æœ¬è¿›è¡Œåˆ†å‰²å’Œå‘é‡åŒ–ï¼Œå­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ã€‚</li><li>åœ¨ Schema å­—æ®µä¸­è¾“å…¥å›¾çš„ <strong>Schema</strong>ã€‚</li><li>ç‚¹å‡»<strong>æå–å›¾æ•°æ® (1)</strong> æŒ‰é’®ï¼Œå°†æ–‡æœ¬æå–ä¸ºå›¾ã€‚</li><li>ç‚¹å‡»<strong>åŠ è½½åˆ°å›¾æ•°æ®åº“ (2)</strong> æŒ‰é’®ï¼Œå°†æå–çš„å›¾å­˜å‚¨åˆ°å›¾æ•°æ®åº“ï¼ˆè¿™ä¼šè‡ªåŠ¨è°ƒç”¨<strong>æ›´æ–°é¡¶ç‚¹åµŒå…¥</strong>ä»¥å°†å‘é‡å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ï¼‰ã€‚</li><li>ç‚¹å‡»<strong>æ›´æ–°é¡¶ç‚¹åµŒå…¥</strong>æŒ‰é’®ï¼Œå°†å›¾é¡¶ç‚¹å‘é‡åŒ–å¹¶å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ã€‚</li></ol><h1 id=3-å¤„ç†æµç¨‹graphrag-å’Œç”¨æˆ·åŠŸèƒ½>3. ï¼ˆå¤„ç†æµç¨‹ï¼‰(Graph)RAG å’Œç”¨æˆ·åŠŸèƒ½</h1><p>å‰ä¸€ä¸ªæ¨¡å—ä¸­çš„<strong>å¯¼å…¥åˆ°å‘é‡</strong>æŒ‰é’®å°†æ–‡æœ¬ï¼ˆåˆ†å—ï¼‰è½¬æ¢ä¸ºå‘é‡ï¼Œ<strong>æ›´æ–°é¡¶ç‚¹åµŒå…¥</strong>æŒ‰é’®å°†å›¾é¡¶ç‚¹è½¬æ¢ä¸ºå‘é‡ã€‚è¿™äº›å‘é‡åˆ†åˆ«å­˜å‚¨ï¼Œç”¨äºåœ¨æœ¬æ¨¡å—ä¸­è¡¥å……æŸ¥è¯¢ï¼ˆç­”æ¡ˆç”Ÿæˆï¼‰çš„ä¸Šä¸‹æ–‡ã€‚æ¢å¥è¯è¯´ï¼Œå‰ä¸€ä¸ªæ¨¡å—ä¸º RAG å‡†å¤‡æ•°æ®ï¼ˆå‘é‡åŒ–ï¼‰ï¼Œè€Œæœ¬æ¨¡å—æ‰§è¡Œ RAGã€‚</p><p>æœ¬æ¨¡å—åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><strong>HugeGraph RAG æŸ¥è¯¢</strong></li><li><strong>ï¼ˆæ‰¹é‡ï¼‰å›æµ‹</strong></li></ul><p>ç¬¬ä¸€éƒ¨åˆ†å¤„ç†å•ä¸ªæŸ¥è¯¢ï¼Œç¬¬äºŒéƒ¨åˆ†åŒæ—¶å¤„ç†å¤šä¸ªæŸ¥è¯¢ã€‚ä»¥ä¸‹æ˜¯ç¬¬ä¸€éƒ¨åˆ†çš„è¯´æ˜ã€‚</p><p><img src=https://github.com/user-attachments/assets/33698062-e46b-4757-8b5e-93e8f10eae65 alt=image></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph TD;
</span></span><span style=display:flex><span>    A[é—®é¢˜] --&gt; B[å°†é—®é¢˜å‘é‡åŒ–å¹¶åœ¨å‘é‡æ•°æ®åº“ä¸­æœç´¢æœ€ç›¸ä¼¼çš„åˆ†å—]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    A --&gt; F[ä½¿ç”¨ LLM æå–å…³é”®è¯]
</span></span><span style=display:flex><span>    F --&gt; G[åœ¨å›¾æ•°æ®åº“ä¸­ä½¿ç”¨å…³é”®è¯ç²¾ç¡®åŒ¹é…é¡¶ç‚¹ï¼›\nåœ¨å‘é‡æ•°æ®åº“ä¸­æ‰§è¡Œæ¨¡ç³ŠåŒ¹é…ï¼ˆå›¾é¡¶ç‚¹ï¼‰]
</span></span><span style=display:flex><span>    G --&gt; H[ä½¿ç”¨åŒ¹é…çš„é¡¶ç‚¹å’ŒæŸ¥è¯¢é€šè¿‡ LLM ç”Ÿæˆ Gremlin æŸ¥è¯¢]
</span></span><span style=display:flex><span>    H --&gt; I[æ‰§è¡Œ Gremlin æŸ¥è¯¢ï¼›å¦‚æœæˆåŠŸåˆ™å®Œæˆï¼›å¦‚æœå¤±è´¥åˆ™å›é€€åˆ° BFS]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    B --&gt; J[å¯¹ç»“æœæ’åº]
</span></span><span style=display:flex><span>    I --&gt; J
</span></span><span style=display:flex><span>    J --&gt; K[ç”Ÿæˆç­”æ¡ˆ]
</span></span></code></pre></div><h3 id=è¾“å…¥å­—æ®µ>è¾“å…¥å­—æ®µï¼š</h3><ul><li><strong>é—®é¢˜ï¼š</strong> è¾“å…¥æŸ¥è¯¢</li><li><strong>æŸ¥è¯¢æç¤ºè¯ï¼š</strong> ç”¨äºå‘ LLM æå‡ºæœ€ç»ˆé—®é¢˜çš„æç¤ºè¯æ¨¡æ¿</li><li><strong>å…³é”®è¯æå–æç¤ºè¯ï¼š</strong> ç”¨äºä»é—®é¢˜ä¸­æå–å…³é”®è¯çš„æç¤ºè¯æ¨¡æ¿</li><li><strong>æ¨¡æ¿æ•°é‡ï¼š</strong> &lt; 0 è¡¨ç¤ºç¦ç”¨ text2gqlï¼›= 0 è¡¨ç¤ºä¸ä½¿ç”¨æ¨¡æ¿ï¼ˆé›¶æ ·æœ¬ï¼‰ï¼›> 0 è¡¨ç¤ºä½¿ç”¨æŒ‡å®šæ•°é‡çš„æ¨¡æ¿</li></ul><h3 id=æŸ¥è¯¢èŒƒå›´é€‰æ‹©>æŸ¥è¯¢èŒƒå›´é€‰æ‹©ï¼š</h3><ul><li><strong>åŸºç¡€ LLM ç­”æ¡ˆï¼š</strong> ä¸ä½¿ç”¨ RAG åŠŸèƒ½</li><li><strong>ä»…å‘é‡ç­”æ¡ˆï¼š</strong> ä»…ä½¿ç”¨åŸºäºå‘é‡çš„æ£€ç´¢ï¼ˆåœ¨å‘é‡æ•°æ®åº“ä¸­æŸ¥è¯¢åˆ†å—å‘é‡ï¼‰</li><li><strong>ä»…å›¾ç­”æ¡ˆï¼š</strong> ä»…ä½¿ç”¨åŸºäºå›¾çš„æ£€ç´¢ï¼ˆåœ¨å‘é‡æ•°æ®åº“ä¸­æŸ¥è¯¢å›¾é¡¶ç‚¹å‘é‡å’Œå›¾æ•°æ®åº“ï¼‰</li><li><strong>å›¾-å‘é‡ç­”æ¡ˆï¼š</strong> åŒæ—¶ä½¿ç”¨åŸºäºå›¾å’ŒåŸºäºå‘é‡çš„æ£€ç´¢</li></ul><p><img src=https://github.com/user-attachments/assets/26641e09-249f-4b3a-8013-16dc9383d333 alt=image></p><h3 id=æ‰§è¡Œæµç¨‹-1>æ‰§è¡Œæµç¨‹ï¼š</h3><h4 id=ä»…å›¾ç­”æ¡ˆ><strong>ä»…å›¾ç­”æ¡ˆï¼š</strong></h4><ul><li>ä½¿ç”¨<strong>å…³é”®è¯æå–æç¤ºè¯</strong>ä»<strong>é—®é¢˜</strong>ä¸­æå–å…³é”®è¯ã€‚</li></ul><p><img src=https://github.com/user-attachments/assets/b49e269f-eaec-40b1-8d8f-9e409821d75d alt=image></p><ul><li><p>ä½¿ç”¨æå–çš„å…³é”®è¯ï¼š</p><ul><li>é¦–å…ˆï¼Œåœ¨å›¾æ•°æ®åº“ä¸­è¿›è¡Œç²¾ç¡®åŒ¹é…ã€‚</li><li>å¦‚æœæœªæ‰¾åˆ°åŒ¹é…ï¼Œåœ¨å‘é‡æ•°æ®åº“ï¼ˆå›¾é¡¶ç‚¹å‘é‡ï¼‰ä¸­è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ä»¥æ£€ç´¢ç›¸å…³é¡¶ç‚¹ã€‚</li></ul></li><li><p><strong>text2gqlï¼š</strong> è°ƒç”¨ text2gql ç›¸å…³æ¥å£ï¼Œä½¿ç”¨åŒ¹é…çš„é¡¶ç‚¹ä½œä¸ºå®ä½“ï¼Œå°†<strong>é—®é¢˜</strong>è½¬æ¢ä¸º Gremlin æŸ¥è¯¢å¹¶åœ¨å›¾æ•°æ®åº“ä¸­æ‰§è¡Œã€‚</p></li><li><p><strong>BFSï¼š</strong> å¦‚æœ text2gql å¤±è´¥ï¼ˆLLM ç”Ÿæˆçš„æŸ¥è¯¢å¯èƒ½æ— æ•ˆï¼‰ï¼Œå›é€€åˆ°ä½¿ç”¨é¢„å®šä¹‰çš„<strong>Gremlin æŸ¥è¯¢æ¨¡æ¿</strong>æ‰§è¡Œå›¾æŸ¥è¯¢ï¼ˆæœ¬è´¨ä¸Šæ˜¯ BFS éå†ï¼‰ã€‚</p></li></ul><h4 id=ä»…å‘é‡ç­”æ¡ˆ><strong>ä»…å‘é‡ç­”æ¡ˆï¼š</strong></h4><ul><li>å°†<strong>æŸ¥è¯¢</strong>è½¬æ¢ä¸ºå‘é‡ã€‚</li><li>åœ¨å‘é‡æ•°æ®åº“çš„<strong>åˆ†å—å‘é‡</strong>æ•°æ®é›†ä¸­æœç´¢æœ€ç›¸ä¼¼çš„å†…å®¹ã€‚</li></ul><h4 id=æ’åºå’Œç­”æ¡ˆç”Ÿæˆ><strong>æ’åºå’Œç­”æ¡ˆç”Ÿæˆï¼š</strong></h4><ul><li>æ‰§è¡Œæ£€ç´¢åï¼Œå¯¹æœç´¢ç»“æœè¿›è¡Œæ’åºä»¥æ„å»ºæœ€ç»ˆçš„<strong>æç¤ºè¯</strong>ã€‚</li><li>åŸºäºä¸åŒçš„æç¤ºè¯é…ç½®ç”Ÿæˆç­”æ¡ˆï¼Œå¹¶åœ¨ä¸åŒçš„è¾“å‡ºå­—æ®µä¸­æ˜¾ç¤ºï¼š<ul><li><strong>åŸºç¡€ LLM ç­”æ¡ˆ</strong></li><li><strong>ä»…å‘é‡ç­”æ¡ˆ</strong></li><li><strong>ä»…å›¾ç­”æ¡ˆ</strong></li><li><strong>å›¾-å‘é‡ç­”æ¡ˆ</strong></li></ul></li></ul><p><img src=https://github.com/user-attachments/assets/7d4496a3-d44c-4491-9463-8e93595dfa45 alt=image></p><h1 id=4-å¤„ç†æµç¨‹text2gremlin>4. ï¼ˆå¤„ç†æµç¨‹ï¼‰Text2Gremlin</h1><p>å°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸º Gremlin æŸ¥è¯¢ã€‚</p><p>æœ¬æ¨¡å—åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><strong>æ„å»ºå‘é‡æ¨¡æ¿ç´¢å¼•ï¼ˆå¯é€‰ï¼‰ï¼š</strong> å°†ç¤ºä¾‹æ–‡ä»¶ä¸­çš„æŸ¥è¯¢/gremlin å¯¹è¿›è¡Œå‘é‡åŒ–å¹¶å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ä¸­ï¼Œç”¨äºç”Ÿæˆ Gremlin æŸ¥è¯¢æ—¶å‚è€ƒã€‚</li><li><strong>è‡ªç„¶è¯­è¨€è½¬ Gremlinï¼š</strong> å°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸º Gremlin æŸ¥è¯¢ã€‚</li></ul><p>ç¬¬ä¸€éƒ¨åˆ†è¾ƒä¸ºç®€å•ï¼Œå› æ­¤é‡ç‚¹ä»‹ç»ç¬¬äºŒéƒ¨åˆ†ã€‚</p><p><img src=https://github.com/user-attachments/assets/fc678369-261d-49ea-a289-1ca6ade5ca55 alt=image></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>graph TD;
</span></span><span style=display:flex><span>    A[Gremlin å¯¹æ–‡ä»¶] --&gt; C[å‘é‡åŒ–æŸ¥è¯¢]
</span></span><span style=display:flex><span>    C --&gt; D[å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“]
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    F[è‡ªç„¶è¯­è¨€æŸ¥è¯¢] --&gt; G[åœ¨å‘é‡æ•°æ®åº“ä¸­æœç´¢æœ€ç›¸ä¼¼çš„æŸ¥è¯¢\nï¼ˆå¦‚æœå‘é‡æ•°æ®åº“ä¸­ä¸å­˜åœ¨ Gremlin å¯¹ï¼Œ\nå°†è‡ªåŠ¨ä½¿ç”¨é»˜è®¤æ–‡ä»¶è¿›è¡Œå‘é‡åŒ–ï¼‰\nå¹¶æ£€ç´¢å¯¹åº”çš„ Gremlin]
</span></span><span style=display:flex><span>    G --&gt; H[å°†åŒ¹é…çš„å¯¹æ·»åŠ åˆ°æç¤ºè¯ä¸­\nå¹¶ä½¿ç”¨ LLM ç”Ÿæˆä¸è‡ªç„¶è¯­è¨€æŸ¥è¯¢\nå¯¹åº”çš„ Gremlin]
</span></span></code></pre></div><h3 id=ç¬¬äºŒéƒ¨åˆ†çš„è¾“å…¥å­—æ®µ>ç¬¬äºŒéƒ¨åˆ†çš„è¾“å…¥å­—æ®µï¼š</h3><ul><li><strong>è‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼š</strong> è¾“å…¥è¦è½¬æ¢ä¸º Gremlin çš„è‡ªç„¶è¯­è¨€æ–‡æœ¬ã€‚</li></ul><p><img src=https://github.com/user-attachments/assets/d2a72f45-488c-4499-968b-a11816655ba0 alt=image></p><ul><li><strong>Schemaï¼š</strong> è¾“å…¥å›¾ schemaã€‚</li></ul><h3 id=æ‰§è¡Œæµç¨‹-2>æ‰§è¡Œæµç¨‹ï¼š</h3><ol><li>åœ¨<strong>è‡ªç„¶è¯­è¨€æŸ¥è¯¢</strong>å­—æ®µä¸­è¾“å…¥<strong>æŸ¥è¯¢</strong>ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰ã€‚</li><li>åœ¨<strong>Schema</strong>å­—æ®µä¸­è¾“å…¥<strong>å›¾ schema</strong>ã€‚</li><li>ç‚¹å‡»<strong>Text2Gremlin</strong>æŒ‰é’®ï¼Œæ‰§è¡Œä»¥ä¸‹é€»è¾‘ï¼š<ol><li>å°†<strong>æŸ¥è¯¢</strong>è½¬æ¢ä¸ºå‘é‡ã€‚</li><li>æ„å»º<strong>æç¤ºè¯</strong>ï¼š<ul><li>æ£€ç´¢<strong>å›¾ schema</strong>ã€‚</li><li>åœ¨å‘é‡æ•°æ®åº“ä¸­æŸ¥è¯¢ç¤ºä¾‹å‘é‡ï¼Œæ£€ç´¢ä¸è¾“å…¥æŸ¥è¯¢ç›¸ä¼¼çš„æŸ¥è¯¢-gremlin å¯¹ï¼ˆå¦‚æœå‘é‡æ•°æ®åº“ä¸­ç¼ºå°‘ç¤ºä¾‹ï¼Œå°†è‡ªåŠ¨ä½¿ç”¨<strong>resources</strong>æ–‡ä»¶å¤¹ä¸­çš„ç¤ºä¾‹è¿›è¡Œåˆå§‹åŒ–ï¼‰ã€‚</li></ul></li></ol></li></ol><p><img src=https://github.com/user-attachments/assets/fd150f87-27f8-48e5-8a55-319ec039b7e0 alt=image></p><pre><code>  - ä½¿ç”¨æ„å»ºçš„æç¤ºè¯ç”Ÿæˆ Gremlin æŸ¥è¯¢ã€‚
</code></pre><h1 id=5-å›¾å·¥å…·>5. å›¾å·¥å…·</h1><p>è¾“å…¥ Gremlin æŸ¥è¯¢ä»¥æ‰§è¡Œç›¸åº”æ“ä½œã€‚</p><h1 id=6-è¯­è¨€åˆ‡æ¢-v150>6. è¯­è¨€åˆ‡æ¢ (v1.5.0+)</h1><p>HugeGraph-LLM æ”¯æŒåŒè¯­æç¤ºè¯ï¼Œä»¥æé«˜è·¨è¯­è¨€çš„å‡†ç¡®æ€§ã€‚</p><h3 id=åœ¨è‹±æ–‡å’Œä¸­æ–‡ä¹‹é—´åˆ‡æ¢>åœ¨è‹±æ–‡å’Œä¸­æ–‡ä¹‹é—´åˆ‡æ¢</h3><p>ç³»ç»Ÿè¯­è¨€å½±å“ï¼š</p><ul><li><strong>ç³»ç»Ÿæç¤ºè¯</strong>ï¼šLLM ä½¿ç”¨çš„å†…éƒ¨æç¤ºè¯</li><li><strong>å…³é”®è¯æå–</strong>ï¼šç‰¹å®šè¯­è¨€çš„æå–é€»è¾‘</li><li><strong>ç­”æ¡ˆç”Ÿæˆ</strong>ï¼šå“åº”æ ¼å¼å’Œé£æ ¼</li></ul><h4 id=é…ç½®æ–¹æ³•ä¸€ç¯å¢ƒå˜é‡>é…ç½®æ–¹æ³•ä¸€ï¼šç¯å¢ƒå˜é‡</h4><p>ç¼–è¾‘æ‚¨çš„ <code>.env</code> æ–‡ä»¶ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è‹±æ–‡æç¤ºè¯ï¼ˆé»˜è®¤ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä¸­æ–‡æç¤ºè¯</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>CN
</span></span></code></pre></div><p>æ›´æ”¹è¯­è¨€è®¾ç½®åé‡å¯æœåŠ¡ã€‚</p><h4 id=é…ç½®æ–¹æ³•äºŒweb-uiåŠ¨æ€>é…ç½®æ–¹æ³•äºŒï¼šWeb UIï¼ˆåŠ¨æ€ï¼‰</h4><p>å¦‚æœæ‚¨çš„éƒ¨ç½²ä¸­å¯ç”¨ï¼Œä½¿ç”¨ Web UI ä¸­çš„è®¾ç½®é¢æ¿åˆ‡æ¢è¯­è¨€ï¼Œæ— éœ€é‡å¯ï¼š</p><ol><li>å¯¼èˆªåˆ°<strong>è®¾ç½®</strong>æˆ–<strong>é…ç½®</strong>é€‰é¡¹å¡</li><li>é€‰æ‹©<strong>è¯­è¨€</strong>ï¼š<code>EN</code> æˆ– <code>CN</code></li><li>ç‚¹å‡»<strong>ä¿å­˜</strong> - æ›´æ”¹ç«‹å³ç”Ÿæ•ˆ</li></ol><h4 id=ç‰¹å®šè¯­è¨€çš„è¡Œä¸º>ç‰¹å®šè¯­è¨€çš„è¡Œä¸º</h4><table><thead><tr><th>è¯­è¨€</th><th>å…³é”®è¯æå–</th><th>ç­”æ¡ˆé£æ ¼</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>EN</code></td><td>è‹±æ–‡ NLP æ¨¡å‹</td><td>ä¸“ä¸šã€ç®€æ´</td><td>å›½é™…ç”¨æˆ·ã€è‹±æ–‡æ–‡æ¡£</td></tr><tr><td><code>CN</code></td><td>ä¸­æ–‡ NLP æ¨¡å‹</td><td>è‡ªç„¶çš„ä¸­æ–‡è¡¨è¾¾</td><td>ä¸­æ–‡ç”¨æˆ·ã€ä¸­æ–‡æ–‡æ¡£</td></tr></tbody></table><blockquote><p>[!TIP]
å°† <code>LANGUAGE</code> è®¾ç½®ä¸æ‚¨çš„ä¸»è¦æ–‡æ¡£è¯­è¨€åŒ¹é…ï¼Œä»¥è·å¾—æœ€ä½³ RAG å‡†ç¡®æ€§ã€‚</p></blockquote><h3 id=rest-api-è¯­è¨€è¦†ç›–>REST API è¯­è¨€è¦†ç›–</h3><p>ä½¿ç”¨ REST API æ—¶ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯ä¸ªè¯·æ±‚æŒ‡å®šè‡ªå®šä¹‰æç¤ºè¯ï¼Œä»¥è¦†ç›–é»˜è®¤è¯­è¨€è®¾ç½®ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8001/rag <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;query&#34;: &#34;å‘Šè¯‰æˆ‘å…³äºé˜¿å°”Â·å¸•è¥¿è¯ºçš„ä¿¡æ¯&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;graph_only&#34;: true,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;keywords_extract_prompt&#34;: &#34;è¯·ä»ä»¥ä¸‹æ–‡æœ¬ä¸­æå–å…³é”®å®ä½“...&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;answer_prompt&#34;: &#34;è¯·æ ¹æ®ä»¥ä¸‹ä¸Šä¸‹æ–‡å›ç­”é—®é¢˜...&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }&#39;</span>
</span></span></code></pre></div><p>å®Œæ•´å‚æ•°è¯¦æƒ…è¯·å‚é˜… <a href=./rest-api.md>REST API å‚è€ƒ</a>ã€‚</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6cc3291f0d6d469d81467164d710a8f2>3.4 - é…ç½®å‚è€ƒ</h1><p>æœ¬æ–‡æ¡£æä¾› HugeGraph-LLM æ‰€æœ‰é…ç½®é€‰é¡¹çš„å®Œæ•´å‚è€ƒã€‚</p><h2 id=é…ç½®æ–‡ä»¶>é…ç½®æ–‡ä»¶</h2><ul><li><strong>ç¯å¢ƒæ–‡ä»¶</strong>ï¼š<code>.env</code>ï¼ˆä»æ¨¡æ¿åˆ›å»ºæˆ–è‡ªåŠ¨ç”Ÿæˆ)</li><li><strong>æç¤ºè¯é…ç½®</strong>ï¼š<code>src/hugegraph_llm/resources/demo/config_prompt.yaml</code></li></ul><blockquote><p>[!TIP]
è¿è¡Œ <code>python -m hugegraph_llm.config.generate --update</code> å¯è‡ªåŠ¨ç”Ÿæˆæˆ–æ›´æ–°å¸¦æœ‰é»˜è®¤å€¼çš„é…ç½®æ–‡ä»¶ã€‚</p></blockquote><h2 id=ç¯å¢ƒå˜é‡æ¦‚è§ˆ>ç¯å¢ƒå˜é‡æ¦‚è§ˆ</h2><h3 id=1-è¯­è¨€å’Œæ¨¡å‹ç±»å‹é€‰æ‹©>1. è¯­è¨€å’Œæ¨¡å‹ç±»å‹é€‰æ‹©</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æç¤ºè¯è¯­è¨€ï¼ˆå½±å“ç³»ç»Ÿæç¤ºè¯å’Œç”Ÿæˆæ–‡æœ¬ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN                     <span style=color:#8f5902;font-style:italic># é€‰é¡¹: EN | CN</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä¸åŒä»»åŠ¡çš„ LLM ç±»å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>CHAT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai           <span style=color:#8f5902;font-style:italic># å¯¹è¯/RAG: openai | litellm | ollama/local</span>
</span></span><span style=display:flex><span><span style=color:#000>EXTRACT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai        <span style=color:#8f5902;font-style:italic># å®ä½“æŠ½å–: openai | litellm | ollama/local</span>
</span></span><span style=display:flex><span><span style=color:#000>TEXT2GQL_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai       <span style=color:#8f5902;font-style:italic># æ–‡æœ¬è½¬ Gremlin: openai | litellm | ollama/local</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åµŒå…¥æ¨¡å‹ç±»å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>EMBEDDING_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai          <span style=color:#8f5902;font-style:italic># é€‰é¡¹: openai | litellm | ollama/local</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Reranker ç±»å‹ï¼ˆå¯é€‰ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>                 <span style=color:#8f5902;font-style:italic># é€‰é¡¹: cohere | siliconflow | (ç•™ç©ºè¡¨ç¤ºæ— )</span>
</span></span></code></pre></div><h3 id=2-openai-é…ç½®>2. OpenAI é…ç½®</h3><p>æ¯ä¸ª LLM ä»»åŠ¡ï¼ˆchatã€extractã€text2gqlï¼‰éƒ½æœ‰ç‹¬ç«‹é…ç½®ï¼š</p><h4 id=21-chat-llmrag-ç­”æ¡ˆç”Ÿæˆ>2.1 Chat LLMï¼ˆRAG ç­”æ¡ˆç”Ÿæˆï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OPENAI_CHAT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_CHAT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_CHAT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8192</span>        <span style=color:#8f5902;font-style:italic># å¯¹è¯å“åº”çš„æœ€å¤§ tokens</span>
</span></span></code></pre></div><h4 id=22-extract-llmå®ä½“å’Œå…³ç³»æŠ½å–>2.2 Extract LLMï¼ˆå®ä½“å’Œå…³ç³»æŠ½å–ï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OPENAI_EXTRACT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EXTRACT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EXTRACT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1024</span>     <span style=color:#8f5902;font-style:italic># æŠ½å–ä»»åŠ¡çš„æœ€å¤§ tokens</span>
</span></span></code></pre></div><h4 id=23-text2gql-llmè‡ªç„¶è¯­è¨€è½¬-gremlin>2.3 Text2GQL LLMï¼ˆè‡ªç„¶è¯­è¨€è½¬ Gremlinï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OPENAI_TEXT2GQL_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_TEXT2GQL_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_TEXT2GQL_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>    <span style=color:#8f5902;font-style:italic># æŸ¥è¯¢ç”Ÿæˆçš„æœ€å¤§ tokens</span>
</span></span></code></pre></div><h4 id=24-åµŒå…¥æ¨¡å‹>2.4 åµŒå…¥æ¨¡å‹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OPENAI_EMBEDDING_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EMBEDDING_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>text-embedding-3-small
</span></span></code></pre></div><blockquote><p>[!NOTE]
æ‚¨å¯ä»¥ä¸ºæ¯ä¸ªä»»åŠ¡ä½¿ç”¨ä¸åŒçš„ API å¯†é’¥/ç«¯ç‚¹ï¼Œä»¥ä¼˜åŒ–æˆæœ¬æˆ–ä½¿ç”¨ä¸“ç”¨æ¨¡å‹ã€‚</p></blockquote><h3 id=3-litellm-é…ç½®å¤šä¾›åº”å•†æ”¯æŒ>3. LiteLLM é…ç½®ï¼ˆå¤šä¾›åº”å•†æ”¯æŒï¼‰</h3><p>LiteLLM æ”¯æŒç»Ÿä¸€è®¿é—® 100 å¤šä¸ª LLM ä¾›åº”å•†ï¼ˆOpenAIã€Anthropicã€Googleã€Azure ç­‰ï¼‰ã€‚</p><h4 id=31-chat-llm>3.1 Chat LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000       <span style=color:#8f5902;font-style:italic># LiteLLM ä»£ç† URL</span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-key              <span style=color:#8f5902;font-style:italic># LiteLLM API å¯†é’¥</span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>anthropic/claude-3-5-sonnet-20241022
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8192</span>
</span></span></code></pre></div><h4 id=32-extract-llm>3.2 Extract LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>256</span>
</span></span></code></pre></div><h4 id=33-text2gql-llm>3.3 Text2GQL LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>
</span></span></code></pre></div><h4 id=34-åµŒå…¥æ¨¡å‹>3.4 åµŒå…¥æ¨¡å‹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/text-embedding-3-small
</span></span></code></pre></div><p><strong>æ¨¡å‹æ ¼å¼</strong>: <code>ä¾›åº”å•†/æ¨¡å‹åç§°</code></p><p>ç¤ºä¾‹ï¼š</p><ul><li><code>openai/gpt-4o-mini</code></li><li><code>anthropic/claude-3-5-sonnet-20241022</code></li><li><code>google/gemini-2.0-flash-exp</code></li><li><code>azure/gpt-4</code></li></ul><p>å®Œæ•´åˆ—è¡¨è¯·å‚é˜… <a href=https://docs.litellm.ai/docs/providers>LiteLLM Providers</a>ã€‚</p><h3 id=4-ollama-é…ç½®æœ¬åœ°éƒ¨ç½²>4. Ollama é…ç½®ï¼ˆæœ¬åœ°éƒ¨ç½²ï¼‰</h3><p>ä½¿ç”¨ Ollama è¿è¡Œæœ¬åœ° LLMï¼Œç¡®ä¿éšç§å’Œæˆæœ¬æ§åˆ¶ã€‚</p><h4 id=41-chat-llm>4.1 Chat LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>llama3.1:8b
</span></span></code></pre></div><h4 id=42-extract-llm>4.2 Extract LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>llama3.1:8b
</span></span></code></pre></div><h4 id=43-text2gql-llm>4.3 Text2GQL LLM</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>qwen2.5-coder:7b
</span></span></code></pre></div><h4 id=44-åµŒå…¥æ¨¡å‹>4.4 åµŒå…¥æ¨¡å‹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>nomic-embed-text
</span></span></code></pre></div><blockquote><p>[!TIP]
ä¸‹è½½æ¨¡å‹ï¼š<code>ollama pull llama3.1:8b</code> æˆ– <code>ollama pull qwen2.5-coder:7b</code></p></blockquote><h3 id=5-reranker-é…ç½®>5. Reranker é…ç½®</h3><p>Reranker é€šè¿‡æ ¹æ®ç›¸å…³æ€§é‡æ–°æ’åºæ£€ç´¢ç»“æœæ¥æé«˜ RAG å‡†ç¡®æ€§ã€‚</p><h4 id=51-cohere-reranker>5.1 Cohere Reranker</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>cohere
</span></span><span style=display:flex><span><span style=color:#000>COHERE_BASE_URL</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.cohere.com/v1/rerank
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>your-cohere-api-key
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>rerank-english-v3.0
</span></span></code></pre></div><p>å¯ç”¨æ¨¡å‹ï¼š</p><ul><li><code>rerank-english-v3.0</code>ï¼ˆè‹±æ–‡ï¼‰</li><li><code>rerank-multilingual-v3.0</code>ï¼ˆ100+ ç§è¯­è¨€ï¼‰</li></ul><h4 id=52-siliconflow-reranker>5.2 SiliconFlow Reranker</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>siliconflow
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>your-siliconflow-api-key
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>BAAI/bge-reranker-v2-m3
</span></span></code></pre></div><h3 id=6-hugegraph-è¿æ¥>6. HugeGraph è¿æ¥</h3><p>é…ç½®ä¸ HugeGraph æœåŠ¡å™¨å®ä¾‹çš„è¿æ¥ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æœåŠ¡å™¨è¿æ¥</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_IP</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8080</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_NAME</span><span style=color:#ce5c00;font-weight:700>=</span>hugegraph            <span style=color:#8f5902;font-style:italic># å›¾å®ä¾‹åç§°</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_USER</span><span style=color:#ce5c00;font-weight:700>=</span>admin                <span style=color:#8f5902;font-style:italic># ç”¨æˆ·å</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PWD</span><span style=color:#ce5c00;font-weight:700>=</span>admin-password        <span style=color:#8f5902;font-style:italic># å¯†ç </span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_SPACE</span><span style=color:#ce5c00;font-weight:700>=</span>                    <span style=color:#8f5902;font-style:italic># å›¾ç©ºé—´ï¼ˆå¯é€‰ï¼Œç”¨äºå¤šç§Ÿæˆ·ï¼‰</span>
</span></span></code></pre></div><h3 id=7-æŸ¥è¯¢å‚æ•°>7. æŸ¥è¯¢å‚æ•°</h3><p>æ§åˆ¶å›¾éå†è¡Œä¸ºå’Œç»“æœé™åˆ¶ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å›¾éå†é™åˆ¶</span>
</span></span><span style=display:flex><span><span style=color:#000>MAX_GRAPH_PATH</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>10</span>               <span style=color:#8f5902;font-style:italic># å›¾æŸ¥è¯¢çš„æœ€å¤§è·¯å¾„æ·±åº¦</span>
</span></span><span style=display:flex><span><span style=color:#000>MAX_GRAPH_ITEMS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span>              <span style=color:#8f5902;font-style:italic># ä»å›¾ä¸­æ£€ç´¢çš„æœ€å¤§é¡¹æ•°</span>
</span></span><span style=display:flex><span><span style=color:#000>EDGE_LIMIT_PRE_LABEL</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8</span>          <span style=color:#8f5902;font-style:italic># æ¯ä¸ªæ ‡ç­¾ç±»å‹çš„æœ€å¤§è¾¹æ•°</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å±æ€§è¿‡æ»¤</span>
</span></span><span style=display:flex><span><span style=color:#000>LIMIT_PROPERTY</span><span style=color:#ce5c00;font-weight:700>=</span>False            <span style=color:#8f5902;font-style:italic># é™åˆ¶ç»“æœä¸­çš„å±æ€§ï¼ˆTrue/Falseï¼‰</span>
</span></span></code></pre></div><h3 id=8-å‘é‡æœç´¢é…ç½®>8. å‘é‡æœç´¢é…ç½®</h3><p>é…ç½®å‘é‡ç›¸ä¼¼æ€§æœç´¢å‚æ•°ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å‘é‡æœç´¢é˜ˆå€¼</span>
</span></span><span style=display:flex><span><span style=color:#000>VECTOR_DIS_THRESHOLD</span><span style=color:#ce5c00;font-weight:700>=</span>0.9        <span style=color:#8f5902;font-style:italic># æœ€å°ä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆ0-1ï¼Œè¶Šé«˜è¶Šä¸¥æ ¼ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>TOPK_PER_KEYWORD</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1</span>              <span style=color:#8f5902;font-style:italic># æ¯ä¸ªæå–å…³é”®è¯çš„ Top-K ç»“æœ</span>
</span></span></code></pre></div><h3 id=9-rerank-é…ç½®>9. Rerank é…ç½®</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Rerank ç»“æœé™åˆ¶</span>
</span></span><span style=display:flex><span><span style=color:#000>TOPK_RETURN_RESULTS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>20</span>          <span style=color:#8f5902;font-style:italic># é‡æ’åºåçš„ top ç»“æœæ•°</span>
</span></span></code></pre></div><h2 id=é…ç½®ä¼˜å…ˆçº§>é…ç½®ä¼˜å…ˆçº§</h2><p>ç³»ç»ŸæŒ‰ä»¥ä¸‹é¡ºåºåŠ è½½é…ç½®ï¼ˆåé¢çš„æ¥æºè¦†ç›–å‰é¢çš„ï¼‰ï¼š</p><ol><li><strong>é»˜è®¤å€¼</strong>ï¼ˆåœ¨ <code>*_config.py</code> æ–‡ä»¶ä¸­ï¼‰</li><li><strong>ç¯å¢ƒå˜é‡</strong>ï¼ˆæ¥è‡ª <code>.env</code> æ–‡ä»¶ï¼‰</li><li><strong>è¿è¡Œæ—¶æ›´æ–°</strong>ï¼ˆé€šè¿‡ Web UI æˆ– API è°ƒç”¨ï¼‰</li></ol><h2 id=é…ç½®ç¤ºä¾‹>é…ç½®ç¤ºä¾‹</h2><h3 id=æœ€å°é…ç½®openai>æœ€å°é…ç½®ï¼ˆOpenAIï¼‰</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è¯­è¨€</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># LLM ç±»å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>CHAT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai
</span></span><span style=display:flex><span><span style=color:#000>EXTRACT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai
</span></span><span style=display:flex><span><span style=color:#000>TEXT2GQL_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai
</span></span><span style=display:flex><span><span style=color:#000>EMBEDDING_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>openai
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># OpenAI å‡­æ®ï¼ˆæ‰€æœ‰ä»»åŠ¡å…±ç”¨ä¸€ä¸ªå¯†é’¥ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.openai.com/v1
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-your-api-key-here
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>OPENAI_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>text-embedding-3-small
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># HugeGraph è¿æ¥</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_IP</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8080</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_NAME</span><span style=color:#ce5c00;font-weight:700>=</span>hugegraph
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_USER</span><span style=color:#ce5c00;font-weight:700>=</span>admin
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PWD</span><span style=color:#ce5c00;font-weight:700>=</span>admin
</span></span></code></pre></div><h3 id=ç”Ÿäº§ç¯å¢ƒé…ç½®litellm--reranker>ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ˆLiteLLM + Rerankerï¼‰</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åŒè¯­æ”¯æŒ</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># çµæ´»ä½¿ç”¨ LiteLLM</span>
</span></span><span style=display:flex><span><span style=color:#000>CHAT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>EXTRACT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>TEXT2GQL_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span><span style=color:#000>EMBEDDING_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>litellm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># LiteLLM ä»£ç†</span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-master-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>anthropic/claude-3-5-sonnet-20241022
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_CHAT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8192</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-master-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EXTRACT_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>256</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-master-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/gpt-4o-mini
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_TEXT2GQL_TOKENS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>4096</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_API_BASE</span><span style=color:#ce5c00;font-weight:700>=</span>http://localhost:4000
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>sk-litellm-master-key
</span></span><span style=display:flex><span><span style=color:#000>LITELLM_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>openai/text-embedding-3-small
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Cohere Reranker æé«˜å‡†ç¡®æ€§</span>
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>cohere
</span></span><span style=display:flex><span><span style=color:#000>COHERE_BASE_URL</span><span style=color:#ce5c00;font-weight:700>=</span>https://api.cohere.com/v1/rerank
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_API_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>your-cohere-key
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>rerank-multilingual-v3.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å¸¦è®¤è¯çš„ HugeGraph</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_IP</span><span style=color:#ce5c00;font-weight:700>=</span>prod-hugegraph.example.com
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8080</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_NAME</span><span style=color:#ce5c00;font-weight:700>=</span>production_graph
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_USER</span><span style=color:#ce5c00;font-weight:700>=</span>rag_user
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PWD</span><span style=color:#ce5c00;font-weight:700>=</span>secure-password
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_SPACE</span><span style=color:#ce5c00;font-weight:700>=</span>prod_space
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ä¼˜åŒ–çš„æŸ¥è¯¢å‚æ•°</span>
</span></span><span style=display:flex><span><span style=color:#000>MAX_GRAPH_PATH</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>15</span>
</span></span><span style=display:flex><span><span style=color:#000>MAX_GRAPH_ITEMS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>50</span>
</span></span><span style=display:flex><span><span style=color:#000>VECTOR_DIS_THRESHOLD</span><span style=color:#ce5c00;font-weight:700>=</span>0.85
</span></span><span style=display:flex><span><span style=color:#000>TOPK_RETURN_RESULTS</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>30</span>
</span></span></code></pre></div><h3 id=æœ¬åœ°ç¦»çº¿é…ç½®ollama>æœ¬åœ°/ç¦»çº¿é…ç½®ï¼ˆOllamaï¼‰</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># è¯­è¨€</span>
</span></span><span style=display:flex><span><span style=color:#000>LANGUAGE</span><span style=color:#ce5c00;font-weight:700>=</span>EN
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å…¨éƒ¨é€šè¿‡ Ollama ä½¿ç”¨æœ¬åœ°æ¨¡å‹</span>
</span></span><span style=display:flex><span><span style=color:#000>CHAT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>ollama/local
</span></span><span style=display:flex><span><span style=color:#000>EXTRACT_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>ollama/local
</span></span><span style=display:flex><span><span style=color:#000>TEXT2GQL_LLM_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>ollama/local
</span></span><span style=display:flex><span><span style=color:#000>EMBEDDING_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>ollama/local
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Ollama ç«¯ç‚¹</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_CHAT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>llama3.1:8b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EXTRACT_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>llama3.1:8b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_TEXT2GQL_LANGUAGE_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>qwen2.5-coder:7b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_HOST</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>11434</span>
</span></span><span style=display:flex><span><span style=color:#000>OLLAMA_EMBEDDING_MODEL</span><span style=color:#ce5c00;font-weight:700>=</span>nomic-embed-text
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># ç¦»çº¿ç¯å¢ƒä¸ä½¿ç”¨ reranker</span>
</span></span><span style=display:flex><span><span style=color:#000>RERANKER_TYPE</span><span style=color:#ce5c00;font-weight:700>=</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æœ¬åœ° HugeGraph</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_IP</span><span style=color:#ce5c00;font-weight:700>=</span>127.0.0.1
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>8080</span>
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_NAME</span><span style=color:#ce5c00;font-weight:700>=</span>hugegraph
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_USER</span><span style=color:#ce5c00;font-weight:700>=</span>admin
</span></span><span style=display:flex><span><span style=color:#000>GRAPH_PWD</span><span style=color:#ce5c00;font-weight:700>=</span>admin
</span></span></code></pre></div><h2 id=é…ç½®éªŒè¯>é…ç½®éªŒè¯</h2><p>ä¿®æ”¹ <code>.env</code> åï¼ŒéªŒè¯é…ç½®ï¼š</p><ol><li><strong>é€šè¿‡ Web UI</strong>ï¼šè®¿é—® <code>http://localhost:8001</code> å¹¶æ£€æŸ¥è®¾ç½®é¢æ¿</li><li><strong>é€šè¿‡ Python</strong>ï¼š</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>hugegraph_llm.config</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>settings</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>llm_config</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>settings</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>hugegraph_config</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><ol start=3><li><strong>é€šè¿‡ REST API</strong>ï¼š</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl http://localhost:8001/config
</span></span></code></pre></div><h2 id=æ•…éšœæ’é™¤>æ•…éšœæ’é™¤</h2><table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>&ldquo;API key not found&rdquo;</td><td>æ£€æŸ¥ <code>.env</code> ä¸­çš„ <code>*_API_KEY</code> æ˜¯å¦æ­£ç¡®è®¾ç½®</td></tr><tr><td>&ldquo;Connection refused&rdquo;</td><td>éªŒè¯ <code>GRAPH_IP</code> å’Œ <code>GRAPH_PORT</code> æ˜¯å¦æ­£ç¡®</td></tr><tr><td>&ldquo;Model not found&rdquo;</td><td>å¯¹äº Ollamaï¼šè¿è¡Œ <code>ollama pull &lt;æ¨¡å‹åç§°></code></td></tr><tr><td>&ldquo;Rate limit exceeded&rdquo;</td><td>å‡å°‘ <code>MAX_GRAPH_ITEMS</code> æˆ–ä½¿ç”¨ä¸åŒçš„ API å¯†é’¥</td></tr><tr><td>&ldquo;Embedding dimension mismatch&rdquo;</td><td>åˆ é™¤ç°æœ‰å‘é‡å¹¶ä½¿ç”¨æ­£ç¡®æ¨¡å‹é‡å»º</td></tr></tbody></table><h2 id=å¦è§>å¦è§</h2><ul><li><a href=./hugegraph-llm.md>HugeGraph-LLM æ¦‚è¿°</a></li><li><a href=./rest-api.md>REST API å‚è€ƒ</a></li><li><a href=./quick_start.md>å¿«é€Ÿå…¥é—¨æŒ‡å—</a></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-705186bd8a71dc04683f1f744e9d36b4>3.5 - REST API å‚è€ƒ</h1><p>HugeGraph-LLM æä¾› REST API ç«¯ç‚¹ï¼Œç”¨äºå°† RAG å’Œ Text2Gremlin åŠŸèƒ½é›†æˆåˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ã€‚</p><h2 id=åŸºç¡€-url>åŸºç¡€ URL</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>http://localhost:8001
</span></span></code></pre></div><p>å¯åŠ¨æœåŠ¡æ—¶æ›´æ”¹ä¸»æœº/ç«¯å£ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python -m hugegraph_llm.demo.rag_demo.app --host 127.0.0.1 --port <span style=color:#0000cf;font-weight:700>8001</span>
</span></span></code></pre></div><h2 id=è®¤è¯>è®¤è¯</h2><p>ç›®å‰ API æ”¯æŒå¯é€‰çš„åŸºäºä»¤ç‰Œçš„è®¤è¯ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åœ¨ .env ä¸­å¯ç”¨è®¤è¯</span>
</span></span><span style=display:flex><span><span style=color:#000>ENABLE_LOGIN</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span>
</span></span><span style=display:flex><span><span style=color:#000>USER_TOKEN</span><span style=color:#ce5c00;font-weight:700>=</span>your-user-token
</span></span><span style=display:flex><span><span style=color:#000>ADMIN_TOKEN</span><span style=color:#ce5c00;font-weight:700>=</span>your-admin-token
</span></span></code></pre></div><p>åœ¨è¯·æ±‚å¤´ä¸­ä¼ é€’ä»¤ç‰Œï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Authorization: Bearer &lt;token&gt;
</span></span></code></pre></div><hr><h2 id=rag-ç«¯ç‚¹>RAG ç«¯ç‚¹</h2><h3 id=1-å®Œæ•´-rag-æŸ¥è¯¢>1. å®Œæ•´ RAG æŸ¥è¯¢</h3><p><strong>POST</strong> <code>/rag</code></p><p>æ‰§è¡Œå®Œæ•´çš„ RAG å·¥ä½œæµï¼ŒåŒ…æ‹¬å…³é”®è¯æå–ã€å›¾æ£€ç´¢ã€å‘é‡æœç´¢ã€é‡æ’åºå’Œç­”æ¡ˆç”Ÿæˆã€‚</p><h4 id=è¯·æ±‚ä½“>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®²é˜¿å°”Â·å¸•è¥¿è¯ºçš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;raw_answer&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;vector_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_vector_answer&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_ratio&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;rerank_method&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cohere&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;near_neighbor_first&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_tmpl_num&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;max_graph_items&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;topk_return_results&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>20</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;vector_dis_threshold&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.9</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;topk_per_keyword&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;custom_priority_info&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;answer_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;keywords_extract_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;client_config&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;gs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p><table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>å¿…éœ€</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>query</code></td><td>string</td><td>æ˜¯</td><td>-</td><td>ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€é—®é¢˜</td></tr><tr><td><code>raw_answer</code></td><td>boolean</td><td>å¦</td><td>false</td><td>è¿”å› LLM ç­”æ¡ˆè€Œä¸æ£€ç´¢</td></tr><tr><td><code>vector_only</code></td><td>boolean</td><td>å¦</td><td>false</td><td>ä»…ä½¿ç”¨å‘é‡æœç´¢ï¼ˆæ— å›¾ï¼‰</td></tr><tr><td><code>graph_only</code></td><td>boolean</td><td>å¦</td><td>false</td><td>ä»…ä½¿ç”¨å›¾æ£€ç´¢ï¼ˆæ— å‘é‡ï¼‰</td></tr><tr><td><code>graph_vector_answer</code></td><td>boolean</td><td>å¦</td><td>false</td><td>ç»“åˆå›¾å’Œå‘é‡ç»“æœ</td></tr><tr><td><code>graph_ratio</code></td><td>float</td><td>å¦</td><td>0.5</td><td>å›¾ä¸å‘é‡ç»“æœçš„æ¯”ä¾‹ï¼ˆ0-1ï¼‰</td></tr><tr><td><code>rerank_method</code></td><td>string</td><td>å¦</td><td>""</td><td>é‡æ’åºå™¨ï¼š&ldquo;cohere&rdquo;ã€&ldquo;siliconflow&rdquo;ã€""</td></tr><tr><td><code>near_neighbor_first</code></td><td>boolean</td><td>å¦</td><td>false</td><td>ä¼˜å…ˆé€‰æ‹©ç›´æ¥é‚»å±…</td></tr><tr><td><code>gremlin_tmpl_num</code></td><td>integer</td><td>å¦</td><td>5</td><td>å°è¯•çš„ Gremlin æ¨¡æ¿æ•°é‡</td></tr><tr><td><code>max_graph_items</code></td><td>integer</td><td>å¦</td><td>30</td><td>å›¾æ£€ç´¢çš„æœ€å¤§é¡¹æ•°</td></tr><tr><td><code>topk_return_results</code></td><td>integer</td><td>å¦</td><td>20</td><td>é‡æ’åºåçš„ Top-K</td></tr><tr><td><code>vector_dis_threshold</code></td><td>float</td><td>å¦</td><td>0.9</td><td>å‘é‡ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆ0-1ï¼‰</td></tr><tr><td><code>topk_per_keyword</code></td><td>integer</td><td>å¦</td><td>1</td><td>æ¯ä¸ªå…³é”®è¯çš„ Top-K å‘é‡</td></tr><tr><td><code>custom_priority_info</code></td><td>string</td><td>å¦</td><td>""</td><td>è¦ä¼˜å…ˆè€ƒè™‘çš„è‡ªå®šä¹‰ä¸Šä¸‹æ–‡</td></tr><tr><td><code>answer_prompt</code></td><td>string</td><td>å¦</td><td>""</td><td>è‡ªå®šä¹‰ç­”æ¡ˆç”Ÿæˆæç¤ºè¯</td></tr><tr><td><code>keywords_extract_prompt</code></td><td>string</td><td>å¦</td><td>""</td><td>è‡ªå®šä¹‰å…³é”®è¯æå–æç¤ºè¯</td></tr><tr><td><code>gremlin_prompt</code></td><td>string</td><td>å¦</td><td>""</td><td>è‡ªå®šä¹‰ Gremlin ç”Ÿæˆæç¤ºè¯</td></tr><tr><td><code>client_config</code></td><td>object</td><td>å¦</td><td>null</td><td>è¦†ç›–å›¾è¿æ¥è®¾ç½®</td></tr></tbody></table><h4 id=å“åº”>å“åº”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®²é˜¿å°”Â·å¸•è¥¿è¯ºçš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;answer&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯ºä¸»æ¼”äº†ã€Šæ•™çˆ¶ã€‹ï¼ˆ1972 å¹´ï¼‰ï¼Œç”±å¼—æœ—è¥¿æ–¯Â·ç¦ç‰¹Â·ç§‘æ³¢æ‹‰æ‰§å¯¼...&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;context&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;ã€Šæ•™çˆ¶ã€‹æ˜¯ 1972 å¹´çš„çŠ¯ç½ªç”µå½±...&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;...&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph_paths&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;...&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;keywords&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ç”µå½±&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=ç¤ºä¾‹curl>ç¤ºä¾‹ï¼ˆcurlï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8001/rag <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;query&#34;: &#34;ç»™æˆ‘è®²è®²é˜¿å°”Â·å¸•è¥¿è¯º&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;graph_only&#34;: true,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;max_graph_items&#34;: 30
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }&#39;</span>
</span></span></code></pre></div><h3 id=2-ä»…å›¾æ£€ç´¢>2. ä»…å›¾æ£€ç´¢</h3><p><strong>POST</strong> <code>/rag/graph</code></p><p>æ£€ç´¢å›¾ä¸Šä¸‹æ–‡è€Œä¸ç”Ÿæˆç­”æ¡ˆã€‚ç”¨äºè°ƒè¯•æˆ–è‡ªå®šä¹‰å¤„ç†ã€‚</p><h4 id=è¯·æ±‚ä½“-1>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯ºçš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;max_graph_items&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;topk_return_results&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>20</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;vector_dis_threshold&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>0.9</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;topk_per_keyword&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_tmpl_num&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;rerank_method&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cohere&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;near_neighbor_first&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;custom_priority_info&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;get_vertex_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;client_config&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;gs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>é¢å¤–å‚æ•°ï¼š</strong></p><table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>get_vertex_only</code></td><td>boolean</td><td>false</td><td>ä»…è¿”å›é¡¶ç‚¹ IDï¼Œä¸è¿”å›å®Œæ•´è¯¦æƒ…</td></tr></tbody></table><h4 id=å“åº”-1>å“åº”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;graph_recall&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯ºçš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;keywords&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ç”µå½±&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;match_vids&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;1:é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2:æ•™çˆ¶&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph_result_flag&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;gremlin&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;g.V(&#39;1:é˜¿å°”Â·å¸•è¥¿è¯º&#39;).outE().inV().limit(30)&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph_result&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1:é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;properties&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>}},</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;id&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;2:æ•™çˆ¶&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;label&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;movie&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;properties&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;title&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;æ•™çˆ¶&#34;</span><span style=color:#000;font-weight:700>}}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;vertex_degree_list&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>12</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=ç¤ºä¾‹curl-1>ç¤ºä¾‹ï¼ˆcurlï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8001/rag/graph <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;query&#34;: &#34;é˜¿å°”Â·å¸•è¥¿è¯º&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;max_graph_items&#34;: 30,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;get_vertex_only&#34;: false
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }&#39;</span>
</span></span></code></pre></div><hr><h2 id=text2gremlin-ç«¯ç‚¹>Text2Gremlin ç«¯ç‚¹</h2><h3 id=3-è‡ªç„¶è¯­è¨€è½¬-gremlin>3. è‡ªç„¶è¯­è¨€è½¬ Gremlin</h3><p><strong>POST</strong> <code>/text2gremlin</code></p><p>å°†è‡ªç„¶è¯­è¨€æŸ¥è¯¢è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ Gremlin å‘½ä»¤ã€‚</p><h4 id=è¯·æ±‚ä½“-2>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;æŸ¥æ‰¾æ‰€æœ‰ç”±å¼—æœ—è¥¿æ–¯Â·ç¦ç‰¹Â·ç§‘æ³¢æ‹‰æ‰§å¯¼çš„ç”µå½±&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;example_num&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin_prompt&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;output_types&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;GREMLIN&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;RESULT&#34;</span><span style=color:#000;font-weight:700>],</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;client_config&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;graph&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&#34;gs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p><table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>å¿…éœ€</th><th>é»˜è®¤å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>query</code></td><td>string</td><td>æ˜¯</td><td>-</td><td>è‡ªç„¶è¯­è¨€æŸ¥è¯¢</td></tr><tr><td><code>example_num</code></td><td>integer</td><td>å¦</td><td>5</td><td>ä½¿ç”¨çš„ç¤ºä¾‹æ¨¡æ¿æ•°é‡</td></tr><tr><td><code>gremlin_prompt</code></td><td>string</td><td>å¦</td><td>""</td><td>Gremlin ç”Ÿæˆçš„è‡ªå®šä¹‰æç¤ºè¯</td></tr><tr><td><code>output_types</code></td><td>array</td><td>å¦</td><td>null</td><td>è¾“å‡ºç±»å‹ï¼š[&ldquo;GREMLIN&rdquo;, &ldquo;RESULT&rdquo;, &ldquo;CYPHER&rdquo;]</td></tr><tr><td><code>client_config</code></td><td>object</td><td>å¦</td><td>null</td><td>å›¾è¿æ¥è¦†ç›–</td></tr></tbody></table><p><strong>è¾“å‡ºç±»å‹ï¼š</strong></p><ul><li><code>GREMLIN</code>ï¼šç”Ÿæˆçš„ Gremlin æŸ¥è¯¢</li><li><code>RESULT</code>ï¼šå›¾çš„æ‰§è¡Œç»“æœ</li><li><code>CYPHER</code>ï¼šCypher æŸ¥è¯¢ï¼ˆå¦‚æœè¯·æ±‚ï¼‰</li></ul><h4 id=å“åº”-2>å“åº”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gremlin&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;g.V().has(&#39;person&#39;,&#39;name&#39;,&#39;å¼—æœ—è¥¿æ–¯Â·ç¦ç‰¹Â·ç§‘æ³¢æ‹‰&#39;).out(&#39;directed&#39;).hasLabel(&#39;movie&#39;).values(&#39;title&#39;)&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;result&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;æ•™çˆ¶&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;æ•™çˆ¶ 2&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;ç°ä»£å¯ç¤ºå½•&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=ç¤ºä¾‹curl-2>ç¤ºä¾‹ï¼ˆcurlï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8001/text2gremlin <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#34;Content-Type: application/json&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;query&#34;: &#34;æŸ¥æ‰¾æ‰€æœ‰ç”±å¼—æœ—è¥¿æ–¯Â·ç¦ç‰¹Â·ç§‘æ³¢æ‹‰æ‰§å¯¼çš„ç”µå½±&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#34;output_types&#34;: [&#34;GREMLIN&#34;, &#34;RESULT&#34;]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }&#39;</span>
</span></span></code></pre></div><hr><h2 id=é…ç½®ç«¯ç‚¹>é…ç½®ç«¯ç‚¹</h2><h3 id=4-æ›´æ–°å›¾è¿æ¥>4. æ›´æ–°å›¾è¿æ¥</h3><p><strong>POST</strong> <code>/config/graph</code></p><p>åŠ¨æ€æ›´æ–° HugeGraph è¿æ¥è®¾ç½®ã€‚</p><h4 id=è¯·æ±‚ä½“-3>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;gs&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=å“åº”-3>å“åº”</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;status_code&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>201</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;message&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;å›¾é…ç½®æ›´æ–°æˆåŠŸ&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=5-æ›´æ–°-llm-é…ç½®>5. æ›´æ–° LLM é…ç½®</h3><p><strong>POST</strong> <code>/config/llm</code></p><p>è¿è¡Œæ—¶æ›´æ–°èŠå¤©/æå– LLM è®¾ç½®ã€‚</p><h4 id=è¯·æ±‚ä½“openai>è¯·æ±‚ä½“ï¼ˆOpenAIï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;llm_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;openai&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_key&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;sk-your-api-key&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_base&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;https://api.openai.com/v1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;language_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;gpt-4o-mini&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;max_tokens&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>4096</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=è¯·æ±‚ä½“ollama>è¯·æ±‚ä½“ï¼ˆOllamaï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;llm_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ollama/local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;host&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;port&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>11434</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;language_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;llama3.1:8b&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=6-æ›´æ–°åµŒå…¥é…ç½®>6. æ›´æ–°åµŒå…¥é…ç½®</h3><p><strong>POST</strong> <code>/config/embedding</code></p><p>æ›´æ–°åµŒå…¥æ¨¡å‹è®¾ç½®ã€‚</p><h4 id=è¯·æ±‚ä½“-4>è¯·æ±‚ä½“</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;llm_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;openai&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_key&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;sk-your-api-key&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_base&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;https://api.openai.com/v1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;language_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;text-embedding-3-small&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=7-æ›´æ–°-reranker-é…ç½®>7. æ›´æ–° Reranker é…ç½®</h3><p><strong>POST</strong> <code>/config/rerank</code></p><p>é…ç½®é‡æ’åºå™¨è®¾ç½®ã€‚</p><h4 id=è¯·æ±‚ä½“cohere>è¯·æ±‚ä½“ï¼ˆCohereï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;reranker_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cohere&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_key&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;your-cohere-key&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;reranker_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;rerank-multilingual-v3.0&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;cohere_base_url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;https://api.cohere.com/v1/rerank&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=è¯·æ±‚ä½“siliconflow>è¯·æ±‚ä½“ï¼ˆSiliconFlowï¼‰</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;reranker_type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;siliconflow&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;api_key&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;your-siliconflow-key&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;reranker_model&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;BAAI/bge-reranker-v2-m3&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><hr><h2 id=é”™è¯¯å“åº”>é”™è¯¯å“åº”</h2><p>æ‰€æœ‰ç«¯ç‚¹è¿”å›æ ‡å‡† HTTP çŠ¶æ€ç ï¼š</p><table><thead><tr><th>ä»£ç </th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>200</td><td>æˆåŠŸ</td></tr><tr><td>201</td><td>å·²åˆ›å»ºï¼ˆé…ç½®å·²æ›´æ–°ï¼‰</td></tr><tr><td>400</td><td>é”™è¯¯è¯·æ±‚ï¼ˆæ— æ•ˆå‚æ•°ï¼‰</td></tr><tr><td>500</td><td>å†…éƒ¨æœåŠ¡å™¨é”™è¯¯</td></tr><tr><td>501</td><td>æœªå®ç°</td></tr></tbody></table><p>é”™è¯¯å“åº”æ ¼å¼ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;detail&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;æè¿°é”™è¯¯çš„æ¶ˆæ¯&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><hr><h2 id=python-å®¢æˆ·ç«¯ç¤ºä¾‹>Python å®¢æˆ·ç«¯ç¤ºä¾‹</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>requests</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>BASE_URL</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;http://localhost:8001&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. é…ç½®å›¾è¿æ¥</span>
</span></span><span style=display:flex><span><span style=color:#000>graph_config</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;url&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;127.0.0.1:8080&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;user&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;pwd&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000>requests</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>f</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>{</span><span style=color:#000>BASE_URL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/config/graph&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>json</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>graph_config</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. æ‰§è¡Œ RAG æŸ¥è¯¢</span>
</span></span><span style=display:flex><span><span style=color:#000>rag_request</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ç»™æˆ‘è®²è®²é˜¿å°”Â·å¸•è¥¿è¯º&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;graph_only&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>True</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;max_graph_items&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>30</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>requests</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>f</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>{</span><span style=color:#000>BASE_URL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/rag&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>json</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>rag_request</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>json</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. ä»è‡ªç„¶è¯­è¨€ç”Ÿæˆ Gremlin</span>
</span></span><span style=display:flex><span><span style=color:#000>text2gql_request</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;query&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;æŸ¥æ‰¾æ‰€æœ‰ä¸é˜¿å°”Â·å¸•è¥¿è¯ºåˆä½œçš„å¯¼æ¼”&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;output_types&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;GREMLIN&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;RESULT&#34;</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>requests</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>post</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>f</span><span style=color:#4e9a06>&#34;</span><span style=color:#4e9a06>{</span><span style=color:#000>BASE_URL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/text2gremlin&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>json</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>text2gql_request</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>response</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>json</span><span style=color:#000;font-weight:700>())</span>
</span></span></code></pre></div><hr><h2 id=å¦è§>å¦è§</h2><ul><li><a href=./config-reference.md>é…ç½®å‚è€ƒ</a> - å®Œæ•´çš„ .env é…ç½®æŒ‡å—</li><li><a href=./hugegraph-llm.md>HugeGraph-LLM æ¦‚è¿°</a> - æ¶æ„å’ŒåŠŸèƒ½</li><li><a href=./quick_start.md>å¿«é€Ÿå…¥é—¨æŒ‡å—</a> - Web UI å…¥é—¨</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-d9d6bf778a1c59e678ba9cc8395acdd4>4 - HugeGraph Computing (OLAP)</h1><blockquote><p>DeepWiki æä¾›å®æ—¶æ›´æ–°çš„é¡¹ç›®æ–‡æ¡£ï¼Œå†…å®¹æ›´å…¨é¢å‡†ç¡®ï¼Œé€‚åˆå¿«é€Ÿäº†è§£é¡¹ç›®æœ€æ–°æƒ…å†µã€‚</p><p>ğŸ“– <a href=https://deepwiki.com/apache/hugegraph-computer>https://deepwiki.com/apache/hugegraph-computer</a></p></blockquote><p><strong>GitHub è®¿é—®ï¼š</strong> <i class="fab fa-github"></i> <a href=https://github.com/apache/hugegraph-computer>https://github.com/apache/hugegraph-computer</a></p></div><div class=td-content><h1 id=pg-195b2910f1b20ecc0c065f6e6267415a>4.1 - HugeGraph-Vermeer Quick Start</h1><h2 id=ä¸€vermeer-æ¦‚è¿°>ä¸€ã€Vermeer æ¦‚è¿°</h2><h3 id=11-è¿è¡Œæ¶æ„>1.1 è¿è¡Œæ¶æ„</h3><p>Vermeer æ˜¯ä¸€ä¸ª <code>Go</code>ç¼–å†™çš„é«˜æ€§èƒ½å†…å­˜ä¼˜å…ˆçš„å›¾è®¡ç®—æ¡†æ¶ (ä¸€æ¬¡å¯åŠ¨ï¼Œä»»æ„æ‰§è¡Œ)ï¼Œæ”¯æŒ 15+ OLAP å›¾ç®—æ³•çš„æé€Ÿè®¡ç®— (å¤§éƒ¨åˆ†ç§’~åˆ†é’Ÿçº§åˆ«å®Œæˆæ‰§è¡Œ)ï¼ŒåŒ…å« master å’Œ worker ä¸¤ç§è§’è‰²ã€‚master ç›®å‰åªæœ‰ä¸€ä¸ª (å¯å¢åŠ  HA)ï¼Œworker å¯ä»¥æœ‰å¤šä¸ªã€‚</p><p>master æ˜¯è´Ÿè´£é€šä¿¡ã€è½¬å‘ã€æ±‡æ€»çš„èŠ‚ç‚¹ï¼Œè®¡ç®—é‡å’Œå ç”¨èµ„æºé‡è¾ƒå°‘ã€‚worker æ˜¯è®¡ç®—èŠ‚ç‚¹ï¼Œç”¨äºå­˜å‚¨å›¾æ•°æ®å’Œè¿è¡Œè®¡ç®—ä»»åŠ¡ï¼Œå ç”¨å¤§é‡å†…å­˜å’Œ cpuã€‚grpc å’Œ rest æ¨¡å—åˆ†åˆ«è´Ÿè´£å†…éƒ¨é€šä¿¡å’Œå¤–éƒ¨è°ƒç”¨ã€‚</p><p>è¯¥æ¡†æ¶çš„è¿è¡Œé…ç½®å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°ä¼ å…¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä½äº <code>config/</code> ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶æŒ‡å®šï¼Œ<code>--env</code> å‚æ•°å¯ä»¥æŒ‡å®šä½¿ç”¨å“ªä¸ªé…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>--env=master</code> æŒ‡å®šä½¿ç”¨ <code>master.ini</code>ã€‚éœ€è¦æ³¨æ„ master éœ€è¦æŒ‡å®šç›‘å¬çš„ç«¯å£å·ï¼Œworker éœ€è¦æŒ‡å®šç›‘å¬ç«¯å£å·å’Œ master çš„ <code>ip:port</code>ã€‚</p><h3 id=12-è¿è¡Œæ–¹æ³•>1.2 è¿è¡Œæ–¹æ³•</h3><ol><li><strong>æ–¹æ¡ˆä¸€ï¼šDocker Composeï¼ˆæ¨èï¼‰</strong></li></ol><p>ç¡®ä¿docker-compose.yamlå­˜åœ¨äºæ‚¨çš„é¡¹ç›®æ ¹ç›®å½•ä¸­ã€‚å¦‚æœæ²¡æœ‰ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>vermeer-master</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/vermeer</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>vermeer-master</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>~/.config:/go/bin/config</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Change here to your actual config path</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>command</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span>--<span style=color:#000>env=master</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>networks</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>vermeer_network</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>ipv4_address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>172.20.0.10</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Assign a static IP for the master</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>vermeer-worker</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/vermeer</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>container_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>vermeer-worker</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>volumes</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>~/:/go/bin/config</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Change here to your actual config path</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>command</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span>--<span style=color:#000>env=worker</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>networks</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>vermeer_network</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>ipv4_address</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>172.20.0.11</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Assign a static IP for the worker</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>networks</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>vermeer_network</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>driver</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>bridge</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>ipam</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>config</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>subnet</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>172.20.0.0</span><span style=color:#000>/24</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># Define the subnet for your network</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>ä¿®æ”¹ docker-compose.yaml</p><ul><li><strong>Volume</strong>ï¼šä¾‹å¦‚å°†ä¸¤å¤„ ~/:/go/bin/config æ”¹ä¸º /home/user/config:/go/bin/configï¼ˆæˆ–æ‚¨è‡ªå·±çš„é…ç½®ç›®å½•ï¼‰ã€‚</li><li><strong>Subnet</strong>ï¼šæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹å­ç½‘IPã€‚è¯·æ³¨æ„ï¼Œæ¯ä¸ªå®¹å™¨éœ€è¦è®¿é—®çš„ç«¯å£åœ¨configæ–‡ä»¶ä¸­æŒ‡å®šï¼Œå…·ä½“è¯·å‚ç…§é¡¹ç›®<code>config</code>æ–‡ä»¶å¤¹ä¸‹å†…å®¹ã€‚</li></ul><p>åœ¨é¡¹ç›®ç›®å½•æ„å»ºé•œåƒå¹¶å¯åŠ¨ï¼ˆæˆ–è€…å…ˆç”¨ docker build å† docker-compose upï¼‰</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ„å»ºé•œåƒï¼ˆåœ¨é¡¹ç›®æ ¹ vermeer ç›®å½•ï¼‰</span>
</span></span><span style=display:flex><span>docker build -t hugegraph/vermeer .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å¯åŠ¨ï¼ˆåœ¨ vermeer æ ¹ç›®å½•ï¼‰</span>
</span></span><span style=display:flex><span>docker-compose up -d
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æˆ–ä½¿ç”¨æ–°ç‰ˆ CLIï¼š</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># docker compose up -d</span>
</span></span></code></pre></div><p>æŸ¥çœ‹æ—¥å¿— / åœæ­¢ / åˆ é™¤ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker-compose logs -f
</span></span><span style=display:flex><span>docker-compose down
</span></span></code></pre></div><ol start=2><li><strong>æ–¹æ¡ˆäºŒï¼šé€šè¿‡ docker run å•ç‹¬å¯åŠ¨ï¼ˆæ‰‹åŠ¨åˆ›å»ºç½‘ç»œå¹¶åˆ†é…é™æ€ IPï¼‰</strong></li></ol><p>ç¡®ä¿CONFIG_DIRå¯¹Dockerè¿›ç¨‹å…·æœ‰é€‚å½“çš„è¯»å–/æ‰§è¡Œæƒé™ã€‚</p><p>æ„å»ºé•œåƒï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker build -t hugegraph/vermeer .
</span></span></code></pre></div><p>åˆ›å»ºè‡ªå®šä¹‰ bridge ç½‘ç»œï¼ˆä¸€æ¬¡æ€§æ“ä½œï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker network create --driver bridge <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --subnet 172.20.0.0/24 <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  vermeer_network
</span></span></code></pre></div><p>è¿è¡Œ masterï¼ˆè°ƒæ•´ CONFIG_DIR ä¸ºæ‚¨çš„ç»å¯¹é…ç½®è·¯å¾„ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´IPï¼‰ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#000>CONFIG_DIR</span><span style=color:#ce5c00;font-weight:700>=</span>/home/user/config
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>docker run -d <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --name vermeer-master <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --network vermeer_network --ip 172.20.0.10 <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -v <span style=color:#4e9a06>${</span><span style=color:#000>CONFIG_DIR</span><span style=color:#4e9a06>}</span>:/go/bin/config <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  hugegraph/vermeer <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span>master
</span></span></code></pre></div><p>è¿è¡Œ workerï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run -d <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --name vermeer-worker <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --network vermeer_network --ip 172.20.0.11 <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -v <span style=color:#4e9a06>${</span><span style=color:#000>CONFIG_DIR</span><span style=color:#4e9a06>}</span>:/go/bin/config <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  hugegraph/vermeer <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span>worker
</span></span></code></pre></div><p>æŸ¥çœ‹æ—¥å¿— / åœæ­¢ / åˆ é™¤ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker logs -f vermeer-master
</span></span><span style=display:flex><span>docker logs -f vermeer-worker
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>docker stop vermeer-master vermeer-worker
</span></span><span style=display:flex><span>docker rm vermeer-master vermeer-worker
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆ é™¤è‡ªå®šä¹‰ç½‘ç»œï¼ˆå¦‚æœéœ€è¦ï¼‰</span>
</span></span><span style=display:flex><span>docker network rm vermeer_network
</span></span></code></pre></div><ol start=3><li><strong>æ–¹æ¡ˆä¸‰ï¼šä»æºç æ„å»º</strong></li></ol><p>æ„å»ºã€‚å…·ä½“è¯·å‚ç…§ <a href=https://github.com/apache/hugegraph-computer/tree/master/vermeer>Vermeer Readme</a>ã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go build
</span></span></code></pre></div><p>åœ¨è¿›å…¥æ–‡ä»¶å¤¹ç›®å½•åè¾“å…¥ <code>./vermeer --env=master</code> æˆ– <code>./vermeer --env=worker01</code></p><h2 id=äºŒä»»åŠ¡åˆ›å»ºç±»-rest-api>äºŒã€ä»»åŠ¡åˆ›å»ºç±» rest api</h2><h3 id=21-ç®€ä»‹>2.1 ç®€ä»‹</h3><p>æ­¤ç±» rest api æä¾›æ‰€æœ‰åˆ›å»ºä»»åŠ¡çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬è¯»å–å›¾æ•°æ®å’Œå¤šç§è®¡ç®—åŠŸèƒ½ï¼Œæä¾›å¼‚æ­¥è¿”å›å’ŒåŒæ­¥è¿”å›ä¸¤ç§æ¥å£ã€‚è¿”å›çš„å†…å®¹å‡åŒ…å«æ‰€åˆ›å»ºä»»åŠ¡çš„ä¿¡æ¯ã€‚ä½¿ç”¨ vermeer çš„æ•´ä½“æµç¨‹æ˜¯å…ˆåˆ›å»ºè¯»å–å›¾çš„ä»»åŠ¡ï¼Œå¾…å›¾è¯»å–å®Œæ¯•ååˆ›å»ºè®¡ç®—ä»»åŠ¡æ‰§è¡Œè®¡ç®—ã€‚å›¾ä¸ä¼šè‡ªåŠ¨è¢«åˆ é™¤ï¼Œåœ¨ä¸€ä¸ªå›¾ä¸Šè¿è¡Œå¤šä¸ªè®¡ç®—ä»»åŠ¡æ— éœ€å¤šæ¬¡é‡å¤è¯»å–ï¼Œå¦‚éœ€åˆ é™¤å¯ç”¨åˆ é™¤å›¾æ¥å£ã€‚ä»»åŠ¡çŠ¶æ€å¯åˆ†ä¸ºè¯»å–ä»»åŠ¡çŠ¶æ€å’Œè®¡ç®—ä»»åŠ¡çŠ¶æ€ã€‚é€šå¸¸æƒ…å†µä¸‹å®¢æˆ·ç«¯ä»…éœ€äº†è§£åˆ›å»ºã€ä»»åŠ¡ä¸­ã€ä»»åŠ¡ç»“æŸå’Œä»»åŠ¡é”™è¯¯å››ç§çŠ¶æ€ã€‚å›¾çŠ¶æ€æ˜¯å›¾æ˜¯å¦å¯ç”¨çš„åˆ¤æ–­ä¾æ®ï¼Œè‹¥å›¾æ­£åœ¨è¯»å–ä¸­æˆ–å›¾çŠ¶æ€é”™è¯¯ï¼Œæ— æ³•ä½¿ç”¨è¯¥å›¾åˆ›å»ºè®¡ç®—ä»»åŠ¡ã€‚å›¾åˆ é™¤æ¥å£ä»…åœ¨ loaded å’Œ error çŠ¶æ€ä¸”è¯¥å›¾æ— è®¡ç®—ä»»åŠ¡æ—¶å¯ç”¨ã€‚</p><p>å¯ä»¥ä½¿ç”¨çš„ url å¦‚ä¸‹ï¼š</p><ul><li>å¼‚æ­¥è¿”å›æ¥å£ POST http://master_ip:port/tasks/create ä»…è¿”å›ä»»åŠ¡åˆ›å»ºæ˜¯å¦æˆåŠŸï¼Œéœ€é€šè¿‡ä¸»åŠ¨æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€åˆ¤æ–­æ˜¯å¦å®Œæˆã€‚</li><li>åŒæ­¥è¿”å›æ¥å£ POST http://master_ip:port/tasks/create/sync åœ¨ä»»åŠ¡ç»“æŸåè¿”å›ã€‚</li></ul><h3 id=22-åŠ è½½å›¾æ•°æ®>2.2 åŠ è½½å›¾æ•°æ®</h3><p>å…·ä½“å‚æ•°å‚è€ƒ Vermeer å‚æ•°åˆ—è¡¨æ–‡æ¡£ã€‚</p><p>vermeeræä¾›ä¸‰ç§åŠ è½½æ–¹å¼ï¼š</p><ol><li>ä»æœ¬åœ°åŠ è½½</li></ol><p>å¯ä»¥é¢„å…ˆè·å–æ•°æ®é›†ï¼Œä¾‹å¦‚ twitter-2010 æ•°æ®é›†ã€‚è·å–æ–¹å¼ï¼šhttps://snap.stanford.edu/data/twitter-2010.htmlï¼Œç¬¬ä¸€ä¸ª twitter-2010.txt.gz å³å¯ã€‚</p><p><strong>request ç¤ºä¾‹ï¼š</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;load&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;load.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;50&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;load.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;load.vertex_files&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;{\&#34;localhost\&#34;:\&#34;data/twitter-2010.v_[0,99]\&#34;}&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;load.edge_files&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;{\&#34;localhost\&#34;:\&#34;data/twitter-2010.e_[0,99]\&#34;}&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;load.use_out_degree&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;load.use_outedge&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><ol start=2><li>ä»hugegraphåŠ è½½</li></ol><p><strong>request ç¤ºä¾‹ï¼š</strong></p><p>âš ï¸ å®‰å…¨è­¦å‘Šï¼šåˆ‡å‹¿åœ¨é…ç½®æ–‡ä»¶æˆ–ä»£ç ä¸­å­˜å‚¨çœŸå®å¯†ç ã€‚è¯·æ”¹ç”¨ç¯å¢ƒå˜é‡æˆ–å®‰å…¨çš„å‡­æ®ç®¡ç†ç³»ç»Ÿã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;load&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;50&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.hg_pd_peers&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;[\&#34;&lt;your-hugegraph-ip&gt;:8686\&#34;]&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.hugegraph_name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;DEFAULT/hugegraph2/g&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.hugegraph_username&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.hugegraph_password&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&lt;your-password-here&gt;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.use_out_degree&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.use_outedge&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><ol start=3><li>ä»hdfsåŠ è½½</li></ol><p><strong>request ç¤ºä¾‹ï¼š</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;load&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;50&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;hdfs&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.hdfs_namenode&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;name_node1:9000&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.hdfs_conf_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;/path/to/conf&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.krb_realm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;EXAMPLE.COM&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.krb_name&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;user@EXAMPLE.COM&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.krb_keytab_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;/path/to/keytab&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.krb_conf_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;/path/to/krb5.conf&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.hdfs_use_krb&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.vertex_files&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;/data/graph/vertices&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.edge_files&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;/data/graph/edges&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.use_out_degree&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;load.use_outedge&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=23-è¾“å‡ºè®¡ç®—ç»“æœ>2.3 è¾“å‡ºè®¡ç®—ç»“æœ</h3><p>æ‰€æœ‰çš„ vermeer è®¡ç®—ä»»åŠ¡å‡æ”¯æŒå¤šç§ç»“æœè¾“å‡ºæ–¹å¼ï¼Œå¯è‡ªå®šä¹‰è¾“å‡ºæ–¹å¼ï¼šlocalã€hdfsã€afs æˆ– hugegraphï¼Œåœ¨å‘é€è¯·æ±‚æ—¶çš„ params å‚æ•°ä¸‹åŠ å…¥å¯¹åº”å‚æ•°ï¼Œå³å¯ç”Ÿæ•ˆã€‚æŒ‡å®š output.need_statistics ä¸º 1 æ—¶ï¼Œæ”¯æŒè®¡ç®—ç»“æœç»Ÿè®¡ä¿¡æ¯è¾“å‡ºï¼Œç»“æœä¼šå†™åœ¨æ¥å£ä»»åŠ¡ä¿¡æ¯å†…ã€‚ç»Ÿè®¡æ¨¡å¼ç®—å­ç›®å‰æ”¯æŒ &ldquo;count&rdquo; å’Œ &ldquo;modularity&rdquo; ã€‚ä½†ä»…é’ˆå¯¹ç¤¾åŒºå‘ç°ç®—æ³•é€‚ç”¨ã€‚</p><p>å…·ä½“å‚æ•°å‚è€ƒ Vermeer å‚æ•°åˆ—è¡¨æ–‡æ¡£ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;pagerank&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;result/pagerank&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=ä¸‰æ”¯æŒçš„ç®—æ³•>ä¸‰ã€æ”¯æŒçš„ç®—æ³•</h2><h3 id=31-pagerank>3.1 PageRank</h3><p>PageRank ç®—æ³•åˆç§°ç½‘é¡µæ’åç®—æ³•ï¼Œæ˜¯ä¸€ç§ç”±æœç´¢å¼•æ“æ ¹æ®ç½‘é¡µï¼ˆèŠ‚ç‚¹ï¼‰ä¹‹é—´ç›¸äº’çš„è¶…é“¾æ¥è¿›è¡Œè®¡ç®—çš„æŠ€</p><p>æœ¯ï¼Œç”¨æ¥ä½“ç°ç½‘é¡µï¼ˆèŠ‚ç‚¹ï¼‰çš„ç›¸å…³æ€§å’Œé‡è¦æ€§ã€‚</p><ul><li>å¦‚æœä¸€ä¸ªç½‘é¡µè¢«å¾ˆå¤šå…¶ä»–ç½‘é¡µé“¾æ¥åˆ°ï¼Œè¯´æ˜è¿™ä¸ªç½‘é¡µæ¯”è¾ƒé‡è¦ï¼Œä¹Ÿå°±æ˜¯å…¶ PageRank å€¼ä¼šç›¸å¯¹è¾ƒé«˜ã€‚</li><li>å¦‚æœä¸€ä¸ª PageRank å€¼å¾ˆé«˜çš„ç½‘é¡µé“¾æ¥åˆ°å…¶ä»–ç½‘é¡µï¼Œé‚£ä¹ˆè¢«é“¾æ¥åˆ°çš„ç½‘é¡µçš„ PageRank å€¼ä¼šç›¸åº”åœ°æé«˜ã€‚</li></ul><p>PageRank ç®—æ³•é€‚ç”¨äºç½‘é¡µæ’åºã€ç¤¾äº¤ç½‘ç»œé‡ç‚¹äººç‰©å‘æ˜ç­‰åœºæ™¯ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;pagerank&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/pagerank&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=32-wccå¼±è¿é€šåˆ†é‡>3.2 WCCï¼ˆå¼±è¿é€šåˆ†é‡ï¼‰</h3><p>å¼±è¿é€šåˆ†é‡ï¼Œè®¡ç®—æ— å‘å›¾ä¸­æ‰€æœ‰è”é€šçš„å­å›¾ï¼Œè¾“å‡ºå„é¡¶ç‚¹æ‰€å±çš„å¼±è”é€šå­å›¾ idï¼Œè¡¨æ˜å„ä¸ªç‚¹ä¹‹é—´çš„è¿é€šæ€§ï¼ŒåŒºåˆ†ä¸åŒçš„è¿é€šç¤¾åŒºã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;wcc&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/wcc&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=33-lpaæ ‡ç­¾ä¼ æ’­>3.3 LPAï¼ˆæ ‡ç­¾ä¼ æ’­ï¼‰</h3><p>æ ‡ç­¾ä¼ é€’ç®—æ³•ï¼Œæ˜¯ä¸€ç§å›¾èšç±»ç®—æ³•ï¼Œå¸¸ç”¨åœ¨ç¤¾äº¤ç½‘ç»œä¸­ï¼Œç”¨äºå‘ç°æ½œåœ¨çš„ç¤¾åŒºã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;lpa&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/lpa&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=34-degree-centralityåº¦ä¸­å¿ƒæ€§>3.4 Degree Centralityï¼ˆåº¦ä¸­å¿ƒæ€§ï¼‰</h3><p>åº¦ä¸­å¿ƒæ€§ç®—æ³•ï¼Œç®—æ³•ç”¨äºè®¡ç®—å›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„åº¦ä¸­å¿ƒæ€§å€¼ï¼Œæ”¯æŒæ— å‘å›¾å’Œæœ‰å‘å›¾ã€‚åº¦ä¸­å¿ƒæ€§æ˜¯è¡¡é‡èŠ‚ç‚¹é‡è¦æ€§çš„é‡è¦æŒ‡æ ‡ï¼ŒèŠ‚ç‚¹ä¸å…¶å®ƒèŠ‚ç‚¹çš„è¾¹è¶Šå¤šï¼Œåˆ™èŠ‚ç‚¹çš„åº¦ä¸­å¿ƒæ€§å€¼è¶Šå¤§ï¼ŒèŠ‚ç‚¹åœ¨å›¾ä¸­çš„é‡è¦æ€§ä¹Ÿå°±è¶Šé«˜ã€‚åœ¨æ— å‘å›¾ä¸­ï¼Œåº¦ä¸­å¿ƒæ€§çš„è®¡ç®—æ˜¯åŸºäºè¾¹ä¿¡æ¯ç»Ÿè®¡èŠ‚ç‚¹å‡ºç°æ¬¡æ•°ï¼Œå¾—å‡ºèŠ‚ç‚¹çš„åº¦ä¸­å¿ƒæ€§çš„å€¼ï¼Œåœ¨æœ‰å‘å›¾ä¸­åˆ™åŸºäºè¾¹çš„æ–¹å‘è¿›è¡Œç­›é€‰ï¼ŒåŸºäºè¾“å…¥è¾¹æˆ–è¾“å‡ºè¾¹ä¿¡æ¯ç»Ÿè®¡èŠ‚ç‚¹å‡ºç°æ¬¡æ•°ï¼Œå¾—åˆ°èŠ‚ç‚¹çš„å…¥åº¦å€¼æˆ–å‡ºåº¦å€¼ã€‚å®ƒè¡¨æ˜å„ä¸ªç‚¹çš„é‡è¦æ€§ï¼Œä¸€èˆ¬è¶Šé‡è¦çš„ç‚¹åº¦æ•°è¶Šé«˜ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;degree&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/degree&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;degree.direction&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;both&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=35-closeness-centralityç´§å¯†ä¸­å¿ƒæ€§>3.5 Closeness Centralityï¼ˆç´§å¯†ä¸­å¿ƒæ€§ï¼‰</h3><p>ç´§å¯†ä¸­å¿ƒæ€§ï¼ˆCloseness Centralityï¼‰ç”¨äºè®¡ç®—ä¸€ä¸ªèŠ‚ç‚¹åˆ°æ‰€æœ‰å…¶ä»–å¯è¾¾èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»çš„å€’æ•°ï¼Œè¿›è¡Œç´¯ç§¯åå½’ä¸€åŒ–çš„å€¼ã€‚ç´§å¯†ä¸­å¿ƒåº¦å¯ä»¥ç”¨æ¥è¡¡é‡ä¿¡æ¯ä»è¯¥èŠ‚ç‚¹ä¼ è¾“åˆ°å…¶ä»–èŠ‚ç‚¹çš„æ—¶é—´é•¿çŸ­ã€‚èŠ‚ç‚¹çš„â€œCloseness Centralityâ€è¶Šå¤§ï¼Œå…¶åœ¨æ‰€åœ¨å›¾ä¸­çš„ä½ç½®è¶Šé è¿‘ä¸­å¿ƒï¼Œé€‚ç”¨äºç¤¾äº¤ç½‘ç»œä¸­å…³é”®èŠ‚ç‚¹å‘æ˜ç­‰åœºæ™¯ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;closeness_centrality&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/closeness_centrality&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;closeness_centrality.sample_rate&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;0.01&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=36-betweenness-centralityä¸­ä»‹ä¸­å¿ƒæ€§ç®—æ³•>3.6 Betweenness Centralityï¼ˆä¸­ä»‹ä¸­å¿ƒæ€§ç®—æ³•ï¼‰</h3><p>ä¸­ä»‹ä¸­å¿ƒæ€§ç®—æ³•ï¼ˆBetweeness Centralityï¼‰åˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹å…·æœ‰"æ¡¥æ¢"èŠ‚ç‚¹çš„å€¼ï¼Œå€¼è¶Šå¤§è¯´æ˜å®ƒä½œä¸ºå›¾ä¸­ä¸¤ç‚¹é—´å¿…ç»è·¯å¾„çš„å¯èƒ½æ€§è¶Šå¤§ï¼Œå…¸å‹çš„ä¾‹å­åŒ…æ‹¬ç¤¾äº¤ç½‘ç»œä¸­çš„å…±åŒå…³æ³¨çš„äººã€‚é€‚ç”¨äºè¡¡é‡ç¤¾ç¾¤å›´ç»•æŸä¸ªèŠ‚ç‚¹çš„èšé›†ç¨‹åº¦ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;betweenness_centrality&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/betweenness_centrality&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;betweenness_centrality.sample_rate&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;0.01&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=37-triangle-countä¸‰è§’å½¢è®¡æ•°>3.7 Triangle Countï¼ˆä¸‰è§’å½¢è®¡æ•°ï¼‰</h3><p>ä¸‰è§’å½¢è®¡æ•°ç®—æ³•ï¼Œç”¨äºè®¡ç®—é€šè¿‡æ¯ä¸ªé¡¶ç‚¹çš„ä¸‰è§’å½¢ä¸ªæ•°ï¼Œé€‚ç”¨äºè®¡ç®—ç”¨æˆ·ä¹‹é—´çš„å…³ç³»ï¼Œå…³è”æ€§æ˜¯ä¸æ˜¯æˆä¸‰è§’å½¢ã€‚ä¸‰è§’å½¢è¶Šå¤šï¼Œä»£è¡¨å›¾ä¸­èŠ‚ç‚¹å…³è”ç¨‹åº¦è¶Šé«˜ï¼Œç»„ç»‡å…³ç³»è¶Šä¸¥å¯†ã€‚ç¤¾äº¤ç½‘ç»œä¸­çš„ä¸‰è§’å½¢è¡¨ç¤ºå­˜åœ¨æœ‰å‡èšåŠ›çš„ç¤¾åŒºï¼Œè¯†åˆ«ä¸‰è§’å½¢æœ‰åŠ©äºç†è§£ç½‘ç»œä¸­ä¸ªäººæˆ–ç¾¤ä½“çš„èšç±»å’Œç›¸äº’è”ç³»ã€‚åœ¨é‡‘èç½‘ç»œæˆ–äº¤æ˜“ç½‘ç»œä¸­ï¼Œä¸‰è§’å½¢çš„å­˜åœ¨å¯èƒ½è¡¨ç¤ºå­˜åœ¨å¯ç–‘æˆ–æ¬ºè¯ˆæ´»åŠ¨ï¼Œä¸‰è§’å½¢è®¡æ•°å¯ä»¥å¸®åŠ©è¯†åˆ«å¯èƒ½éœ€è¦è¿›ä¸€æ­¥è°ƒæŸ¥çš„äº¤æ˜“æ¨¡å¼ã€‚</p><p>è¾“å‡ºçš„ç»“æœä¸º æ¯ä¸ªé¡¶ç‚¹å¯¹åº”ä¸€ä¸ª Triangle Countï¼Œå³ä¸ºæ¯ä¸ªé¡¶ç‚¹æ‰€åœ¨ä¸‰è§’å½¢çš„ä¸ªæ•°ã€‚</p><p>æ³¨ï¼šè¯¥ç®—æ³•ä¸ºæ— å‘å›¾ç®—æ³•ï¼Œå¿½ç•¥è¾¹çš„æ–¹å‘ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;triangle_count&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/triangle_count&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=38-k-core>3.8 K-Core</h3><p>K-Core ç®—æ³•ï¼Œæ ‡è®°æ‰€æœ‰åº¦æ•°ä¸º K çš„é¡¶ç‚¹ï¼Œé€‚ç”¨äºå›¾çš„å‰ªæï¼ŒæŸ¥æ‰¾å›¾çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;kcore&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/kcore&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;kcore.degree_k&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;5&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=39-ssspå•å…ƒæœ€çŸ­è·¯å¾„>3.9 SSSPï¼ˆå•å…ƒæœ€çŸ­è·¯å¾„ï¼‰</h3><p>å•æºæœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œæ±‚ä¸€ä¸ªç‚¹åˆ°å…¶ä»–æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;sssp&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/degree&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;sssp.source&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;tom&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=310-kout>3.10 KOUT</h3><p>ä»¥ä¸€ä¸ªç‚¹ä¸ºèµ·ç‚¹ï¼Œè·å–è¿™ä¸ªç‚¹çš„ k å±‚çš„èŠ‚ç‚¹ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;kout&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/kout&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;kout.source&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;tom&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;6&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=311-louvain>3.11 Louvain</h3><p>Louvain ç®—æ³•æ˜¯ä¸€ç§åŸºäºæ¨¡å—åº¦çš„ç¤¾åŒºå‘ç°ç®—æ³•ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯ç½‘ç»œä¸­èŠ‚ç‚¹å°è¯•éå†æ‰€æœ‰é‚»å±…çš„ç¤¾åŒºæ ‡ç­¾ï¼Œå¹¶é€‰æ‹©æœ€å¤§åŒ–æ¨¡å—åº¦å¢é‡çš„ç¤¾åŒºæ ‡ç­¾ã€‚åœ¨æœ€å¤§åŒ–æ¨¡å—åº¦ä¹‹åï¼Œæ¯ä¸ªç¤¾åŒºçœ‹æˆä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œé‡å¤ç›´åˆ°æ¨¡å—åº¦ä¸å†å¢å¤§ã€‚</p><p>Vermeer ä¸Šå®ç°çš„åˆ†å¸ƒå¼ Louvain ç®—æ³•å—èŠ‚ç‚¹é¡ºåºã€å¹¶è¡Œè®¡ç®—ç­‰å› ç´ å½±å“ï¼Œå¹¶ä¸”ç”±äº Louvain ç®—æ³•ç”±äºå…¶éå†é¡ºåºçš„éšæœºå¯¼è‡´ç¤¾åŒºå‹ç¼©ä¹Ÿå…·æœ‰ä¸€å®šçš„éšæœºæ€§ï¼Œå¯¼è‡´é‡å¤å¤šæ¬¡æ‰§è¡Œå¯èƒ½å­˜åœ¨ä¸åŒçš„ç»“æœã€‚ä½†æ•´ä½“è¶‹åŠ¿ä¸ä¼šæœ‰å¤§çš„å˜åŒ–ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;louvain&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1000&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;louvain.threshold&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;0.0000001&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;louvain.resolution&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1.0&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;louvain.step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/louvain&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=312-jaccard-ç›¸ä¼¼åº¦ç³»æ•°>3.12 Jaccard ç›¸ä¼¼åº¦ç³»æ•°</h3><p>Jaccard index , åˆç§°ä¸º Jaccard ç›¸ä¼¼ç³»æ•°ï¼ˆJaccard similarity coefficientï¼‰ç”¨äºæ¯”è¾ƒæœ‰é™æ ·æœ¬é›†ä¹‹é—´çš„ç›¸ä¼¼æ€§ä¸å·®å¼‚æ€§ã€‚Jaccard ç³»æ•°å€¼è¶Šå¤§ï¼Œæ ·æœ¬ç›¸ä¼¼åº¦è¶Šé«˜ã€‚ç”¨äºè®¡ç®—ä¸€ä¸ªç»™å®šçš„æºç‚¹ï¼Œä¸å›¾ä¸­å…¶ä»–æ‰€æœ‰ç‚¹çš„ Jaccard ç›¸ä¼¼ç³»æ•°ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;jaccard&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;2&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;jaccard.source&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;123&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/jaccard&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=313-personalized-pagerank>3.13 Personalized PageRank</h3><p>ä¸ªæ€§åŒ–çš„ pagerank çš„ç›®æ ‡æ˜¯è¦è®¡ç®—æ‰€æœ‰èŠ‚ç‚¹ç›¸å¯¹äºç”¨æˆ· u çš„ç›¸å…³åº¦ã€‚ä»ç”¨æˆ· u å¯¹åº”çš„èŠ‚ç‚¹å¼€å§‹æ¸¸èµ°ï¼Œæ¯åˆ°ä¸€ä¸ªèŠ‚ç‚¹éƒ½ä»¥ 1-d çš„æ¦‚ç‡åœæ­¢æ¸¸èµ°å¹¶ä» u é‡æ–°å¼€å§‹ï¼Œæˆ–è€…ä»¥ d çš„æ¦‚ç‡ç»§ç»­æ¸¸èµ°ï¼Œä»å½“å‰èŠ‚ç‚¹æŒ‡å‘çš„èŠ‚ç‚¹ä¸­æŒ‰ç…§å‡åŒ€åˆ†å¸ƒéšæœºé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹å¾€ä¸‹æ¸¸èµ°ã€‚ç”¨äºç»™å®šä¸€ä¸ªèµ·ç‚¹ï¼Œè®¡ç®—æ­¤èµ·ç‚¹å¼€å§‹æ¸¸èµ°çš„ä¸ªæ€§åŒ– pagerank å¾—åˆ†ã€‚é€‚ç”¨äºç¤¾äº¤æ¨èç­‰åœºæ™¯ã€‚</p><p>ç”±äºè®¡ç®—éœ€è¦ä½¿ç”¨å‡ºåº¦ï¼Œéœ€è¦åœ¨è¯»å–å›¾æ—¶éœ€è¦è®¾ç½® load.use_out_degree ä¸º 1ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ppr&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;100&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;ppr.source&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;123&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;ppr.damping&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;0.85&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;ppr.diff_threshold&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;0.00001&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/ppr&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=314-å…¨å›¾-kout>3.14 å…¨å›¾ Kout</h3><p>è®¡ç®—å›¾çš„æ‰€æœ‰èŠ‚ç‚¹çš„kåº¦é‚»å±…ï¼ˆä¸åŒ…å«è‡ªå·±ä»¥åŠ1ï½k-1åº¦çš„é‚»å±…ï¼‰ï¼Œç”±äºå…¨å›¾koutç®—æ³•å†…å­˜è†¨èƒ€æ¯”è¾ƒå‰å®³ï¼Œç›®å‰ké™åˆ¶åœ¨1å’Œ2ï¼Œå¦å¤–ï¼Œå…¨å±€koutç®—æ³•æ”¯æŒè¿‡æ»¤åŠŸèƒ½( å‚æ•°å¦‚ï¼š&ldquo;compute.filter&rdquo;:&ldquo;risk_level==1&rdquo;),åœ¨è®¡ç®—ç¬¬kåº¦çš„æ˜¯æ—¶å€™è¿›è¡Œè¿‡æ»¤æ¡ä»¶çš„åˆ¤æ–­ï¼Œç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„è¿›å…¥æœ€ç»ˆç»“æœé›†ï¼Œç®—æ³•æœ€ç»ˆè¾“å‡ºæ˜¯ç¬¦åˆæ¡ä»¶çš„é‚»å±…ä¸ªæ•°ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;kout_all&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/kout&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;2&#34;</span><span style=color:#a40000>ï¼Œ</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.filter&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;risk_level==1&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=315-é›†èšç³»æ•°-clustering-coefficient>3.15 é›†èšç³»æ•° clustering coefficient</h3><p>é›†èšç³»æ•°è¡¨ç¤ºä¸€ä¸ªå›¾ä¸­èŠ‚ç‚¹èšé›†ç¨‹åº¦çš„ç³»æ•°ã€‚åœ¨ç°å®çš„ç½‘ç»œä¸­ï¼Œå°¤å…¶æ˜¯åœ¨ç‰¹å®šçš„ç½‘ç»œä¸­ï¼Œç”±äºç›¸å¯¹é«˜å¯†åº¦è¿æ¥ç‚¹çš„å…³ç³»ï¼ŒèŠ‚ç‚¹æ€»æ˜¯è¶‹å‘äºå»ºç«‹ä¸€ç»„ä¸¥å¯†çš„ç»„ç»‡å…³ç³»ã€‚é›†èšç³»æ•°ç®—æ³•ï¼ˆCluster Coefficientï¼‰ç”¨äºè®¡ç®—å›¾ä¸­èŠ‚ç‚¹çš„èšé›†ç¨‹åº¦ã€‚æœ¬ç®—æ³•ä¸ºå±€éƒ¨é›†èšç³»æ•°ã€‚å±€éƒ¨é›†èšç³»æ•°å¯ä»¥æµ‹é‡å›¾ä¸­æ¯ä¸€ä¸ªç»“ç‚¹é™„è¿‘çš„é›†èšç¨‹åº¦ã€‚</p><p>request ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;clustering_coefficient&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;100&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/cc&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=316-sccå¼ºè¿é€šåˆ†é‡>3.16 SCCï¼ˆå¼ºè¿é€šåˆ†é‡ï¼‰</h3><p>åœ¨æœ‰å‘å›¾çš„æ•°å­¦ç†è®ºä¸­ï¼Œå¦‚æœä¸€ä¸ªå›¾çš„æ¯ä¸€ä¸ªé¡¶ç‚¹éƒ½å¯ä»è¯¥å›¾å…¶ä»–ä»»æ„ä¸€ç‚¹åˆ°è¾¾ï¼Œåˆ™ç§°è¯¥å›¾æ˜¯å¼ºè¿é€šçš„ã€‚åœ¨ä»»æ„æœ‰å‘å›¾ä¸­èƒ½å¤Ÿå®ç°å¼ºè¿é€šçš„éƒ¨åˆ†æˆ‘ä»¬ç§°å…¶ä¸ºå¼ºè¿é€šåˆ†é‡ã€‚å®ƒè¡¨æ˜å„ä¸ªç‚¹ä¹‹é—´çš„è¿é€šæ€§ï¼ŒåŒºåˆ†ä¸åŒçš„è¿é€šç¤¾åŒºã€‚</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#000>POST</span> <span style=color:#000>http</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#8f5902;font-style:italic>//localhost:8688/tasks/create
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;task_type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;compute&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;graph&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;testdb&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;params&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.algorithm&#34;</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;scc&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;10&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.type&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.parallel&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;output.file_path&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;result/scc&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span> <span style=color:#4e9a06>&#34;compute.max_step&#34;</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#4e9a06>&#34;200&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><blockquote><p>ğŸš§, åç»­éšæ—¶æ›´æ–°å®Œå–„ï¼Œæ¬¢è¿éšæ—¶æå‡ºå»ºè®®å’Œæ„è§ã€‚</p></blockquote></div><div class=td-content style=page-break-before:always><h1 id=pg-e9c07ea6afc3c052057c026b7f07c6b9>4.2 - HugeGraph-Computer Quick Start</h1><h2 id=1-hugegraph-computer-æ¦‚è¿°>1 HugeGraph-Computer æ¦‚è¿°</h2><p><a href=https://github.com/apache/hugegraph-computer><code>HugeGraph-Computer</code></a> æ˜¯åˆ†å¸ƒå¼å›¾å¤„ç†ç³»ç»Ÿ (OLAP). å®ƒæ˜¯ <a href=https://kowshik.github.io/JPregel/pregel_paper.pdf>Pregel</a>çš„ä¸€ä¸ªå®ç°ã€‚å®ƒå¯ä»¥è¿è¡Œåœ¨ Kubernetes(K8s)/Yarn ä¸Šã€‚(å®ƒä¾§é‡å¯æ”¯æŒç™¾äº¿~åƒäº¿çš„å›¾æ•°æ®é‡ä¸‹è¿›è¡Œå›¾è®¡ç®—, ä¼šä½¿ç”¨ç£ç›˜è¿›è¡Œæ’åºå’ŒåŠ é€Ÿ, è¿™æ˜¯å®ƒå’Œ Vermeer ç›¸å¯¹æœ€å¤§çš„åŒºåˆ«ä¹‹ä¸€)</p><h3 id=ç‰¹æ€§>ç‰¹æ€§</h3><ul><li>æ”¯æŒåˆ†å¸ƒå¼ MPP å›¾è®¡ç®—ï¼Œé›†æˆ HugeGraph ä½œä¸ºå›¾è¾“å…¥è¾“å‡ºå­˜å‚¨ã€‚</li><li>ç®—æ³•åŸºäº BSP(Bulk Synchronous Parallel) æ¨¡å‹ï¼Œé€šè¿‡å¤šæ¬¡å¹¶è¡Œè¿­ä»£è¿›è¡Œè®¡ç®—ï¼Œæ¯ä¸€æ¬¡è¿­ä»£éƒ½æ˜¯ä¸€æ¬¡è¶…æ­¥ã€‚</li><li>è‡ªåŠ¨å†…å­˜ç®¡ç†ã€‚è¯¥æ¡†æ¶æ°¸è¿œä¸ä¼šå‡ºç° OOMï¼ˆå†…å­˜ä¸è¶³ï¼‰ï¼Œå› ä¸ºå¦‚æœå®ƒæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥å®¹çº³æ‰€æœ‰æ•°æ®ï¼Œå®ƒä¼šå°†ä¸€äº›æ•°æ®æ‹†åˆ†åˆ°ç£ç›˜ã€‚</li><li>è¾¹çš„éƒ¨åˆ†æˆ–è¶…çº§èŠ‚ç‚¹çš„æ¶ˆæ¯å¯ä»¥åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥ä½ æ°¸è¿œä¸ä¼šä¸¢å¤±å®ƒã€‚</li><li>æ‚¨å¯ä»¥ä» HDFS æˆ– HugeGraph æˆ–ä»»ä½•å…¶ä»–ç³»ç»ŸåŠ è½½æ•°æ®ã€‚</li><li>æ‚¨å¯ä»¥å°†ç»“æœè¾“å‡ºåˆ° HDFS æˆ– HugeGraphï¼Œæˆ–ä»»ä½•å…¶ä»–ç³»ç»Ÿã€‚</li><li>æ˜“äºå¼€å‘æ–°ç®—æ³•ã€‚æ‚¨åªéœ€è¦åƒåœ¨å•ä¸ªæœåŠ¡å™¨ä¸­ä¸€æ ·ä¸“æ³¨äºä»…é¡¶ç‚¹å¤„ç†ï¼Œè€Œä¸å¿…æ‹…å¿ƒæ¶ˆæ¯ä¼ è¾“å’Œå†…å­˜å­˜å‚¨ç®¡ç†ã€‚</li></ul><h2 id=2-ä¾èµ–>2 ä¾èµ–</h2><h3 id=21-å®‰è£…-java-11-jdk-11>2.1 å®‰è£… Java 11 (JDK 11)</h3><p><strong>å¿…é¡»</strong>åœ¨ â‰¥ <code>Java 11</code> çš„ç¯å¢ƒä¸Šå¯åŠ¨ <code>Computer</code>ï¼Œç„¶åè‡ªè¡Œé…ç½®ã€‚</p><p><strong>åœ¨å¾€ä¸‹é˜…è¯»ä¹‹å‰åŠ¡å¿…æ‰§è¡Œ <code>java -version</code> å‘½ä»¤æŸ¥çœ‹ jdk ç‰ˆæœ¬</strong></p><h2 id=3-å¼€å§‹>3 å¼€å§‹</h2><h3 id=31-åœ¨æœ¬åœ°è¿è¡Œ-pagerank-ç®—æ³•>3.1 åœ¨æœ¬åœ°è¿è¡Œ PageRank ç®—æ³•</h3><blockquote><p>è¦ä½¿ç”¨ HugeGraph-Computer è¿è¡Œç®—æ³•ï¼Œå¿…é¡»è£…æœ‰ Java 11 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</p><p>è¿˜éœ€è¦é¦–å…ˆéƒ¨ç½² HugeGraph-Server å’Œ <a href=https://etcd.io/docs/v3.5/quickstart/>Etcd</a>.</p></blockquote><p>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è·å– HugeGraph-Computerï¼š</p><ul><li>ä¸‹è½½å·²ç¼–è¯‘çš„å‹ç¼©åŒ…</li><li>å…‹éš†æºç ç¼–è¯‘æ‰“åŒ…</li></ul><h4 id=311-ä¸‹è½½å·²ç¼–è¯‘çš„å‹ç¼©åŒ…>3.1.1 ä¸‹è½½å·²ç¼–è¯‘çš„å‹ç¼©åŒ…</h4><p>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ HugeGraph-Computer release åŒ…ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://downloads.apache.org/incubator/hugegraph/<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>/apache-hugegraph-computer-incubating-<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>.tar.gz
</span></span><span style=display:flex><span>tar zxvf apache-hugegraph-computer-incubating-<span style=color:#4e9a06>${</span><span style=color:#000>version</span><span style=color:#4e9a06>}</span>.tar.gz -C hugegraph-computer
</span></span></code></pre></div><h4 id=312-å…‹éš†æºç ç¼–è¯‘æ‰“åŒ…>3.1.2 å…‹éš†æºç ç¼–è¯‘æ‰“åŒ…</h4><p>å…‹éš†æœ€æ–°ç‰ˆæœ¬çš„ HugeGraph-Computer æºç åŒ…ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git clone https://github.com/apache/hugegraph-computer.git
</span></span></code></pre></div><p>ç¼–è¯‘ç”Ÿæˆ tar åŒ…ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> hugegraph-computer
</span></span><span style=display:flex><span>mvn clean package -DskipTests
</span></span></code></pre></div><h4 id=313-å¯åŠ¨-master-èŠ‚ç‚¹>3.1.3 å¯åŠ¨ master èŠ‚ç‚¹</h4><blockquote><p>æ‚¨å¯ä»¥ä½¿ç”¨ <code>-c</code> å‚æ•°æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œæ›´å¤š computer é…ç½®è¯·çœ‹ï¼š<a href=/docs/quickstart/computing/hugegraph-computer-config#computer-config-options>Computer Config Options</a></p></blockquote><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#204a87>cd</span> hugegraph-computer
</span></span><span style=display:flex><span>bin/start-computer.sh -d <span style=color:#204a87>local</span> -r master
</span></span></code></pre></div><h4 id=314-å¯åŠ¨-worker-èŠ‚ç‚¹>3.1.4 å¯åŠ¨ worker èŠ‚ç‚¹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>bin/start-computer.sh -d <span style=color:#204a87>local</span> -r worker
</span></span></code></pre></div><h4 id=315-æŸ¥è¯¢ç®—æ³•ç»“æœ>3.1.5 æŸ¥è¯¢ç®—æ³•ç»“æœ</h4><p>2.5.1 ä¸º server å¯ç”¨ <code>OLAP</code> ç´¢å¼•æŸ¥è¯¢</p><p>å¦‚æœæ²¡æœ‰å¯ç”¨ OLAP ç´¢å¼•ï¼Œåˆ™éœ€è¦å¯ç”¨ï¼Œæ›´å¤šå‚è€ƒï¼š<a href=/docs/clients/restful-api/graphs/#634-modify-graphs-read-mode-this-operation-requires-administrator-privileges>modify-graphs-read-mode</a></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span style=display:flex><span><span style=color:#a40000>PUT http://localhost:8080/graphs/hugegraph/graph_read_mode
</span></span></span><span style=display:flex><span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000>&#34;ALL&#34;
</span></span></span></code></pre></div><p>3.1.5.2 æŸ¥è¯¢ <code>page_rank</code> å±æ€§å€¼ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl <span style=color:#4e9a06>&#34;http://localhost:8080/graphs/hugegraph/graph/vertices?page&amp;limit=3&#34;</span> <span style=color:#000;font-weight:700>|</span> gunzip
</span></span></code></pre></div><h3 id=32-åœ¨-kubernetes-ä¸­è¿è¡Œ-pagerank-ç®—æ³•>3.2 åœ¨ Kubernetes ä¸­è¿è¡Œ PageRank ç®—æ³•</h3><blockquote><p>è¦ä½¿ç”¨ HugeGraph-Computer è¿è¡Œç®—æ³•ï¼Œæ‚¨éœ€è¦å…ˆéƒ¨ç½² HugeGraph-Server</p></blockquote><h4 id=321-å®‰è£…-hugegraph-computer-crd>3.2.1 å®‰è£… HugeGraph-Computer CRD</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Kubernetes version &gt;= v1.16</span>
</span></span><span style=display:flex><span>kubectl apply -f https://raw.githubusercontent.com/apache/hugegraph-computer/master/computer-k8s-operator/manifest/hugegraph-computer-crd.v1.yaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Kubernetes version &lt; v1.16</span>
</span></span><span style=display:flex><span>kubectl apply -f https://raw.githubusercontent.com/apache/hugegraph-computer/master/computer-k8s-operator/manifest/hugegraph-computer-crd.v1beta1.yaml
</span></span></code></pre></div><h4 id=322-æ˜¾ç¤º-crd>3.2.2 æ˜¾ç¤º CRD</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get crd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME                                        CREATED AT
</span></span><span style=display:flex><span>hugegraphcomputerjobs.hugegraph.apache.org   2021-09-16T08:01:08Z
</span></span></code></pre></div><h4 id=323-å®‰è£…-hugegraph-computer-operatoretcd-server>3.2.3 å®‰è£… hugegraph-computer-operator&etcd-server</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl apply -f https://raw.githubusercontent.com/apache/hugegraph-computer/master/computer-k8s-operator/manifest/hugegraph-computer-operator.yaml
</span></span></code></pre></div><h4 id=324-ç­‰å¾…-hugegraph-computer-operatoretcd-server-éƒ¨ç½²å®Œæˆ>3.2.4 ç­‰å¾… hugegraph-computer-operator&etcd-server éƒ¨ç½²å®Œæˆ</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pod -n hugegraph-computer-operator-system
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME                                                              READY   STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span>hugegraph-computer-operator-controller-manager-58c5545949-jqvzl   1/1     Running   <span style=color:#0000cf;font-weight:700>0</span>          15h
</span></span><span style=display:flex><span>hugegraph-computer-operator-etcd-28lm67jxk5                       1/1     Running   <span style=color:#0000cf;font-weight:700>0</span>          15h
</span></span></code></pre></div><h4 id=325-æäº¤ä½œä¸š>3.2.5 æäº¤ä½œä¸š</h4><blockquote><p>æ›´å¤š computer crd spec è¯·çœ‹ï¼š<a href=/docs/quickstart/computing/hugegraph-computer-config#hugegraph-computer-crd>Computer CRD</a></p><p>æ›´å¤š Computer é…ç½®è¯·çœ‹ï¼š<a href=/docs/quickstart/computing/hugegraph-computer-config#computer-config-options>Computer Config Options</a></p></blockquote><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#000>cat &lt;&lt;EOF | kubectl apply --filename -</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph.apache.org/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>HugeGraphComputerJob</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph-computer-operator-system</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>&amp;jobName</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>pagerank-sample</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>jobId</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic>*jobName</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>algorithmName</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>page_rank</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph/hugegraph-computer:latest</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># algorithm image url</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>jarFile</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>/hugegraph/hugegraph-computer/algorithm/builtin-algorithm.jar</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># algorithm jar path</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>pullPolicy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Always</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>workerCpu</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;4&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>workerMemory</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;4Gi&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>workerInstances</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>computerConf</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>job.partitions_count</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;20&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>algorithm.params_class</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>org.apache.hugegraph.computer.algorithm.centrality.pagerank.PageRankParams</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>hugegraph.url</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>http://${hugegraph-server-host}:${hugegraph-server-port}</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># hugegraph server url</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>hugegraph.name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hugegraph</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># hugegraph graph name</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000>EOF</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h4 id=326-æ˜¾ç¤ºä½œä¸š>3.2.6 æ˜¾ç¤ºä½œä¸š</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get hcjob/pagerank-sample -n hugegraph-computer-operator-system
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NAME               JOBID              JOBSTATUS
</span></span><span style=display:flex><span>pagerank-sample    pagerank-sample    RUNNING
</span></span></code></pre></div><h4 id=327-æ˜¾ç¤ºèŠ‚ç‚¹æ—¥å¿—>3.2.7 æ˜¾ç¤ºèŠ‚ç‚¹æ—¥å¿—</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Show the master log</span>
</span></span><span style=display:flex><span>kubectl logs -l <span style=color:#000>component</span><span style=color:#ce5c00;font-weight:700>=</span>pagerank-sample-master -n hugegraph-computer-operator-system
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Show the worker log</span>
</span></span><span style=display:flex><span>kubectl logs -l <span style=color:#000>component</span><span style=color:#ce5c00;font-weight:700>=</span>pagerank-sample-worker -n hugegraph-computer-operator-system
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Show diagnostic log of a job</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ³¨æ„: è¯Šæ–­æ—¥å¿—ä»…åœ¨ä½œä¸šå¤±è´¥æ—¶å­˜åœ¨ï¼Œå¹¶ä¸”åªä¼šä¿å­˜ä¸€å°æ—¶ã€‚</span>
</span></span><span style=display:flex><span>kubectl get event --field-selector <span style=color:#000>reason</span><span style=color:#ce5c00;font-weight:700>=</span>ComputerJobFailed --field-selector involvedObject.name<span style=color:#ce5c00;font-weight:700>=</span>pagerank-sample -n hugegraph-computer-operator-system
</span></span></code></pre></div><h4 id=328-æ˜¾ç¤ºä½œä¸šçš„æˆåŠŸäº‹ä»¶>3.2.8 æ˜¾ç¤ºä½œä¸šçš„æˆåŠŸäº‹ä»¶</h4><blockquote><p>NOTE: it will only be saved for one hour</p></blockquote><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get event --field-selector <span style=color:#000>reason</span><span style=color:#ce5c00;font-weight:700>=</span>ComputerJobSucceed --field-selector involvedObject.name<span style=color:#ce5c00;font-weight:700>=</span>pagerank-sample -n hugegraph-computer-operator-system
</span></span></code></pre></div><h4 id=329-æŸ¥è¯¢ç®—æ³•ç»“æœ>3.2.9 æŸ¥è¯¢ç®—æ³•ç»“æœ</h4><p>å¦‚æœè¾“å‡ºåˆ° <code>Hugegraph-Server</code> åˆ™ä¸ Locally æ¨¡å¼ä¸€è‡´ï¼Œå¦‚æœè¾“å‡ºåˆ° <code>HDFS</code> ï¼Œè¯·æ£€æŸ¥ <code>hugegraph-computerresults{jobId}</code>ç›®å½•ä¸‹çš„ç»“æœæ–‡ä»¶ã€‚</p><h2 id=4-å†…ç½®ç®—æ³•æ–‡æ¡£>4 å†…ç½®ç®—æ³•æ–‡æ¡£</h2><h3 id=41-æ”¯æŒçš„ç®—æ³•åˆ—è¡¨>4.1 æ”¯æŒçš„ç®—æ³•åˆ—è¡¨ï¼š</h3><h4 id=ä¸­å¿ƒæ€§ç®—æ³•>ä¸­å¿ƒæ€§ç®—æ³•ï¼š</h4><ul><li>PageRank</li><li>BetweennessCentrality</li><li>ClosenessCentrality</li><li>DegreeCentrality</li></ul><h4 id=ç¤¾åŒºç®—æ³•>ç¤¾åŒºç®—æ³•ï¼š</h4><ul><li>ClusteringCoefficient</li><li>Kcore</li><li>Lpa</li><li>TriangleCount</li><li>Wcc</li></ul><h4 id=è·¯å¾„ç®—æ³•>è·¯å¾„ç®—æ³•ï¼š</h4><ul><li>RingsDetection</li><li>RingsDetectionWithFilter</li></ul><p>æ›´å¤šç®—æ³•è¯·çœ‹ï¼š<a href=https://github.com/apache/hugegraph-computer/tree/master/computer-algorithm/src/main/java/org/apache/hugegraph/computer/algorithm>Built-In algorithms</a></p><h3 id=42-ç®—æ³•æè¿°>4.2 ç®—æ³•æè¿°</h3><p>TODO</p><h2 id=5-ç®—æ³•å¼€å‘æŒ‡å—>5 ç®—æ³•å¼€å‘æŒ‡å—</h2><p>TODO</p><h2 id=6-æ³¨æ„äº‹é¡¹>6 æ³¨æ„äº‹é¡¹</h2><ul><li>å¦‚æœ computer-k8s æ¨¡å—ä¸‹é¢çš„æŸäº›ç±»ä¸å­˜åœ¨ï¼Œä½ éœ€è¦è¿è¡Œ<code>mvn compile</code>æ¥æå‰ç”Ÿæˆå¯¹åº”çš„ç±»ã€‚</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-094fc5e6c5eaa81703c55b700e7863d5>4.3 - HugeGraph-Computer é…ç½®å‚è€ƒ</h1><h3 id=computer-é…ç½®é€‰é¡¹>Computer é…ç½®é€‰é¡¹</h3><blockquote><p><strong>é»˜è®¤å€¼è¯´æ˜:</strong></p><ul><li>ä»¥ä¸‹é…ç½®é¡¹æ˜¾ç¤ºçš„æ˜¯<strong>ä»£ç é»˜è®¤å€¼</strong>(å®šä¹‰åœ¨ <code>ComputerOptions.java</code> ä¸­)</li><li>å½“<strong>æ‰“åŒ…é…ç½®æ–‡ä»¶</strong>(<code>conf/computer.properties</code> åˆ†å‘åŒ…ä¸­)æŒ‡å®šäº†ä¸åŒçš„å€¼æ—¶,ä¼šä»¥ <code>å€¼ (æ‰“åŒ…: å€¼)</code> çš„å½¢å¼æ ‡æ³¨</li><li>ç¤ºä¾‹:<code>300000 (æ‰“åŒ…: 100000)</code> è¡¨ç¤ºä»£ç é»˜è®¤å€¼ä¸º 300000,ä½†åˆ†å‘åŒ…é»˜è®¤å€¼ä¸º 100000</li><li>å¯¹äºç”Ÿäº§ç¯å¢ƒéƒ¨ç½²,é™¤éæ˜ç¡®è¦†ç›–,å¦åˆ™æ‰“åŒ…é»˜è®¤å€¼ä¼˜å…ˆç”Ÿæ•ˆ</li></ul></blockquote><hr><h3 id=1-åŸºç¡€é…ç½®>1. åŸºç¡€é…ç½®</h3><p>HugeGraph-Computer æ ¸å¿ƒä½œä¸šè®¾ç½®ã€‚</p><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>hugegraph.url</td><td>http://127.0.0.1:8080</td><td>HugeGraph æœåŠ¡å™¨ URL,ç”¨äºåŠ è½½æ•°æ®å’Œå†™å›ç»“æœã€‚</td></tr><tr><td>hugegraph.name</td><td>hugegraph</td><td>å›¾åç§°,ç”¨äºåŠ è½½æ•°æ®å’Œå†™å›ç»“æœã€‚</td></tr><tr><td>hugegraph.username</td><td>"" (ç©º)</td><td>HugeGraph è®¤è¯ç”¨æˆ·å(å¦‚æœæœªå¯ç”¨è®¤è¯åˆ™ç•™ç©º)ã€‚</td></tr><tr><td>hugegraph.password</td><td>"" (ç©º)</td><td>HugeGraph è®¤è¯å¯†ç (å¦‚æœæœªå¯ç”¨è®¤è¯åˆ™ç•™ç©º)ã€‚</td></tr><tr><td>job.id</td><td>local_0001 (æ‰“åŒ…: local_001)</td><td>YARN é›†ç¾¤æˆ– K8s é›†ç¾¤ä¸Šçš„ä½œä¸šæ ‡è¯†ç¬¦ã€‚</td></tr><tr><td>job.namespace</td><td>"" (ç©º)</td><td>ä½œä¸šå‘½åç©ºé—´,å¯ä»¥åˆ†éš”ä¸åŒçš„æ•°æ®æºã€‚ğŸ”’ <strong>ç”±ç³»ç»Ÿç®¡ç† - ä¸è¦æ‰‹åŠ¨ä¿®æ”¹</strong>ã€‚</td></tr><tr><td>job.workers_count</td><td>1</td><td>æ‰§è¡Œä¸€ä¸ªå›¾ç®—æ³•ä½œä¸šçš„ Worker æ•°é‡ã€‚ğŸ”’ <strong>åœ¨ K8s ä¸­ç”±ç³»ç»Ÿç®¡ç† - ä¸è¦æ‰‹åŠ¨ä¿®æ”¹</strong>ã€‚</td></tr><tr><td>job.partitions_count</td><td>1</td><td>æ‰§è¡Œä¸€ä¸ªå›¾ç®—æ³•ä½œä¸šçš„åˆ†åŒºæ•°é‡ã€‚</td></tr><tr><td>job.partitions_thread_nums</td><td>4</td><td>åˆ†åŒºå¹¶è¡Œè®¡ç®—çš„çº¿ç¨‹æ•°é‡ã€‚</td></tr></tbody></table><hr><h3 id=2-ç®—æ³•é…ç½®>2. ç®—æ³•é…ç½®</h3><p>è®¡ç®—é€»è¾‘çš„ç®—æ³•ç‰¹å®šé…ç½®ã€‚</p><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>algorithm.params_class</td><td>org.apache.hugegraph.computer.core.config.Null</td><td>âš ï¸ <strong>å¿…å¡«</strong> åœ¨ç®—æ³•è¿è¡Œå‰ç”¨äºä¼ é€’ç®—æ³•å‚æ•°çš„ç±»ã€‚</td></tr><tr><td>algorithm.result_class</td><td>org.apache.hugegraph.computer.core.config.Null</td><td>é¡¶ç‚¹å€¼çš„ç±»,ç”¨äºå­˜å‚¨é¡¶ç‚¹çš„è®¡ç®—ç»“æœã€‚</td></tr><tr><td>algorithm.message_class</td><td>org.apache.hugegraph.computer.core.config.Null</td><td>è®¡ç®—é¡¶ç‚¹æ—¶ä¼ é€’çš„æ¶ˆæ¯ç±»ã€‚</td></tr></tbody></table><hr><h3 id=3-è¾“å…¥é…ç½®>3. è¾“å…¥é…ç½®</h3><p>ä» HugeGraph æˆ–å…¶ä»–æ•°æ®æºåŠ è½½è¾“å…¥æ•°æ®çš„é…ç½®ã€‚</p><h4 id=31-è¾“å…¥æº>3.1 è¾“å…¥æº</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>input.source_type</td><td>hugegraph-server</td><td>åŠ è½½è¾“å…¥æ•°æ®çš„æºç±»å‹,å…è®¸å€¼:[&lsquo;hugegraph-server&rsquo;, &lsquo;hugegraph-loader&rsquo;]ã€‚&lsquo;hugegraph-loader&rsquo; è¡¨ç¤ºä½¿ç”¨ hugegraph-loader ä» HDFS æˆ–æ–‡ä»¶åŠ è½½æ•°æ®ã€‚å¦‚æœä½¿ç”¨ &lsquo;hugegraph-loader&rsquo;,è¯·é…ç½® &lsquo;input.loader_struct_path&rsquo; å’Œ &lsquo;input.loader_schema_path&rsquo;ã€‚</td></tr><tr><td>input.loader_struct_path</td><td>"" (ç©º)</td><td>Loader è¾“å…¥çš„ç»“æ„è·¯å¾„,ä»…åœ¨ input.source_type=loader å¯ç”¨æ—¶ç”Ÿæ•ˆã€‚</td></tr><tr><td>input.loader_schema_path</td><td>"" (ç©º)</td><td>Loader è¾“å…¥çš„ schema è·¯å¾„,ä»…åœ¨ input.source_type=loader å¯ç”¨æ—¶ç”Ÿæ•ˆã€‚</td></tr></tbody></table><h4 id=32-è¾“å…¥åˆ†ç‰‡>3.2 è¾“å…¥åˆ†ç‰‡</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>input.split_size</td><td>1048576 (1 MB)</td><td>è¾“å…¥åˆ†ç‰‡å¤§å°(å­—èŠ‚)ã€‚</td></tr><tr><td>input.split_max_splits</td><td>10000000</td><td>æœ€å¤§è¾“å…¥åˆ†ç‰‡æ•°é‡ã€‚</td></tr><tr><td>input.split_page_size</td><td>500</td><td>æµå¼åŠ è½½è¾“å…¥åˆ†ç‰‡æ•°æ®çš„é¡µé¢å¤§å°ã€‚</td></tr><tr><td>input.split_fetch_timeout</td><td>300</td><td>è·å–è¾“å…¥åˆ†ç‰‡çš„è¶…æ—¶æ—¶é—´(ç§’)ã€‚</td></tr></tbody></table><h4 id=33-è¾“å…¥å¤„ç†>3.3 è¾“å…¥å¤„ç†</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>input.filter_class</td><td>org.apache.hugegraph.computer.core.input.filter.DefaultInputFilter</td><td>åˆ›å»ºè¾“å…¥è¿‡æ»¤å™¨å¯¹è±¡çš„ç±»ã€‚è¾“å…¥è¿‡æ»¤å™¨ç”¨äºæ ¹æ®ç”¨æˆ·éœ€æ±‚è¿‡æ»¤é¡¶ç‚¹è¾¹ã€‚</td></tr><tr><td>input.edge_direction</td><td>OUT</td><td>è¦åŠ è½½çš„è¾¹çš„æ–¹å‘,å…è®¸å€¼:[OUT, IN, BOTH]ã€‚å½“å€¼ä¸º BOTH æ—¶,å°†åŠ è½½ OUT å’Œ IN ä¸¤ä¸ªæ–¹å‘çš„è¾¹ã€‚</td></tr><tr><td>input.edge_freq</td><td>MULTIPLE</td><td>ä¸€å¯¹é¡¶ç‚¹ä¹‹é—´å¯ä»¥å­˜åœ¨çš„è¾¹çš„é¢‘ç‡,å…è®¸å€¼:[SINGLE, SINGLE_PER_LABEL, MULTIPLE]ã€‚SINGLE è¡¨ç¤ºä¸€å¯¹é¡¶ç‚¹ä¹‹é—´åªèƒ½å­˜åœ¨ä¸€æ¡è¾¹(é€šè¿‡ sourceId + targetId æ ‡è¯†);SINGLE_PER_LABEL è¡¨ç¤ºæ¯ä¸ªè¾¹æ ‡ç­¾åœ¨ä¸€å¯¹é¡¶ç‚¹ä¹‹é—´å¯ä»¥æœ‰ä¸€æ¡è¾¹(é€šè¿‡ sourceId + edgeLabel + targetId æ ‡è¯†);MULTIPLE è¡¨ç¤ºä¸€å¯¹é¡¶ç‚¹ä¹‹é—´å¯ä»¥å­˜åœ¨å¤šæ¡è¾¹(é€šè¿‡ sourceId + edgeLabel + sortValues + targetId æ ‡è¯†)ã€‚</td></tr><tr><td>input.max_edges_in_one_vertex</td><td>200</td><td>å…è®¸é™„åŠ åˆ°ä¸€ä¸ªé¡¶ç‚¹çš„æœ€å¤§é‚»æ¥è¾¹æ•°é‡ã€‚é‚»æ¥è¾¹å°†ä½œä¸ºä¸€ä¸ªæ‰¹å¤„ç†å•å…ƒä¸€èµ·å­˜å‚¨å’Œä¼ è¾“ã€‚</td></tr></tbody></table><h4 id=34-è¾“å…¥æ€§èƒ½>3.4 è¾“å…¥æ€§èƒ½</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>input.send_thread_nums</td><td>4</td><td>å¹¶è¡Œå‘é€é¡¶ç‚¹æˆ–è¾¹çš„çº¿ç¨‹æ•°é‡ã€‚</td></tr></tbody></table><hr><h3 id=4-å¿«ç…§ä¸å­˜å‚¨é…ç½®>4. å¿«ç…§ä¸å­˜å‚¨é…ç½®</h3><p>HugeGraph-Computer æ”¯æŒå¿«ç…§åŠŸèƒ½,å¯å°†é¡¶ç‚¹/è¾¹åˆ†åŒºä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨æˆ– MinIO å¯¹è±¡å­˜å‚¨,ç”¨äºæ–­ç‚¹æ¢å¤æˆ–åŠ é€Ÿé‡å¤è®¡ç®—ã€‚</p><h4 id=41-åŸºç¡€å¿«ç…§é…ç½®>4.1 åŸºç¡€å¿«ç…§é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>snapshot.write</td><td>false</td><td>æ˜¯å¦å†™å…¥è¾“å…¥é¡¶ç‚¹/è¾¹åˆ†åŒºçš„å¿«ç…§ã€‚</td></tr><tr><td>snapshot.load</td><td>false</td><td>æ˜¯å¦ä»é¡¶ç‚¹/è¾¹åˆ†åŒºçš„å¿«ç…§åŠ è½½ã€‚</td></tr><tr><td>snapshot.name</td><td>"" (ç©º)</td><td>ç”¨æˆ·è‡ªå®šä¹‰çš„å¿«ç…§åç§°,ç”¨äºåŒºåˆ†ä¸åŒçš„å¿«ç…§ã€‚</td></tr></tbody></table><h4 id=42-minio-é›†æˆå¯é€‰>4.2 MinIO é›†æˆ(å¯é€‰)</h4><p>MinIO å¯ç”¨ä½œ K8s éƒ¨ç½²ä¸­å¿«ç…§çš„åˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨åç«¯ã€‚</p><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>snapshot.minio_endpoint</td><td>"" (ç©º)</td><td>MinIO æœåŠ¡ç«¯ç‚¹(ä¾‹å¦‚ <code>http://minio:9000</code>)ã€‚ä½¿ç”¨ MinIO æ—¶å¿…å¡«ã€‚</td></tr><tr><td>snapshot.minio_access_key</td><td>minioadmin</td><td>MinIO è®¤è¯è®¿é—®å¯†é’¥ã€‚</td></tr><tr><td>snapshot.minio_secret_key</td><td>minioadmin</td><td>MinIO è®¤è¯å¯†é’¥ã€‚</td></tr><tr><td>snapshot.minio_bucket_name</td><td>"" (ç©º)</td><td>ç”¨äºå­˜å‚¨å¿«ç…§æ•°æ®çš„ MinIO å­˜å‚¨æ¡¶åç§°ã€‚</td></tr></tbody></table><p><strong>ä½¿ç”¨åœºæ™¯:</strong></p><ul><li><strong>æ–­ç‚¹æ¢å¤</strong>:ä½œä¸šå¤±è´¥åä»å¿«ç…§æ¢å¤,é¿å…é‡æ–°åŠ è½½æ•°æ®</li><li><strong>é‡å¤è®¡ç®—</strong>:å¤šæ¬¡è¿è¡ŒåŒä¸€ç®—æ³•æ—¶ä»å¿«ç…§åŠ è½½æ•°æ®ä»¥åŠ é€Ÿå¯åŠ¨</li><li><strong>A/B æµ‹è¯•</strong>:ä¿å­˜åŒä¸€æ•°æ®é›†çš„å¤šä¸ªå¿«ç…§ç‰ˆæœ¬,æµ‹è¯•ä¸åŒçš„ç®—æ³•å‚æ•°</li></ul><p><strong>ç¤ºä¾‹:æœ¬åœ°å¿«ç…§</strong>(åœ¨ <code>computer.properties</code> ä¸­):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>snapshot.write=true
</span></span><span style=display:flex><span>snapshot.name=pagerank-snapshot-20260201
</span></span></code></pre></div><p><strong>ç¤ºä¾‹:MinIO å¿«ç…§</strong>(åœ¨ K8s CRD <code>computerConf</code> ä¸­):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>computerConf</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>snapshot.write</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>snapshot.name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;pagerank-snapshot-v1&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>snapshot.minio_endpoint</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;http://minio:9000&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>snapshot.minio_access_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;my-access-key&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>snapshot.minio_secret_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;my-secret-key&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>snapshot.minio_bucket_name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;hugegraph-snapshots&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><hr><h3 id=5-worker-ä¸-master-é…ç½®>5. Worker ä¸ Master é…ç½®</h3><p>Worker å’Œ Master è®¡ç®—é€»è¾‘çš„é…ç½®ã€‚</p><h4 id=51-master-é…ç½®>5.1 Master é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>master.computation_class</td><td>org.apache.hugegraph.computer.core.master.DefaultMasterComputation</td><td>Master è®¡ç®—æ˜¯å¯ä»¥å†³å®šæ˜¯å¦ç»§ç»­ä¸‹ä¸€ä¸ªè¶…æ­¥çš„è®¡ç®—ã€‚å®ƒåœ¨æ¯ä¸ªè¶…æ­¥ç»“æŸæ—¶åœ¨ master ä¸Šè¿è¡Œã€‚</td></tr></tbody></table><h4 id=52-worker-è®¡ç®—>5.2 Worker è®¡ç®—</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>worker.computation_class</td><td>org.apache.hugegraph.computer.core.config.Null</td><td>åˆ›å»º worker è®¡ç®—å¯¹è±¡çš„ç±»ã€‚Worker è®¡ç®—ç”¨äºåœ¨æ¯ä¸ªè¶…æ­¥ä¸­è®¡ç®—æ¯ä¸ªé¡¶ç‚¹ã€‚</td></tr><tr><td>worker.combiner_class</td><td>org.apache.hugegraph.computer.core.config.Null</td><td>Combiner å¯ä»¥å°†æ¶ˆæ¯ç»„åˆä¸ºä¸€ä¸ªé¡¶ç‚¹çš„ä¸€ä¸ªå€¼ã€‚ä¾‹å¦‚,PageRank ç®—æ³•å¯ä»¥å°†ä¸€ä¸ªé¡¶ç‚¹çš„æ¶ˆæ¯ç»„åˆä¸ºä¸€ä¸ªæ±‚å’Œå€¼ã€‚</td></tr><tr><td>worker.partitioner</td><td>org.apache.hugegraph.computer.core.graph.partition.HashPartitioner</td><td>åˆ†åŒºå™¨,å†³å®šé¡¶ç‚¹åº”è¯¥åœ¨å“ªä¸ªåˆ†åŒºä¸­,ä»¥åŠåˆ†åŒºåº”è¯¥åœ¨å“ªä¸ª worker ä¸­ã€‚</td></tr></tbody></table><h4 id=53-worker-ç»„åˆå™¨>5.3 Worker ç»„åˆå™¨</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>worker.vertex_properties_combiner_class</td><td>org.apache.hugegraph.computer.core.combiner.OverwritePropertiesCombiner</td><td>ç»„åˆå™¨å¯ä»¥åœ¨è¾“å…¥æ­¥éª¤å°†åŒä¸€é¡¶ç‚¹çš„å¤šä¸ªå±æ€§ç»„åˆä¸ºä¸€ä¸ªå±æ€§ã€‚</td></tr><tr><td>worker.edge_properties_combiner_class</td><td>org.apache.hugegraph.computer.core.combiner.OverwritePropertiesCombiner</td><td>ç»„åˆå™¨å¯ä»¥åœ¨è¾“å…¥æ­¥éª¤å°†åŒä¸€è¾¹çš„å¤šä¸ªå±æ€§ç»„åˆä¸ºä¸€ä¸ªå±æ€§ã€‚</td></tr></tbody></table><h4 id=54-worker-ç¼“å†²åŒº>5.4 Worker ç¼“å†²åŒº</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>worker.received_buffers_bytes_limit</td><td>104857600 (100 MB)</td><td>æ¥æ”¶æ•°æ®ç¼“å†²åŒºçš„é™åˆ¶å­—èŠ‚æ•°ã€‚æ‰€æœ‰ç¼“å†²åŒºçš„æ€»å¤§å°ä¸èƒ½è¶…è¿‡æ­¤é™åˆ¶ã€‚å¦‚æœæ¥æ”¶ç¼“å†²åŒºè¾¾åˆ°æ­¤é™åˆ¶,å®ƒä»¬å°†è¢«åˆå¹¶åˆ°æ–‡ä»¶ä¸­(æº¢å‡ºåˆ°ç£ç›˜)ã€‚</td></tr><tr><td>worker.write_buffer_capacity</td><td>52428800 (50 MB)</td><td>ç”¨äºå­˜å‚¨é¡¶ç‚¹æˆ–æ¶ˆæ¯çš„å†™ç¼“å†²åŒºçš„åˆå§‹å¤§å°ã€‚</td></tr><tr><td>worker.write_buffer_threshold</td><td>52428800 (50 MB)</td><td>å†™ç¼“å†²åŒºçš„é˜ˆå€¼ã€‚è¶…è¿‡å®ƒå°†è§¦å‘æ’åºã€‚å†™ç¼“å†²åŒºç”¨äºå­˜å‚¨é¡¶ç‚¹æˆ–æ¶ˆæ¯ã€‚</td></tr></tbody></table><h4 id=55-worker-æ•°æ®ä¸è¶…æ—¶>5.5 Worker æ•°æ®ä¸è¶…æ—¶</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>worker.data_dirs</td><td>[jobs]</td><td>ç”¨é€—å·åˆ†éš”çš„ç›®å½•,æ¥æ”¶çš„é¡¶ç‚¹å’Œæ¶ˆæ¯å¯ä»¥æŒä¹…åŒ–åˆ°å…¶ä¸­ã€‚</td></tr><tr><td>worker.wait_sort_timeout</td><td>600000 (10 åˆ†é’Ÿ)</td><td>æ¶ˆæ¯å¤„ç†ç¨‹åºç­‰å¾…æ’åºçº¿ç¨‹å¯¹ä¸€æ‰¹ç¼“å†²åŒºè¿›è¡Œæ’åºçš„æœ€å¤§è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr><tr><td>worker.wait_finish_messages_timeout</td><td>86400000 (24 å°æ—¶)</td><td>æ¶ˆæ¯å¤„ç†ç¨‹åºç­‰å¾…æ‰€æœ‰ worker å®Œæˆæ¶ˆæ¯çš„æœ€å¤§è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr></tbody></table><hr><h3 id=6-io-ä¸è¾“å‡ºé…ç½®>6. I/O ä¸è¾“å‡ºé…ç½®</h3><p>è¾“å‡ºè®¡ç®—ç»“æœçš„é…ç½®ã€‚</p><h4 id=61-è¾“å‡ºç±»ä¸ç»“æœ>6.1 è¾“å‡ºç±»ä¸ç»“æœ</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>output.output_class</td><td>org.apache.hugegraph.computer.core.output.LogOutput</td><td>è¾“å‡ºæ¯ä¸ªé¡¶ç‚¹è®¡ç®—ç»“æœçš„ç±»ã€‚åœ¨è¿­ä»£è®¡ç®—åè°ƒç”¨ã€‚</td></tr><tr><td>output.result_name</td><td>value</td><td>è¯¥å€¼ç”± WORKER_COMPUTATION_CLASS åˆ›å»ºçš„å®ä¾‹çš„ #name() åŠ¨æ€åˆ†é…ã€‚</td></tr><tr><td>output.result_write_type</td><td>OLAP_COMMON</td><td>è¾“å‡ºåˆ° HugeGraph çš„ç»“æœå†™å…¥ç±»å‹,å…è®¸å€¼:[OLAP_COMMON, OLAP_SECONDARY, OLAP_RANGE]ã€‚</td></tr></tbody></table><h4 id=62-è¾“å‡ºè¡Œä¸º>6.2 è¾“å‡ºè¡Œä¸º</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>output.with_adjacent_edges</td><td>false</td><td>æ˜¯å¦è¾“å‡ºé¡¶ç‚¹çš„é‚»æ¥è¾¹ã€‚</td></tr><tr><td>output.with_vertex_properties</td><td>false</td><td>æ˜¯å¦è¾“å‡ºé¡¶ç‚¹çš„å±æ€§ã€‚</td></tr><tr><td>output.with_edge_properties</td><td>false</td><td>æ˜¯å¦è¾“å‡ºè¾¹çš„å±æ€§ã€‚</td></tr></tbody></table><h4 id=63-æ‰¹é‡è¾“å‡º>6.3 æ‰¹é‡è¾“å‡º</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>output.batch_size</td><td>500</td><td>è¾“å‡ºçš„æ‰¹å¤„ç†å¤§å°ã€‚</td></tr><tr><td>output.batch_threads</td><td>1</td><td>ç”¨äºæ‰¹é‡è¾“å‡ºçš„çº¿ç¨‹æ•°é‡ã€‚</td></tr><tr><td>output.single_threads</td><td>1</td><td>ç”¨äºå•ä¸ªè¾“å‡ºçš„çº¿ç¨‹æ•°é‡ã€‚</td></tr></tbody></table><h4 id=64-hdfs-è¾“å‡º>6.4 HDFS è¾“å‡º</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>output.hdfs_url</td><td>hdfs://127.0.0.1:9000</td><td>è¾“å‡ºçš„ HDFS URLã€‚</td></tr><tr><td>output.hdfs_user</td><td>hadoop</td><td>è¾“å‡ºçš„ HDFS ç”¨æˆ·ã€‚</td></tr><tr><td>output.hdfs_path_prefix</td><td>/hugegraph-computer/results</td><td>HDFS è¾“å‡ºç»“æœçš„ç›®å½•ã€‚</td></tr><tr><td>output.hdfs_delimiter</td><td>, (é€—å·)</td><td>HDFS è¾“å‡ºçš„åˆ†éš”ç¬¦ã€‚</td></tr><tr><td>output.hdfs_merge_partitions</td><td>true</td><td>æ˜¯å¦åˆå¹¶å¤šä¸ªåˆ†åŒºçš„è¾“å‡ºæ–‡ä»¶ã€‚</td></tr><tr><td>output.hdfs_replication</td><td>3</td><td>HDFS çš„å‰¯æœ¬æ•°ã€‚</td></tr><tr><td>output.hdfs_core_site_path</td><td>"" (ç©º)</td><td>HDFS core site è·¯å¾„ã€‚</td></tr><tr><td>output.hdfs_site_path</td><td>"" (ç©º)</td><td>HDFS site è·¯å¾„ã€‚</td></tr><tr><td>output.hdfs_kerberos_enable</td><td>false</td><td>æ˜¯å¦ä¸º HDFS å¯ç”¨ Kerberos è®¤è¯ã€‚</td></tr><tr><td>output.hdfs_kerberos_principal</td><td>"" (ç©º)</td><td>HDFS çš„ Kerberos è®¤è¯ principalã€‚</td></tr><tr><td>output.hdfs_kerberos_keytab</td><td>"" (ç©º)</td><td>HDFS çš„ Kerberos è®¤è¯ keytab æ–‡ä»¶ã€‚</td></tr><tr><td>output.hdfs_krb5_conf</td><td>/etc/krb5.conf</td><td>Kerberos é…ç½®æ–‡ä»¶è·¯å¾„ã€‚</td></tr></tbody></table><h4 id=65-é‡è¯•ä¸è¶…æ—¶>6.5 é‡è¯•ä¸è¶…æ—¶</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>output.retry_times</td><td>3</td><td>è¾“å‡ºå¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°ã€‚</td></tr><tr><td>output.retry_interval</td><td>10</td><td>è¾“å‡ºå¤±è´¥æ—¶çš„é‡è¯•é—´éš”(ç§’)ã€‚</td></tr><tr><td>output.thread_pool_shutdown_timeout</td><td>60</td><td>è¾“å‡ºçº¿ç¨‹æ± å…³é—­çš„è¶…æ—¶æ—¶é—´(ç§’)ã€‚</td></tr></tbody></table><hr><h3 id=7-ç½‘ç»œä¸ä¼ è¾“é…ç½®>7. ç½‘ç»œä¸ä¼ è¾“é…ç½®</h3><p>Worker å’Œ Master ä¹‹é—´ç½‘ç»œé€šä¿¡çš„é…ç½®ã€‚</p><h4 id=71-æœåŠ¡å™¨é…ç½®>7.1 æœåŠ¡å™¨é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>transport.server_host</td><td>127.0.0.1</td><td>ğŸ”’ <strong>ç”±ç³»ç»Ÿç®¡ç†</strong> ç›‘å¬ä¼ è¾“æ•°æ®çš„æœåŠ¡å™¨ä¸»æœºåæˆ– IPã€‚ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚</td></tr><tr><td>transport.server_port</td><td>0</td><td>ğŸ”’ <strong>ç”±ç³»ç»Ÿç®¡ç†</strong> ç›‘å¬ä¼ è¾“æ•°æ®çš„æœåŠ¡å™¨ç«¯å£ã€‚å¦‚æœè®¾ç½®ä¸º 0,ç³»ç»Ÿå°†åˆ†é…ä¸€ä¸ªéšæœºç«¯å£ã€‚ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚</td></tr><tr><td>transport.server_threads</td><td>4</td><td>æœåŠ¡å™¨ä¼ è¾“çº¿ç¨‹çš„æ•°é‡ã€‚</td></tr></tbody></table><h4 id=72-å®¢æˆ·ç«¯é…ç½®>7.2 å®¢æˆ·ç«¯é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>transport.client_threads</td><td>4</td><td>å®¢æˆ·ç«¯ä¼ è¾“çº¿ç¨‹çš„æ•°é‡ã€‚</td></tr><tr><td>transport.client_connect_timeout</td><td>3000</td><td>å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨çš„è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr></tbody></table><h4 id=73-åè®®é…ç½®>7.3 åè®®é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>transport.provider_class</td><td>org.apache.hugegraph.computer.core.network.netty.NettyTransportProvider</td><td>ä¼ è¾“æä¾›ç¨‹åº,ç›®å‰ä»…æ”¯æŒ Nettyã€‚</td></tr><tr><td>transport.io_mode</td><td>AUTO</td><td>ç½‘ç»œ IO æ¨¡å¼,å…è®¸å€¼:[NIO, EPOLL, AUTO]ã€‚AUTO è¡¨ç¤ºè‡ªåŠ¨é€‰æ‹©é€‚å½“çš„æ¨¡å¼ã€‚</td></tr><tr><td>transport.tcp_keep_alive</td><td>true</td><td>æ˜¯å¦å¯ç”¨ TCP keep-aliveã€‚</td></tr><tr><td>transport.transport_epoll_lt</td><td>false</td><td>æ˜¯å¦å¯ç”¨ EPOLL æ°´å¹³è§¦å‘(ä»…åœ¨ io_mode=EPOLL æ—¶æœ‰æ•ˆ)ã€‚</td></tr></tbody></table><h4 id=74-ç¼“å†²åŒºé…ç½®>7.4 ç¼“å†²åŒºé…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>transport.send_buffer_size</td><td>0</td><td>Socket å‘é€ç¼“å†²åŒºå¤§å°(å­—èŠ‚)ã€‚0 è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å€¼ã€‚</td></tr><tr><td>transport.receive_buffer_size</td><td>0</td><td>Socket æ¥æ”¶ç¼“å†²åŒºå¤§å°(å­—èŠ‚)ã€‚0 è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å€¼ã€‚</td></tr><tr><td>transport.write_buffer_high_mark</td><td>67108864 (64 MB)</td><td>å†™ç¼“å†²åŒºçš„é«˜æ°´ä½æ ‡è®°(å­—èŠ‚)ã€‚å¦‚æœæ’é˜Ÿå­—èŠ‚æ•° > write_buffer_high_mark,å°†è§¦å‘å‘é€ä¸å¯ç”¨ã€‚</td></tr><tr><td>transport.write_buffer_low_mark</td><td>33554432 (32 MB)</td><td>å†™ç¼“å†²åŒºçš„ä½æ°´ä½æ ‡è®°(å­—èŠ‚)ã€‚å¦‚æœæ’é˜Ÿå­—èŠ‚æ•° &lt; write_buffer_low_mark,å°†è§¦å‘å‘é€å¯ç”¨ã€‚</td></tr></tbody></table><h4 id=75-æµé‡æ§åˆ¶>7.5 æµé‡æ§åˆ¶</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>transport.max_pending_requests</td><td>8</td><td>å®¢æˆ·ç«¯æœªæ¥æ”¶ ACK çš„æœ€å¤§æ•°é‡ã€‚å¦‚æœæœªæ¥æ”¶ ACK çš„æ•°é‡ >= max_pending_requests,å°†è§¦å‘å‘é€ä¸å¯ç”¨ã€‚</td></tr><tr><td>transport.min_pending_requests</td><td>6</td><td>å®¢æˆ·ç«¯æœªæ¥æ”¶ ACK çš„æœ€å°æ•°é‡ã€‚å¦‚æœæœªæ¥æ”¶ ACK çš„æ•°é‡ &lt; min_pending_requests,å°†è§¦å‘å‘é€å¯ç”¨ã€‚</td></tr><tr><td>transport.min_ack_interval</td><td>200</td><td>æœåŠ¡å™¨å›å¤ ACK çš„æœ€å°é—´éš”(æ¯«ç§’)ã€‚</td></tr></tbody></table><h4 id=76-è¶…æ—¶é…ç½®>7.6 è¶…æ—¶é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>transport.close_timeout</td><td>10000</td><td>å…³é—­æœåŠ¡å™¨æˆ–å…³é—­å®¢æˆ·ç«¯çš„è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr><tr><td>transport.sync_request_timeout</td><td>10000</td><td>å‘é€åŒæ­¥è¯·æ±‚åç­‰å¾…å“åº”çš„è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr><tr><td>transport.finish_session_timeout</td><td>0</td><td>å®Œæˆä¼šè¯çš„è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚0 è¡¨ç¤ºä½¿ç”¨ (transport.sync_request_timeout Ã— transport.max_pending_requests)ã€‚</td></tr><tr><td>transport.write_socket_timeout</td><td>3000</td><td>å°†æ•°æ®å†™å…¥ socket ç¼“å†²åŒºçš„è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr><tr><td>transport.server_idle_timeout</td><td>360000 (6 åˆ†é’Ÿ)</td><td>æœåŠ¡å™¨ç©ºé—²çš„æœ€å¤§è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr></tbody></table><h4 id=77-å¿ƒè·³é…ç½®>7.7 å¿ƒè·³é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>transport.heartbeat_interval</td><td>20000 (20 ç§’)</td><td>å®¢æˆ·ç«¯å¿ƒè·³ä¹‹é—´çš„æœ€å°é—´éš”(æ¯«ç§’)ã€‚</td></tr><tr><td>transport.max_timeout_heartbeat_count</td><td>120</td><td>å®¢æˆ·ç«¯è¶…æ—¶å¿ƒè·³çš„æœ€å¤§æ¬¡æ•°ã€‚å¦‚æœè¿ç»­ç­‰å¾…å¿ƒè·³å“åº”è¶…æ—¶çš„æ¬¡æ•° > max_timeout_heartbeat_count,é€šé“å°†ä»å®¢æˆ·ç«¯å…³é—­ã€‚</td></tr></tbody></table><h4 id=78-é«˜çº§ç½‘ç»œè®¾ç½®>7.8 é«˜çº§ç½‘ç»œè®¾ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>transport.max_syn_backlog</td><td>511</td><td>æœåŠ¡å™¨ç«¯ SYN é˜Ÿåˆ—çš„å®¹é‡ã€‚0 è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å€¼ã€‚</td></tr><tr><td>transport.recv_file_mode</td><td>true</td><td>æ˜¯å¦å¯ç”¨æ¥æ”¶ç¼“å†²æ–‡ä»¶æ¨¡å¼ã€‚å¦‚æœå¯ç”¨,å°†ä½¿ç”¨é›¶æ‹·è´ä» socket æ¥æ”¶ç¼“å†²åŒºå¹¶å†™å…¥æ–‡ä»¶ã€‚<strong>æ³¨æ„</strong>:éœ€è¦æ“ä½œç³»ç»Ÿæ”¯æŒé›¶æ‹·è´(ä¾‹å¦‚ Linux sendfile/splice)ã€‚</td></tr><tr><td>transport.network_retries</td><td>3</td><td>ç½‘ç»œé€šä¿¡ä¸ç¨³å®šæ—¶çš„é‡è¯•æ¬¡æ•°ã€‚</td></tr></tbody></table><hr><h3 id=8-å­˜å‚¨ä¸æŒä¹…åŒ–é…ç½®>8. å­˜å‚¨ä¸æŒä¹…åŒ–é…ç½®</h3><p>HGKV(HugeGraph Key-Value)å­˜å‚¨å¼•æ“å’Œå€¼æ–‡ä»¶çš„é…ç½®ã€‚</p><h4 id=81-hgkv-é…ç½®>8.1 HGKV é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>hgkv.max_file_size</td><td>2147483648 (2 GB)</td><td>æ¯ä¸ª HGKV æ–‡ä»¶çš„æœ€å¤§å­—èŠ‚æ•°ã€‚</td></tr><tr><td>hgkv.max_data_block_size</td><td>65536 (64 KB)</td><td>HGKV æ–‡ä»¶æ•°æ®å—çš„æœ€å¤§å­—èŠ‚å¤§å°ã€‚</td></tr><tr><td>hgkv.max_merge_files</td><td>10</td><td>ä¸€æ¬¡åˆå¹¶çš„æœ€å¤§æ–‡ä»¶æ•°ã€‚</td></tr><tr><td>hgkv.temp_file_dir</td><td>/tmp/hgkv</td><td>æ­¤æ–‡ä»¶å¤¹ç”¨äºåœ¨æ–‡ä»¶åˆå¹¶è¿‡ç¨‹ä¸­å­˜å‚¨ä¸´æ—¶æ–‡ä»¶ã€‚</td></tr></tbody></table><h4 id=82-å€¼æ–‡ä»¶é…ç½®>8.2 å€¼æ–‡ä»¶é…ç½®</h4><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>valuefile.max_segment_size</td><td>1073741824 (1 GB)</td><td>å€¼æ–‡ä»¶æ¯ä¸ªæ®µçš„æœ€å¤§å­—èŠ‚æ•°ã€‚</td></tr></tbody></table><hr><h3 id=9-bsp-ä¸åè°ƒé…ç½®>9. BSP ä¸åè°ƒé…ç½®</h3><p>æ‰¹é‡åŒæ­¥å¹¶è¡Œ(BSP)åè®®å’Œ etcd åè°ƒçš„é…ç½®ã€‚</p><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>bsp.etcd_endpoints</td><td>http://localhost:2379</td><td>ğŸ”’ <strong>åœ¨ K8s ä¸­ç”±ç³»ç»Ÿç®¡ç†</strong> è®¿é—® etcd çš„ç«¯ç‚¹ã€‚å¯¹äºå¤šä¸ªç«¯ç‚¹,ä½¿ç”¨é€—å·åˆ†éš”åˆ—è¡¨:<code>http://host1:port1,http://host2:port2</code>ã€‚ä¸è¦åœ¨ K8s éƒ¨ç½²ä¸­æ‰‹åŠ¨ä¿®æ”¹ã€‚</td></tr><tr><td>bsp.max_super_step</td><td>10 (æ‰“åŒ…: 2)</td><td>ç®—æ³•çš„æœ€å¤§è¶…æ­¥æ•°ã€‚</td></tr><tr><td>bsp.register_timeout</td><td>300000 (æ‰“åŒ…: 100000)</td><td>ç­‰å¾… master å’Œ worker æ³¨å†Œçš„æœ€å¤§è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr><tr><td>bsp.wait_workers_timeout</td><td>86400000 (24 å°æ—¶)</td><td>ç­‰å¾… worker BSP äº‹ä»¶çš„æœ€å¤§è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr><tr><td>bsp.wait_master_timeout</td><td>86400000 (24 å°æ—¶)</td><td>ç­‰å¾… master BSP äº‹ä»¶çš„æœ€å¤§è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr><tr><td>bsp.log_interval</td><td>30000 (30 ç§’)</td><td>ç­‰å¾… BSP äº‹ä»¶æ—¶æ‰“å°æ—¥å¿—çš„æ—¥å¿—é—´éš”(æ¯«ç§’)ã€‚</td></tr></tbody></table><hr><h3 id=10-æ€§èƒ½è°ƒä¼˜é…ç½®>10. æ€§èƒ½è°ƒä¼˜é…ç½®</h3><p>æ€§èƒ½ä¼˜åŒ–çš„é…ç½®ã€‚</p><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>allocator.max_vertices_per_thread</td><td>10000</td><td>æ¯ä¸ªå†…å­˜åˆ†é…å™¨ä¸­æ¯ä¸ªçº¿ç¨‹å¤„ç†çš„æœ€å¤§é¡¶ç‚¹æ•°ã€‚</td></tr><tr><td>sort.thread_nums</td><td>4</td><td>æ‰§è¡Œå†…éƒ¨æ’åºçš„çº¿ç¨‹æ•°é‡ã€‚</td></tr></tbody></table><hr><h3 id=11-ç³»ç»Ÿç®¡ç†é…ç½®>11. ç³»ç»Ÿç®¡ç†é…ç½®</h3><p>âš ï¸ <strong>ç”±ç³»ç»Ÿç®¡ç†çš„é…ç½®é¡¹ - ç¦æ­¢ç”¨æˆ·æ‰‹åŠ¨ä¿®æ”¹ã€‚</strong></p><p>ä»¥ä¸‹é…ç½®é¡¹ç”± K8s Operatorã€Driver æˆ–è¿è¡Œæ—¶ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ã€‚æ‰‹åŠ¨ä¿®æ”¹å°†å¯¼è‡´é›†ç¾¤é€šä¿¡å¤±è´¥æˆ–ä½œä¸šè°ƒåº¦é”™è¯¯ã€‚</p><table><thead><tr><th>é…ç½®é¡¹</th><th>ç®¡ç†è€…</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>bsp.etcd_endpoints</td><td>K8s Operator</td><td>è‡ªåŠ¨è®¾ç½®ä¸º operator çš„ etcd æœåŠ¡åœ°å€</td></tr><tr><td>transport.server_host</td><td>è¿è¡Œæ—¶</td><td>è‡ªåŠ¨è®¾ç½®ä¸º pod/å®¹å™¨ä¸»æœºå</td></tr><tr><td>transport.server_port</td><td>è¿è¡Œæ—¶</td><td>è‡ªåŠ¨åˆ†é…éšæœºç«¯å£</td></tr><tr><td>job.namespace</td><td>K8s Operator</td><td>è‡ªåŠ¨è®¾ç½®ä¸ºä½œä¸šå‘½åç©ºé—´</td></tr><tr><td>job.id</td><td>K8s Operator</td><td>è‡ªåŠ¨ä» CRD è®¾ç½®ä¸ºä½œä¸š ID</td></tr><tr><td>job.workers_count</td><td>K8s Operator</td><td>è‡ªåŠ¨ä» CRD <code>workerInstances</code> è®¾ç½®</td></tr><tr><td>rpc.server_host</td><td>è¿è¡Œæ—¶</td><td>RPC æœåŠ¡å™¨ä¸»æœºå(ç³»ç»Ÿç®¡ç†)</td></tr><tr><td>rpc.server_port</td><td>è¿è¡Œæ—¶</td><td>RPC æœåŠ¡å™¨ç«¯å£(ç³»ç»Ÿç®¡ç†)</td></tr><tr><td>rpc.remote_url</td><td>è¿è¡Œæ—¶</td><td>RPC è¿œç¨‹ URL(ç³»ç»Ÿç®¡ç†)</td></tr></tbody></table><p><strong>ä¸ºä»€ä¹ˆç¦æ­¢ä¿®æ”¹:</strong></p><ul><li><strong>BSP/RPC é…ç½®</strong>:å¿…é¡»ä¸å®é™…éƒ¨ç½²çš„ etcd/RPC æœåŠ¡åŒ¹é…ã€‚æ‰‹åŠ¨è¦†ç›–ä¼šç ´ååè°ƒã€‚</li><li><strong>ä½œä¸šé…ç½®</strong>:å¿…é¡»ä¸ K8s CRD è§„èŒƒåŒ¹é…ã€‚ä¸åŒ¹é…ä¼šå¯¼è‡´ worker æ•°é‡é”™è¯¯ã€‚</li><li><strong>ä¼ è¾“é…ç½®</strong>:å¿…é¡»ä½¿ç”¨å®é™…çš„ pod ä¸»æœºå/ç«¯å£ã€‚æ‰‹åŠ¨å€¼ä¼šé˜»æ­¢ worker é—´é€šä¿¡ã€‚</li></ul><hr><h3 id=k8s-operator-é…ç½®é€‰é¡¹>K8s Operator é…ç½®é€‰é¡¹</h3><blockquote><p>æ³¨æ„:é€‰é¡¹éœ€è¦é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®è¿›è¡Œè½¬æ¢,ä¾‹å¦‚ k8s.internal_etcd_url => INTERNAL_ETCD_URL</p></blockquote><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>k8s.auto_destroy_pod</td><td>true</td><td>ä½œä¸šå®Œæˆæˆ–å¤±è´¥æ—¶æ˜¯å¦è‡ªåŠ¨é”€æ¯æ‰€æœ‰ podã€‚</td></tr><tr><td>k8s.close_reconciler_timeout</td><td>120</td><td>å…³é—­ reconciler çš„æœ€å¤§è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr><tr><td>k8s.internal_etcd_url</td><td>http://127.0.0.1:2379</td><td>operator ç³»ç»Ÿçš„å†…éƒ¨ etcd URLã€‚</td></tr><tr><td>k8s.max_reconcile_retry</td><td>3</td><td>reconcile çš„æœ€å¤§é‡è¯•æ¬¡æ•°ã€‚</td></tr><tr><td>k8s.probe_backlog</td><td>50</td><td>æœåŠ¡å¥åº·æ¢é’ˆçš„æœ€å¤§ç§¯å‹ã€‚</td></tr><tr><td>k8s.probe_port</td><td>9892</td><td>controller ç»‘å®šçš„ç”¨äºæœåŠ¡å¥åº·æ¢é’ˆçš„ç«¯å£ã€‚</td></tr><tr><td>k8s.ready_check_internal</td><td>1000</td><td>æ£€æŸ¥å°±ç»ªçš„æ—¶é—´é—´éš”(æ¯«ç§’)ã€‚</td></tr><tr><td>k8s.ready_timeout</td><td>30000</td><td>æ£€æŸ¥å°±ç»ªçš„æœ€å¤§è¶…æ—¶æ—¶é—´(æ¯«ç§’)ã€‚</td></tr><tr><td>k8s.reconciler_count</td><td>10</td><td>reconciler çº¿ç¨‹çš„æœ€å¤§æ•°é‡ã€‚</td></tr><tr><td>k8s.resync_period</td><td>600000</td><td>è¢«ç›‘è§†èµ„æºè¿›è¡Œ reconcile çš„æœ€å°é¢‘ç‡ã€‚</td></tr><tr><td>k8s.timezone</td><td>Asia/Shanghai</td><td>computer ä½œä¸šå’Œ operator çš„æ—¶åŒºã€‚</td></tr><tr><td>k8s.watch_namespace</td><td>hugegraph-computer-system</td><td>ç›‘è§†è‡ªå®šä¹‰èµ„æºçš„å‘½åç©ºé—´ã€‚ä½¿ç”¨ &lsquo;*&rsquo; ç›‘è§†æ‰€æœ‰å‘½åç©ºé—´ã€‚</td></tr></tbody></table><hr><h3 id=hugegraph-computer-crd>HugeGraph-Computer CRD</h3><blockquote><p>CRD: <a href=https://github.com/apache/hugegraph-computer/blob/master/computer-k8s-operator/manifest/hugegraph-computer-crd.v1.yaml>https://github.com/apache/hugegraph-computer/blob/master/computer-k8s-operator/manifest/hugegraph-computer-crd.v1.yaml</a></p></blockquote><table><thead><tr><th>å­—æ®µ</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th><th>å¿…å¡«</th></tr></thead><tbody><tr><td>algorithmName</td><td></td><td>ç®—æ³•åç§°ã€‚</td><td>true</td></tr><tr><td>jobId</td><td></td><td>ä½œä¸š IDã€‚</td><td>true</td></tr><tr><td>image</td><td></td><td>ç®—æ³•é•œåƒã€‚</td><td>true</td></tr><tr><td>computerConf</td><td></td><td>computer é…ç½®é€‰é¡¹çš„æ˜ å°„ã€‚</td><td>true</td></tr><tr><td>workerInstances</td><td></td><td>worker å®ä¾‹æ•°é‡,å°†è¦†ç›– &lsquo;job.workers_count&rsquo; é€‰é¡¹ã€‚</td><td>true</td></tr><tr><td>pullPolicy</td><td>Always</td><td>é•œåƒæ‹‰å–ç­–ç•¥,è¯¦æƒ…è¯·å‚è€ƒ:https://kubernetes.io/docs/concepts/containers/images/#image-pull-policy</td><td>false</td></tr><tr><td>pullSecrets</td><td></td><td>é•œåƒæ‹‰å–å¯†é’¥,è¯¦æƒ…è¯·å‚è€ƒ:https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod</td><td>false</td></tr><tr><td>masterCpu</td><td></td><td>master çš„ CPU é™åˆ¶,å•ä½å¯ä»¥æ˜¯ &rsquo;m&rsquo; æˆ–æ— å•ä½,è¯¦æƒ…è¯·å‚è€ƒ:<a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-cpu>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-cpu</a></td><td>false</td></tr><tr><td>workerCpu</td><td></td><td>worker çš„ CPU é™åˆ¶,å•ä½å¯ä»¥æ˜¯ &rsquo;m&rsquo; æˆ–æ— å•ä½,è¯¦æƒ…è¯·å‚è€ƒ:<a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-cpu>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-cpu</a></td><td>false</td></tr><tr><td>masterMemory</td><td></td><td>master çš„å†…å­˜é™åˆ¶,å•ä½å¯ä»¥æ˜¯ Eiã€Piã€Tiã€Giã€Miã€Ki ä¹‹ä¸€,è¯¦æƒ…è¯·å‚è€ƒ:<a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-memory>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-memory</a></td><td>false</td></tr><tr><td>workerMemory</td><td></td><td>worker çš„å†…å­˜é™åˆ¶,å•ä½å¯ä»¥æ˜¯ Eiã€Piã€Tiã€Giã€Miã€Ki ä¹‹ä¸€,è¯¦æƒ…è¯·å‚è€ƒ:<a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-memory>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-memory</a></td><td>false</td></tr><tr><td>log4jXml</td><td></td><td>computer ä½œä¸šçš„ log4j.xml å†…å®¹ã€‚</td><td>false</td></tr><tr><td>jarFile</td><td></td><td>computer ç®—æ³•çš„ jar è·¯å¾„ã€‚</td><td>false</td></tr><tr><td>remoteJarUri</td><td></td><td>computer ç®—æ³•çš„è¿œç¨‹ jar URI,å°†è¦†ç›–ç®—æ³•é•œåƒã€‚</td><td>false</td></tr><tr><td>jvmOptions</td><td></td><td>computer ä½œä¸šçš„ Java å¯åŠ¨å‚æ•°ã€‚</td><td>false</td></tr><tr><td>envVars</td><td></td><td>è¯·å‚è€ƒ:https://kubernetes.io/docs/tasks/inject-data-application/define-interdependent-environment-variables/</td><td>false</td></tr><tr><td>envFrom</td><td></td><td>è¯·å‚è€ƒ:https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/</td><td>false</td></tr><tr><td>masterCommand</td><td>bin/start-computer.sh</td><td>master çš„è¿è¡Œå‘½ä»¤,ç­‰åŒäº Docker çš„ &lsquo;Entrypoint&rsquo; å­—æ®µã€‚</td><td>false</td></tr><tr><td>masterArgs</td><td>["-r master", &ldquo;-d k8s&rdquo;]</td><td>master çš„è¿è¡Œå‚æ•°,ç­‰åŒäº Docker çš„ &lsquo;Cmd&rsquo; å­—æ®µã€‚</td><td>false</td></tr><tr><td>workerCommand</td><td>bin/start-computer.sh</td><td>worker çš„è¿è¡Œå‘½ä»¤,ç­‰åŒäº Docker çš„ &lsquo;Entrypoint&rsquo; å­—æ®µã€‚</td><td>false</td></tr><tr><td>workerArgs</td><td>["-r worker", &ldquo;-d k8s&rdquo;]</td><td>worker çš„è¿è¡Œå‚æ•°,ç­‰åŒäº Docker çš„ &lsquo;Cmd&rsquo; å­—æ®µã€‚</td><td>false</td></tr><tr><td>volumes</td><td></td><td>è¯·å‚è€ƒ:https://kubernetes.io/docs/concepts/storage/volumes/</td><td>false</td></tr><tr><td>volumeMounts</td><td></td><td>è¯·å‚è€ƒ:https://kubernetes.io/docs/concepts/storage/volumes/</td><td>false</td></tr><tr><td>secretPaths</td><td></td><td>k8s-secret åç§°å’ŒæŒ‚è½½è·¯å¾„çš„æ˜ å°„ã€‚</td><td>false</td></tr><tr><td>configMapPaths</td><td></td><td>k8s-configmap åç§°å’ŒæŒ‚è½½è·¯å¾„çš„æ˜ å°„ã€‚</td><td>false</td></tr><tr><td>podTemplateSpec</td><td></td><td>è¯·å‚è€ƒ:https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec</td><td>false</td></tr><tr><td>securityContext</td><td></td><td>è¯·å‚è€ƒ:https://kubernetes.io/docs/tasks/configure-pod-container/security-context/</td><td>false</td></tr></tbody></table><hr><h3 id=kubedriver-é…ç½®é€‰é¡¹>KubeDriver é…ç½®é€‰é¡¹</h3><table><thead><tr><th>é…ç½®é¡¹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>k8s.build_image_bash_path</td><td></td><td>ç”¨äºæ„å»ºé•œåƒçš„å‘½ä»¤è·¯å¾„ã€‚</td></tr><tr><td>k8s.enable_internal_algorithm</td><td>true</td><td>æ˜¯å¦å¯ç”¨å†…éƒ¨ç®—æ³•ã€‚</td></tr><tr><td>k8s.framework_image_url</td><td>hugegraph/hugegraph-computer:latest</td><td>computer æ¡†æ¶çš„é•œåƒ URLã€‚</td></tr><tr><td>k8s.image_repository_password</td><td></td><td>ç™»å½•é•œåƒä»“åº“çš„å¯†ç ã€‚</td></tr><tr><td>k8s.image_repository_registry</td><td></td><td>ç™»å½•é•œåƒä»“åº“çš„åœ°å€ã€‚</td></tr><tr><td>k8s.image_repository_url</td><td>hugegraph/hugegraph-computer</td><td>é•œåƒä»“åº“çš„ URLã€‚</td></tr><tr><td>k8s.image_repository_username</td><td></td><td>ç™»å½•é•œåƒä»“åº“çš„ç”¨æˆ·åã€‚</td></tr><tr><td>k8s.internal_algorithm</td><td>[pageRank]</td><td>æ‰€æœ‰å†…éƒ¨ç®—æ³•çš„åç§°åˆ—è¡¨ã€‚<strong>æ³¨æ„</strong>:ç®—æ³•åç§°åœ¨è¿™é‡Œä½¿ç”¨é©¼å³°å‘½åæ³•(ä¾‹å¦‚ <code>pageRank</code>),ä½†ç®—æ³•å®ç°è¿”å›ä¸‹åˆ’çº¿å‘½åæ³•(ä¾‹å¦‚ <code>page_rank</code>)ã€‚</td></tr><tr><td>k8s.internal_algorithm_image_url</td><td>hugegraph/hugegraph-computer:latest</td><td>å†…éƒ¨ç®—æ³•çš„é•œåƒ URLã€‚</td></tr><tr><td>k8s.jar_file_dir</td><td>/cache/jars/</td><td>ç®—æ³• jar å°†ä¸Šä¼ åˆ°çš„ç›®å½•ã€‚</td></tr><tr><td>k8s.kube_config</td><td>~/.kube/config</td><td>k8s é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚</td></tr><tr><td>k8s.log4j_xml_path</td><td></td><td>computer ä½œä¸šçš„ log4j.xml è·¯å¾„ã€‚</td></tr><tr><td>k8s.namespace</td><td>hugegraph-computer-system</td><td>hugegraph-computer ç³»ç»Ÿçš„å‘½åç©ºé—´ã€‚</td></tr><tr><td>k8s.pull_secret_names</td><td>[]</td><td>æ‹‰å–é•œåƒçš„ pull-secret åç§°ã€‚</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-5c4e63c343b59b21a30a78d519d1dcb4>5 - HugeGraph Client</h1></div><div class=td-content><h1 id=pg-ffe87f885ed695dba5fb26ef5ea12983>5.1 - HugeGraph-Java-Client</h1><h3 id=1-hugegraph-client-æ¦‚è¿°>1 HugeGraph-Client æ¦‚è¿°</h3><p><a href=https://github.com/apache/hugegraph-toolchain>HugeGraph-Client</a> å‘ HugeGraph-Server å‘å‡º HTTP è¯·æ±‚ï¼Œè·å–å¹¶è§£æ Server çš„æ‰§è¡Œç»“æœã€‚
æä¾›äº† Java/Go/<a href=https://github.com/apache/incubator-hugegraph-ai/tree/main/hugegraph-python-client>Python</a> ç‰ˆï¼Œ
ç”¨æˆ·å¯ä»¥ä½¿ç”¨ <a href=/cn/docs/clients/hugegraph-client>Client-API</a> ç¼–å†™ä»£ç æ“ä½œ HugeGraphï¼Œæ¯”å¦‚å…ƒæ•°æ®å’Œå›¾æ•°æ®çš„å¢åˆ æ”¹æŸ¥ï¼Œæˆ–è€…æ‰§è¡Œ gremlin è¯­å¥ç­‰ã€‚
åæ–‡ä¸»è¦æ˜¯ Java ä½¿ç”¨ç¤ºä¾‹ (å…¶ä»–è¯­è¨€ SDK å¯å‚è€ƒå¯¹åº” <code>READEME</code> é¡µé¢)</p><blockquote><p>ç°åœ¨å·²ç»æ”¯æŒåŸºäº Go/Python è¯­è¨€çš„ HugeGraph <a href=https://github.com/apache/hugegraph-toolchain/blob/master/hugegraph-client-go/README.md>Client SDK</a> (version >=1.2.0)</p></blockquote><h3 id=2-ç¯å¢ƒè¦æ±‚>2 ç¯å¢ƒè¦æ±‚</h3><ul><li>java 11 (å…¼å®¹ java 8)</li><li>maven 3.5+</li></ul><h3 id=3-ä½¿ç”¨æµç¨‹>3 ä½¿ç”¨æµç¨‹</h3><p>ä½¿ç”¨ HugeGraph-Client çš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>æ–°å»ºEclipse/ IDEA Maven é¡¹ç›®ï¼›</li><li>åœ¨ pom æ–‡ä»¶ä¸­æ·»åŠ  HugeGraph-Client ä¾èµ–ï¼›</li><li>åˆ›å»ºç±»ï¼Œè°ƒç”¨ HugeGraph-Client æ¥å£ï¼›</li></ul><p>è¯¦ç»†ä½¿ç”¨è¿‡ç¨‹è§ä¸‹èŠ‚å®Œæ•´ç¤ºä¾‹ã€‚</p><h3 id=4-å®Œæ•´ç¤ºä¾‹>4 å®Œæ•´ç¤ºä¾‹</h3><h4 id=41-æ–°å»º-maven-å·¥ç¨‹>4.1 æ–°å»º Maven å·¥ç¨‹</h4><p>å¯ä»¥é€‰æ‹© Eclipse æˆ–è€… Intellij Idea åˆ›å»ºå·¥ç¨‹ï¼š</p><ul><li><a href=http://www.vogella.com/tutorials/EclipseMaven/article.html>Eclipse æ–°å»º Maven å·¥ç¨‹</a></li><li><a href=https://vaadin.com/docs/-/part/framework/getting-started/getting-started-idea.html>Intellij Idea åˆ›å»º maven å·¥ç¨‹</a></li></ul><h4 id=42-æ·»åŠ -hugegraph-client-ä¾èµ–>4.2 æ·»åŠ  hugegraph-client ä¾èµ–</h4><p>æ·»åŠ  hugegraph-client ä¾èµ–</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.apache.hugegraph<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>hugegraph-client<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>&lt;!-- Update to the latest release version --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.7.0<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/dependencies&gt;</span>
</span></span></code></pre></div><blockquote><p>æ³¨ï¼šGraph æ‰€æœ‰ç»„ä»¶ç‰ˆæœ¬å·å‡ä¿æŒä¸€è‡´</p></blockquote><h4 id=43-example>4.3 Example</h4><h5 id=431-singleexample>4.3.1 SingleExample</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.io.IOException</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.Iterator</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.List</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.driver.GraphManager</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.driver.GremlinManager</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.driver.HugeClient</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.driver.SchemaManager</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.structure.constant.T</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.structure.graph.Edge</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.structure.graph.Path</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.structure.graph.Vertex</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.structure.gremlin.Result</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.structure.gremlin.ResultSet</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>SingleExample</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>main</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>args</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>throws</span> <span style=color:#000>IOException</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// If connect failed will throw a exception.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>HugeClient</span> <span style=color:#000>hugeClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HugeClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://localhost:8080&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                                   <span style=color:#4e9a06>&#34;DEFAULT&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                                   <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                          <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>configUser</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;username&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                          <span style=color:#8f5902;font-style:italic>// è¿™æ˜¯ç¤ºä¾‹,ç”Ÿäº§ç¯å¢ƒéœ€è¦ä½¿ç”¨å®‰å…¨çš„å‡­è¯
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>                                          <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>SchemaManager</span> <span style=color:#000>schema</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hugeClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>schema</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asInt</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asDouble</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asDate</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asInt</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>primaryKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>primaryKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;personByCity&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onV</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>secondary</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;personByAgeAndCity&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onV</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>secondary</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;softwareByPrice&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onV</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>range</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sourceLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>targetLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>sourceLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>targetLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;createdByDate&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onE</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>secondary</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;createdByWeight&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onE</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>range</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knowsByWeight&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onE</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>range</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>GraphManager</span> <span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hugeClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>graph</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>marko</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addVertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>T</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>LABEL</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                       <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>29</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>vadas</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addVertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>T</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>LABEL</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;vadas&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                       <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>27</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Hongkong&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>lop</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addVertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>T</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>LABEL</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;lop&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                     <span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;java&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>328</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>josh</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addVertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>T</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>LABEL</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;josh&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                      <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>32</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Beijing&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>ripple</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addVertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>T</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>LABEL</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ripple&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                        <span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;java&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>199</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>peter</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addVertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>T</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>LABEL</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;peter&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                       <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>35</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;city&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;Shanghai&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>marko</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEdge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>vadas</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2016-01-10&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>0</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>5</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>marko</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEdge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>josh</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2013-02-20&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>1</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>0</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>marko</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEdge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>lop</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2017-12-10&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>0</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>4</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>josh</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEdge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>lop</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2009-11-11&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>0</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>4</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>josh</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEdge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>ripple</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2017-12-10&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>1</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>0</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>peter</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEdge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>lop</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2017-03-24&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;weight&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>0</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>2</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>GremlinManager</span> <span style=color:#000>gremlin</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hugeClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>gremlin</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;==== Path ====&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>ResultSet</span> <span style=color:#000>resultSet</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>gremlin</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>gremlin</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;g.V().outE().path()&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>execute</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Iterator</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Result</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>results</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>resultSet</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>iterator</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>results</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>forEachRemaining</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>result</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>result</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getObject</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>getClass</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>            <span style=color:#000>Object</span> <span style=color:#000>object</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>result</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getObject</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>object</span> <span style=color:#204a87;font-weight:700>instanceof</span> <span style=color:#000>Vertex</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(((</span><span style=color:#000>Vertex</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>object</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>object</span> <span style=color:#204a87;font-weight:700>instanceof</span> <span style=color:#000>Edge</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(((</span><span style=color:#000>Edge</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>object</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>object</span> <span style=color:#204a87;font-weight:700>instanceof</span> <span style=color:#000>Path</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Object</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>elements</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#ce5c00;font-weight:700>((</span><span style=color:#000>Path</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#000>object</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>objects</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>                <span style=color:#000>elements</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>forEach</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>element</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>element</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getClass</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>                    <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>element</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>                <span style=color:#ce5c00;font-weight:700>});</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>                <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>object</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>            <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>});</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>hugeClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>close</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h5 id=432-batchexample>4.3.2 BatchExample</h5><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.ArrayList</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.List</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.driver.GraphManager</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.driver.HugeClient</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.driver.SchemaManager</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.structure.graph.Edge</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>org.apache.hugegraph.structure.graph.Vertex</span><span style=color:#ce5c00;font-weight:700>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>BatchExample</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>public</span> <span style=color:#204a87;font-weight:700>static</span> <span style=color:#204a87;font-weight:700>void</span> <span style=color:#000>main</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span> <span style=color:#000>args</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// If connect failed will throw a exception.
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>HugeClient</span> <span style=color:#000>hugeClient</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>HugeClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>builder</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;http://localhost:8080&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                                <span style=color:#4e9a06>&#34;DEFAULT&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                                <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                          <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>configUser</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;username&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;password&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                          <span style=color:#8f5902;font-style:italic>// è¿™æ˜¯ç¤ºä¾‹,ç”Ÿäº§ç¯å¢ƒéœ€è¦ä½¿ç”¨å®‰å…¨çš„å‡­è¯
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>                                          <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>SchemaManager</span> <span style=color:#000>schema</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hugeClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>schema</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asInt</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asText</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asDate</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>propertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>asInt</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>().</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>primaryKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>nullableKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>append</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>vertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>primaryKeys</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;softwareByPrice&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onV</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>range</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>link</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>edgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>link</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>properties</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>indexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;createdByDate&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>onE</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>by</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>secondary</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>ifNotExist</span><span style=color:#ce5c00;font-weight:700>()</span>
</span></span><span style=display:flex><span>              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>create</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// get schema object by name
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getPropertyKey</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>        <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getVertexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>        <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEdgeLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>        <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getIndexLabel</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;createdByDate&#34;</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8f5902;font-style:italic>// list all schema objects
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getPropertyKeys</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>        <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getVertexLabels</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>        <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getEdgeLabels</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>        <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>getIndexLabels</span><span style=color:#ce5c00;font-weight:700>());</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>GraphManager</span> <span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>hugeClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>graph</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>marko</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Vertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;marko&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                           <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>29</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>vadas</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Vertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;vadas&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                           <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>27</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>lop</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Vertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;lop&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                           <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;java&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                           <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>328</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>josh</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Vertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;josh&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                          <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>32</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>ripple</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Vertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;software&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ripple&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;lang&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;java&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                              <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;price&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>199</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Vertex</span> <span style=color:#000>peter</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Vertex</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;person&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;peter&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                           <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;age&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#000>35</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>Edge</span> <span style=color:#000>markoKnowsVadas</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Edge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>source</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>marko</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>target</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>vadas</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2016-01-10&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Edge</span> <span style=color:#000>markoKnowsJosh</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Edge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;knows&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>source</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>marko</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>target</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>josh</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                               <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2013-02-20&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Edge</span> <span style=color:#000>markoCreateLop</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Edge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>source</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>marko</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>target</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>lop</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                                 <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                                           <span style=color:#4e9a06>&#34;2017-12-10&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Edge</span> <span style=color:#000>joshCreateRipple</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Edge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>source</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>josh</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>target</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ripple</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                                   <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                                             <span style=color:#4e9a06>&#34;2017-12-10&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Edge</span> <span style=color:#000>joshCreateLop</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Edge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>source</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>josh</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>target</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>lop</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                                <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#4e9a06>&#34;2009-11-11&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>Edge</span> <span style=color:#000>peterCreateLop</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>Edge</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;created&#34;</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>source</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>peter</span><span style=color:#ce5c00;font-weight:700>).</span><span style=color:#c4a000>target</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>lop</span><span style=color:#ce5c00;font-weight:700>)</span>
</span></span><span style=display:flex><span>                                                 <span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>property</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;date&#34;</span><span style=color:#ce5c00;font-weight:700>,</span>
</span></span><span style=display:flex><span>                                                           <span style=color:#4e9a06>&#34;2017-03-24&#34;</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Vertex</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>vertices</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ArrayList</span><span style=color:#ce5c00;font-weight:700>&lt;&gt;();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>vertices</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>marko</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>vertices</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>vadas</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>vertices</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>lop</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>vertices</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>josh</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>vertices</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>ripple</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>vertices</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>peter</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>List</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>Edge</span><span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#000>edges</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>new</span> <span style=color:#000>ArrayList</span><span style=color:#ce5c00;font-weight:700>&lt;&gt;();</span>
</span></span><span style=display:flex><span>        <span style=color:#000>edges</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>markoKnowsVadas</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>edges</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>markoKnowsJosh</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>edges</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>markoCreateLop</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>edges</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>joshCreateRipple</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>edges</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>joshCreateLop</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>edges</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>add</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>peterCreateLop</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>vertices</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addVertices</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>vertices</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>vertices</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>forEach</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>vertex</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>vertex</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>edges</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>addEdges</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>edges</span><span style=color:#ce5c00;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>false</span><span style=color:#ce5c00;font-weight:700>);</span>
</span></span><span style=display:flex><span>        <span style=color:#000>edges</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>forEach</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>edge</span> <span style=color:#ce5c00;font-weight:700>-&gt;</span> <span style=color:#000>System</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>out</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>println</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>edge</span><span style=color:#ce5c00;font-weight:700>));</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#000>hugeClient</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>close</span><span style=color:#ce5c00;font-weight:700>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=44-è¿è¡Œ-example>4.4 è¿è¡Œ Example</h4><p>è¿è¡Œ Example ä¹‹å‰éœ€è¦å¯åŠ¨ Server,
å¯åŠ¨è¿‡ç¨‹è§<a href=/cn/docs/quickstart/hugegraph/hugegraph-server>HugeGraph-Server Quick Start</a></p><h4 id=45-è¯¦ç»†-api-è¯´æ˜>4.5 è¯¦ç»† API è¯´æ˜</h4><p>ç¤ºä¾‹è¯´æ˜è§<a href=/cn/docs/clients/hugegraph-client>HugeGraph-Client åŸºæœ¬ API ä»‹ç»</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-0f122bc9c526a968d392f6806ad6ddce>5.2 - HugeGraph Python å®¢æˆ·ç«¯å¿«é€Ÿå…¥é—¨</h1><p><code>hugegraph-python-client</code> æ˜¯ HugeGraph å›¾æ•°æ®åº“çš„ Python å®¢æˆ·ç«¯/SDKã€‚</p><p>å®ƒç”¨äºå®šä¹‰å›¾ç»“æ„ã€å¯¹å›¾æ•°æ®æ‰§è¡Œ CRUD æ“ä½œã€ç®¡ç† Schema ä»¥åŠæ‰§è¡Œ Gremlin æŸ¥è¯¢ã€‚<code>hugegraph-llm</code> å’Œ <code>hugegraph-ml</code> æ¨¡å—éƒ½ä¾èµ–äºè¿™ä¸ªåŸºç¡€åº“ã€‚</p><h2 id=å®‰è£…>å®‰è£…</h2><h3 id=å®‰è£…å·²å‘å¸ƒçš„åŒ…ç¨³å®šç‰ˆ>å®‰è£…å·²å‘å¸ƒçš„åŒ…ï¼ˆç¨³å®šç‰ˆï¼‰</h3><p>è¦å®‰è£… <code>hugegraph-python-client</code>ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ uv/pip æˆ–ä»æºç æ„å»ºï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># uv æ˜¯å¯é€‰çš„ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ pip</span>
</span></span><span style=display:flex><span>uv pip install hugegraph-python <span style=color:#8f5902;font-style:italic># æ³¨æ„ï¼šå¯èƒ½ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œå»ºè®®ä»æºç å®‰è£…</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># WIPï¼šæˆ‘ä»¬å¾ˆå¿«ä¼šå°† &#39;hugegraph-python-client&#39; ä½œä¸ºåŒ…å</span>
</span></span></code></pre></div><h3 id=ä»æºç å®‰è£…æœ€æ–°ä»£ç >ä»æºç å®‰è£…ï¼ˆæœ€æ–°ä»£ç ï¼‰</h3><p>è¦ä»æºç å®‰è£…ï¼Œè¯·å…‹éš†ä»“åº“å¹¶å®‰è£…æ‰€éœ€çš„ä¾èµ–é¡¹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/apache/incubator-hugegraph-ai.git
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> incubator-hugegraph-ai/hugegraph-python-client
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ™®é€šå®‰è£…</span>
</span></span><span style=display:flex><span>uv pip install .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># (å¯é€‰) å®‰è£…å¼€å‘ç‰ˆæœ¬</span>
</span></span><span style=display:flex><span>uv pip install -e .
</span></span></code></pre></div><h2 id=ä½¿ç”¨ç¤ºä¾‹>ä½¿ç”¨ç¤ºä¾‹</h2><h3 id=å®šä¹‰å›¾ç»“æ„>å®šä¹‰å›¾ç»“æ„</h3><p>æ‚¨å¯ä»¥ä½¿ç”¨ <code>hugegraph-python-client</code> æ¥å®šä¹‰å›¾ç»“æ„ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•å®šä¹‰å›¾çš„ç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>pyhugegraph.client</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>PyHugeClient</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ–å®¢æˆ·ç«¯</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å¯¹äº HugeGraph API ç‰ˆæœ¬ â‰¥ v3ï¼šï¼ˆæˆ–å¯ç”¨ graphspace åŠŸèƒ½ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># - å¦‚æœå¯ç”¨äº† graphspaceï¼Œåˆ™ &#39;graphspace&#39; å‚æ•°å˜å¾—ç›¸å…³ï¼ˆé»˜è®¤åç§°ä¸º &#39;DEFAULT&#39;ï¼‰</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># - å¦åˆ™ï¼Œgraphspace å‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥å¿½ç•¥ã€‚</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>PyHugeClient</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;127.0.0.1&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;8080&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>user</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>pwd</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>graph</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>graphspace</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;DEFAULT&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#34;&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>æ³¨æ„ï¼š
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>å¯ä»¥å‚è€ƒæ‚¨ HugeGraph ç‰ˆæœ¬çš„å®˜æ–¹ REST-API æ–‡æ¡£ä»¥è·å–å‡†ç¡®çš„è¯¦ç»†ä¿¡æ¯ã€‚
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>å¦‚æœæŸäº› API ä¸é¢„æœŸä¸ç¬¦ï¼Œè¯·æäº¤ issue æˆ–è”ç³»æˆ‘ä»¬ã€‚
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>propertyKey</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>asText</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ifNotExist</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>propertyKey</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;birthDate&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>asText</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ifNotExist</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vertexLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Person&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>properties</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;birthDate&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>usePrimaryKeyId</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>primaryKeys</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ifNotExist</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vertexLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Movie&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>properties</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>usePrimaryKeyId</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>primaryKeys</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ifNotExist</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>edgeLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;ActedIn&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>sourceLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Person&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>targetLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Movie&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>ifNotExist</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>getVertexLabels</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>getEdgeLabels</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>schema</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>getRelations</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆå§‹åŒ–å›¾</span>
</span></span><span style=display:flex><span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>v_al_pacino</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addVertex</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Person&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Al Pacino&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;birthDate&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1940-04-25&#34;</span><span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span><span style=color:#000>v_robert</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addVertex</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Person&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Robert De Niro&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;birthDate&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1943-08-17&#34;</span><span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span><span style=color:#000>v_godfather</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addVertex</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Movie&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;The Godfather&#34;</span><span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span><span style=color:#000>v_godfather2</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addVertex</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Movie&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;The Godfather Part II&#34;</span><span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span><span style=color:#000>v_godfather3</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addVertex</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Movie&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;The Godfather Coda The Death of Michael Corleone&#34;</span><span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;ActedIn&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v_al_pacino</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v_godfather</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{})</span>
</span></span><span style=display:flex><span><span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;ActedIn&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v_al_pacino</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v_godfather2</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{})</span>
</span></span><span style=display:flex><span><span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;ActedIn&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v_al_pacino</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v_godfather3</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{})</span>
</span></span><span style=display:flex><span><span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;ActedIn&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v_robert</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v_godfather2</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>res</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>getVertexById</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>v_al_pacino</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>label</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>res</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>close</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><h3 id=schema-ç®¡ç†>Schema ç®¡ç†</h3><p><code>hugegraph-python-client</code> æä¾›äº†å…¨é¢çš„ Schema ç®¡ç†åŠŸèƒ½ã€‚</p><h4 id=å®šä¹‰å±æ€§é”®-property-key>å®šä¹‰å±æ€§é”® (Property Key)</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å®šä¹‰å±æ€§é”®</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>propertyKey</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>dataType</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;STRING&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>cardinality</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;SINGLE&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><h4 id=å®šä¹‰é¡¶ç‚¹æ ‡ç­¾-vertex-label>å®šä¹‰é¡¶ç‚¹æ ‡ç­¾ (Vertex Label)</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å®šä¹‰é¡¶ç‚¹æ ‡ç­¾</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>vertexLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;person&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>properties</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;age&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>primaryKeys</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><h4 id=å®šä¹‰è¾¹æ ‡ç­¾-edge-label>å®šä¹‰è¾¹æ ‡ç­¾ (Edge Label)</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å®šä¹‰è¾¹æ ‡ç­¾</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>edgeLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;knows&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>sourceLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;person&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>targetLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;person&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>properties</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;since&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><h4 id=å®šä¹‰ç´¢å¼•æ ‡ç­¾-index-label>å®šä¹‰ç´¢å¼•æ ‡ç­¾ (Index Label)</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># å®šä¹‰ç´¢å¼•æ ‡ç­¾</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>schema</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>indexLabel</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;personByName&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>onV</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;person&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>by</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>secondary</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><h3 id=crud-æ“ä½œ>CRUD æ“ä½œ</h3><p>å®¢æˆ·ç«¯å…è®¸æ‚¨å¯¹å›¾æ•°æ®æ‰§è¡Œ CRUD æ“ä½œã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤é¡¶ç‚¹å’Œè¾¹çš„ç¤ºä¾‹ï¼š</p><h4 id=åˆ›å»ºé¡¶ç‚¹å’Œè¾¹>åˆ›å»ºé¡¶ç‚¹å’Œè¾¹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆ›å»ºé¡¶ç‚¹</span>
</span></span><span style=display:flex><span><span style=color:#000>v1</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addVertex</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;person&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>property</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;John&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>property</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;age&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>29</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>v2</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addVertex</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;person&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>property</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;name&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;Jane&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>property</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;age&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>25</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆ›å»ºè¾¹</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>v1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;knows&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v2</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>property</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;since&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;2020&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>()</span>
</span></span></code></pre></div><h4 id=è¯»å–é¡¶ç‚¹å’Œè¾¹>è¯»å–é¡¶ç‚¹å’Œè¾¹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># é€šè¿‡ ID è·å–é¡¶ç‚¹</span>
</span></span><span style=display:flex><span><span style=color:#000>vertex</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>getVertexById</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>v1</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>vertex</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># é€šè¿‡ ID è·å–è¾¹</span>
</span></span><span style=display:flex><span><span style=color:#000>edge</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>getEdgeById</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>edge</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>)</span> <span style=color:#8f5902;font-style:italic># å‡è®¾ edge å¯¹è±¡å·²å®šä¹‰å¹¶æœ‰ id å±æ€§</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>edge</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><h4 id=æ›´æ–°é¡¶ç‚¹å’Œè¾¹>æ›´æ–°é¡¶ç‚¹å’Œè¾¹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ›´æ–°é¡¶ç‚¹</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>updateVertex</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>v1</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>property</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;age&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>update</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ›´æ–°è¾¹</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>updateEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>edge</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>property</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;since&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#39;2021&#39;</span><span style=color:#000;font-weight:700>)</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>update</span><span style=color:#000;font-weight:700>()</span> <span style=color:#8f5902;font-style:italic># å‡è®¾ edge å¯¹è±¡å·²å®šä¹‰å¹¶æœ‰ id å±æ€§</span>
</span></span></code></pre></div><h4 id=åˆ é™¤é¡¶ç‚¹å’Œè¾¹>åˆ é™¤é¡¶ç‚¹å’Œè¾¹</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆ é™¤é¡¶ç‚¹</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>deleteVertex</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>v1</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># åˆ é™¤è¾¹</span>
</span></span><span style=display:flex><span><span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>()</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>deleteEdge</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>edge</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>id</span><span style=color:#000;font-weight:700>)</span> <span style=color:#8f5902;font-style:italic># å‡è®¾ edge å¯¹è±¡å·²å®šä¹‰å¹¶æœ‰ id å±æ€§</span>
</span></span></code></pre></div><h3 id=æ‰§è¡Œ-gremlin-æŸ¥è¯¢>æ‰§è¡Œ Gremlin æŸ¥è¯¢</h3><p>å®¢æˆ·ç«¯è¿˜æ”¯æŒæ‰§è¡Œ Gremlin æŸ¥è¯¢ï¼š</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># æ‰§è¡Œ Gremlin æŸ¥è¯¢</span>
</span></span><span style=display:flex><span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>client</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>gremlin</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>res</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>exec</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;g.V().limit(5)&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>res</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><p>å…¶ä»–ä¿¡æ¯æ­£åœ¨å»ºè®¾ä¸­ ğŸš§ (æ¬¢è¿ä¸ºæ­¤æ·»åŠ æ›´å¤šæ–‡æ¡£ï¼Œç”¨æˆ·å¯ä»¥å‚è€ƒ <a href=https://hugegraph.apache.org/docs/clients/hugegraph-client/>java-client-doc</a> è·å–ç±»ä¼¼ç”¨æ³•)</p><h2 id=api-æ–‡æ¡£å‚è€ƒ>API æ–‡æ¡£å‚è€ƒ</h2><h2 id=è´¡çŒ®>è´¡çŒ®</h2><ul><li>æ¬¢è¿ä¸º <code>hugegraph-python-client</code> åšå‡ºè´¡çŒ®ã€‚è¯·å‚é˜… <a href=https://hugegraph.apache.org/docs/contribution-guidelines/>è´¡çŒ®æŒ‡å—</a> è·å–æ›´å¤šä¿¡æ¯ã€‚</li><li>ä»£ç æ ¼å¼ï¼šè¯·åœ¨æäº¤ PR å‰è¿è¡Œ <code>./style/code_format_and_analysis.sh</code> æ¥æ ¼å¼åŒ–æ‚¨çš„ä»£ç ã€‚</li></ul><p>æ„Ÿè°¢æ‰€æœ‰å·²ç»ä¸º <code>hugegraph-python-client</code> åšå‡ºè´¡çŒ®çš„äººï¼</p></div><div class=td-content style=page-break-before:always><h1 id=pg-c0ed8628ca3e43165a14118d58e2b4b2>5.3 - HugeGraph Go å®¢æˆ·ç«¯å¿«é€Ÿå…¥é—¨</h1><p>åŸºäº Go è¯­è¨€çš„ HugeGraph Client SDK å·¥å…·ã€‚</p><h2 id=è½¯ä»¶æ¶æ„>è½¯ä»¶æ¶æ„</h2><p>(è½¯ä»¶æ¶æ„è¯´æ˜)</p><h2 id=å®‰è£…æ•™ç¨‹>å®‰è£…æ•™ç¨‹</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>go get github.com/apache/hugegraph-toolchain/hugegraph-client-go
</span></span></code></pre></div><h2 id=å·²å®ç°-api>å·²å®ç° API</h2><table><thead><tr><th>API</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>schema</td><td>è·å–æ¨¡å‹ schema</td></tr><tr><td>version</td><td>è·å–ç‰ˆæœ¬ä¿¡æ¯</td></tr></tbody></table><h2 id=ä½¿ç”¨è¯´æ˜>ä½¿ç”¨è¯´æ˜</h2><h3 id=1-åˆå§‹åŒ–å®¢æˆ·ç«¯>1. åˆå§‹åŒ–å®¢æˆ·ç«¯</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>	<span style=color:#4e9a06>&#34;log&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#4e9a06>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#4e9a06>&#34;github.com/apache/hugegraph-toolchain/hugegraph-client-go&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#4e9a06>&#34;github.com/apache/hugegraph-toolchain/hugegraph-client-go/hgtransport&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#000>client</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>hugegraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewCommonClient</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hugegraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Config</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Host</span><span style=color:#000;font-weight:700>:</span>     <span style=color:#4e9a06>&#34;127.0.0.1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Port</span><span style=color:#000;font-weight:700>:</span>     <span style=color:#0000cf;font-weight:700>8080</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Graph</span><span style=color:#000;font-weight:700>:</span>    <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Username</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>// æ ¹æ®å®é™…æƒ…å†µå¡«å†™ç”¨æˆ·å
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>Password</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>// æ ¹æ®å®é™…æƒ…å†µå¡«å†™å¯†ç 
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>Logger</span><span style=color:#000;font-weight:700>:</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>hgtransport</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ColorLogger</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Output</span><span style=color:#000;font-weight:700>:</span>             <span style=color:#000>os</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Stdout</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>EnableRequestBody</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>EnableResponseBody</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatalf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Error creating the client: %s\n&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>// ä½¿ç”¨ client è¿›è¡Œæ“ä½œ...
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>_</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>client</span> <span style=color:#8f5902;font-style:italic>// é¿å… &#34;imported and not used&#34; é”™è¯¯
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h3 id=2-è·å–-hugegraph-ç‰ˆæœ¬>2. è·å– HugeGraph ç‰ˆæœ¬</h3><h4 id=ä½¿ç”¨-sdk-è·å–ç‰ˆæœ¬ä¿¡æ¯>ä½¿ç”¨ SDK è·å–ç‰ˆæœ¬ä¿¡æ¯</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>(</span>
</span></span><span style=display:flex><span>	<span style=color:#4e9a06>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#4e9a06>&#34;log&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#4e9a06>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#4e9a06>&#34;github.com/apache/hugegraph-toolchain/hugegraph-client-go&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#4e9a06>&#34;github.com/apache/hugegraph-toolchain/hugegraph-client-go/hgtransport&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// initClient åˆå§‹åŒ–å¹¶è¿”å›ä¸€ä¸ª HugeGraph å®¢æˆ·ç«¯å®ä¾‹
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>initClient</span><span style=color:#000;font-weight:700>()</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>hugegraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CommonClient</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#000>client</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>hugegraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewCommonClient</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>hugegraph</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Config</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Host</span><span style=color:#000;font-weight:700>:</span>     <span style=color:#4e9a06>&#34;127.0.0.1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Port</span><span style=color:#000;font-weight:700>:</span>     <span style=color:#0000cf;font-weight:700>8080</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Graph</span><span style=color:#000;font-weight:700>:</span>    <span style=color:#4e9a06>&#34;hugegraph&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Username</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Password</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Logger</span><span style=color:#000;font-weight:700>:</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>hgtransport</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ColorLogger</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Output</span><span style=color:#000;font-weight:700>:</span>             <span style=color:#000>os</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Stdout</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>EnableRequestBody</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>EnableResponseBody</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>})</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatalf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Error creating the client: %s\n&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>client</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>getVersion</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#000>client</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>initClient</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>// å‡è®¾ client æœ‰ä¸€ä¸ª Version æ–¹æ³•è¿”å›ç‰ˆæœ¬ä¿¡æ¯å’Œä¸€ä¸ªé”™è¯¯
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#8f5902;font-style:italic>// res, err := client.Version() // å®é™…è°ƒç”¨
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#8f5902;font-style:italic>// æ¨¡æ‹Ÿè¿”å›ï¼Œå› ä¸ºåŸå§‹ README ä¸­çš„ client.Version() è¿”å›ç±»å‹ä¸æ­¤å¤„ä½¿ç”¨ä¸å®Œå…¨åŒ¹é…
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>VersionInfo</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Versions</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Version</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;version&#34;`</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Core</span>    <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;core&#34;`</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Gremlin</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;gremlin&#34;`</span>
</span></span><span style=display:flex><span>			<span style=color:#000>API</span>     <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;api&#34;`</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>}</span> <span style=color:#4e9a06>`json:&#34;versions&#34;`</span>
</span></span><span style=display:flex><span>		<span style=color:#8f5902;font-style:italic>// Body io.ReadCloser // å‡è®¾æœ‰ Body ç”¨äºå…³é—­ï¼Œæ ¹æ®å®é™… SDK è°ƒæ•´
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>// æ¨¡æ‹Ÿ API è°ƒç”¨å’Œè¿”å›
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>res</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>VersionInfo</span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Versions</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Version</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;version&#34;`</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Core</span>    <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;core&#34;`</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Gremlin</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;gremlin&#34;`</span>
</span></span><span style=display:flex><span>			<span style=color:#000>API</span>     <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;api&#34;`</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>}{</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Version</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1.0.0&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#8f5902;font-style:italic>// ç¤ºä¾‹ç‰ˆæœ¬
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>			<span style=color:#000>Core</span><span style=color:#000;font-weight:700>:</span>    <span style=color:#4e9a06>&#34;1.0.0&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>Gremlin</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;3.x.x&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>			<span style=color:#000>API</span><span style=color:#000;font-weight:700>:</span>     <span style=color:#4e9a06>&#34;v1&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>// err := error(nil) // å‡è®¾æ²¡æœ‰é”™è¯¯
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#8f5902;font-style:italic>// if err != nil {
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#8f5902;font-style:italic>// 	log.Fatalf(&#34;Error getting the response: %s\n&#34;, err)
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#8f5902;font-style:italic>// }
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#8f5902;font-style:italic>// defer res.Body.Close() // å¦‚æœæœ‰ Bodyï¼Œéœ€è¦å…³é—­
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Println</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Versions</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>	<span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Println</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>res</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Versions</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Version</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#000>getVersion</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h4 id=è¿”å›å€¼çš„ç»“æ„>è¿”å›å€¼çš„ç»“æ„</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>// VersionResponse å®šä¹‰äº†ç‰ˆæœ¬ API è¿”å›çš„ç»“æ„ä½“
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>VersionResponse</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>	<span style=color:#000>Versions</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>		<span style=color:#000>Version</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;version&#34;`</span> <span style=color:#8f5902;font-style:italic>// hugegraph version
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>Core</span>    <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;core&#34;`</span>    <span style=color:#8f5902;font-style:italic>// hugegraph core version
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>Gremlin</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;gremlin&#34;`</span> <span style=color:#8f5902;font-style:italic>// hugegraph gremlin version
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>API</span>     <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`json:&#34;api&#34;`</span>     <span style=color:#8f5902;font-style:italic>// hugegraph api version
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000;font-weight:700>}</span> <span style=color:#4e9a06>`json:&#34;versions&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span>
</span></span></code></pre></div><h2 id=api-æ–‡æ¡£å‚è€ƒ>API æ–‡æ¡£å‚è€ƒ</h2></div></main></div></div><footer class="bg-dark py-3 row d-print-none"><div class=footer-container><div class="row bg-dark"><div class=col-1></div><div class="col-4 text-center container-center"><div class=footer-row><a href=https://www.apache.org/><div class=footer-apache-logo><svg id="Layer_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 7127.6 2890" enable-background="new 0 0 7127.6 2890"><path fill="#6d6e71" d="M7104.7 847.8c15.3 15.3 22.9 33.7 22.9 55.2s-7.6 39.9-22.9 55.4c-15.3 15.4-33.8 23.1-55.6 23.1s-40.2-7.6-55.4-22.9c-15.1-15.3-22.7-33.7-22.7-55.2s7.6-39.9 22.9-55.4c15.3-15.4 33.7-23.1 55.4-23.1C7070.9 824.9 7089.4 832.5 7104.7 847.8zM7098.1 951.9c13.3-13.6 20-29.8 20-48.7s-6.6-35-19.8-48.5c-13.2-13.4-29.4-20.1-48.6-20.1-19.2.0-35.4 6.7-48.7 20.2s-19.9 29.7-19.9 48.7 6.6 35.2 19.7 48.6c13.1 13.4 29.3 20.1 48.5 20.1S7084.7 965.4 7098.1 951.9zm-11-63.8c0 14-6.1 22.8-18.4 26.4l22.5 30.5H7073l-20.3-28.3h-18.6V945h-14.7v-84.6h31.8c12.8.0 22 2.2 27.6 6.6C7084.4 871.4 7087.1 878.4 7087.1 888.1zM7068.2 9e2c3-2.4 4.4-6.5 4.4-12s-1.5-9.4-4.5-11.6-8.4-3.2-16-3.2h-18v30.5h17.5C7059.7 903.6 7065.3 902.4 7068.2 9e2z"/><path fill="#6d6e71" d="M1803.6 499.8v155.4h-20V499.8h-56.8v-19.2h133.9v19.2H1803.6z"/><path fill="#6d6e71" d="M2082.2 655.2v-76.9H1977v76.9h-20V480.5h20v78.9h105.2v-78.9h20v174.7h-20z"/><path fill="#6d6e71" d="M2241.4 499.8v57.4h88.1v19.2h-88.1v59.8h101.8v19h-121.8V480.5H2340v19.2H2241.4z"/><path fill="#d22128" d="M1574.5 1852.4l417.3-997.6h80.1l417.3 997.6h-105.4l-129.3-311.9h-448.2l-127.9 311.9H1574.5zM2032.6 970l-205.1 493.2h404.7L2032.6 970z"/><path fill="#d22128" d="M2596.9 1852.4V854.8H3010c171.4.0 295.1 158.8 295.1 313.3.0 163-115.2 316.1-286.6 316.1h-324.6v368.1h-97zm97-455.3h318.9c118 0 193.9-108.2 193.9-229 0-125.1-92.7-226.2-202.3-226.2h-310.5v455.2z"/><path fill="#d22128" d="M3250.5 1852.4l417.3-997.6h80.1l417.3 997.6h-105.4l-129.3-311.9h-448.2l-127.9 311.9H3250.5zM3708.6 970l-205.1 493.2h404.7L3708.6 970z"/><path fill="#d22128" d="M4637.3 849.1c177 0 306.3 89.9 368.1 217.8l-78.7 47.8c-63.2-132.1-186.9-177-295.1-177-238.9.0-369.5 213.6-369.5 414.5.0 220.6 161.6 420.1 373.7 420.1 112.4.0 244.5-56.2 307.7-185.5l81.5 42.1c-64.6 148.9-241.7 231.8-394.8 231.8-274 0-466.5-261.3-466.5-514.2C4163.8 1106.3 4336.6 849.1 4637.3 849.1z"/><path fill="#d22128" d="M5949.1 854.8v997.6h-98.4v-466.5h-591.5v466.5h-96.9V854.8h96.9v444h591.5v-444H5949.1z"/><path fill="#d22128" d="M6844.6 1765.2v87.1h-670.2V854.8H6832v87.1h-560.6v359.7h489v82.9h-489v380.8H6844.6z"/><path fill="#6d6e71" d="M1667.6 2063.6c11.8 3.5 22.2 8.3 31 14.2l-10.3 22.6c-9-6-18.6-10.4-28.9-13.4-10.2-2.9-20-4.4-29.2-4.4-13.6.0-24.5 2.4-32.6 7.3s-12.2 11.8-12.2 20.7c0 7.6 2.3 14 6.8 19s10.2 8.9 17 11.7c6.8 2.8 16.1 6 28 9.6 14.4 4.6 26 8.9 34.7 12.9 8.8 4 16.3 9.9 22.5 17.8 6.2 7.8 9.3 18.2 9.3 31 0 11.7-3.2 21.8-9.5 30.6-6.3 8.7-15.3 15.5-26.8 20.3-11.6 4.8-24.9 7.2-40 7.2s-29.7-2.9-43.9-8.7c-14.2-5.8-26.4-13.6-36.6-23.4l10.7-21.6c9.6 9.4 20.7 16.7 33.3 21.9 12.6 5.2 24.8 7.8 36.8 7.8 15.3.0 27.3-3 36.1-8.9s13.2-13.9 13.2-23.9c0-7.8-2.3-14.3-6.9-19.4-4.6-5.1-10.3-9-17.1-11.9-6.8-2.8-16.1-6-28-9.6-14.2-4.2-25.7-8.3-34.6-12.2-8.9-3.9-16.4-9.7-22.5-17.5-6.1-7.7-9.2-17.9-9.2-30.6.0-10.9 3-20.4 9-28.6s14.6-14.6 25.6-19.1c11.1-4.5 23.8-6.8 38.2-6.8C1643.8 2058.3 1655.7 2060.1 1667.6 2063.6z"/><path fill="#6d6e71" d="M1980.1 2072.8c16.8 9.4 30.2 22.3 40 38.4 9.8 16.2 14.8 33.9 14.8 53.3.0 19.5-4.9 37.4-14.8 53.6-9.8 16.3-23.2 29.1-40 38.6s-35.3 14.3-55.2 14.3c-20.3.0-38.8-4.7-55.7-14.3-16.8-9.5-30.2-22.4-40-38.6-9.8-16.3-14.8-34.1-14.8-53.6s4.9-37.3 14.8-53.5c9.8-16.2 23.2-29 40-38.3 16.8-9.4 35.4-14 55.7-14C1944.8 2058.6 1963.2 2063.3 1980.1 2072.8zM1881.9 2092.7c-13.1 7.4-23.6 17.5-31.4 30.1-7.8 12.6-11.8 26.5-11.8 41.7.0 15.3 3.9 29.3 11.8 42 7.8 12.7 18.3 22.8 31.4 30.2 13.1 7.4 27.4 11.1 42.9 11.1s29.7-3.7 42.7-11.1 23.3-17.4 31.1-30.2c7.7-12.7 11.6-26.7 11.6-42s-3.9-29.2-11.6-41.8c-7.7-12.6-18.1-22.6-31.1-30s-27.2-11.2-42.6-11.2C1909.4 2081.5 1895.1 2085.2 1881.9 2092.7z"/><path fill="#6d6e71" d="M2186.5 2082.4v74h98.4v23.2h-98.4v90.2h-24.1v-210.6h133.8v23.2H2186.5z"/><path fill="#6d6e71" d="M2491.6 2082.4v187.4h-24.1v-187.4h-68.4v-23.2h161.4v23.2H2491.6z"/><path fill="#6d6e71" d="M2871.8 2269.8l-56.8-177.4-57.6 177.4h-24.5l-70.5-210.6h25.9l57.9 182.7 57.1-182.4 24.1-.3 57.7 182.7 57.1-182.7h25l-70.6 210.6H2871.8z"/><path fill="#6d6e71" d="M3087.3 2216.6l-23.5 53.2h-25.6l94.4-210.6h25l94.1 210.6h-26.1l-23.5-53.2H3087.3zM3144.5 2086.6l-46.9 106.8h94.4l-47.5-106.8z"/><path fill="#6d6e71" d="M3461.1 2202.7c-6 .4-10.7.6-14.1.6h-56v66.5h-24v-210.6h80c26.2.0 46.6 6.2 61.2 18.5 14.5 12.3 21.8 29.8 21.8 52.3.0 17.2-4.1 31.7-12.2 43.3-8.1 11.6-19.8 20-35 25l49.2 71.5h-27.3L3461.1 2202.7zM3491.3 2167.6c10.3-8.4 15.5-20.8 15.5-37 0-15.9-5.2-27.9-15.5-36s-25.1-12.2-44.3-12.2h-56v97.8h56C3466.2 2180.2 3481 2176 3491.3 2167.6z"/><path fill="#6d6e71" d="M3688.3 2082.4v69.2h106.2v23.2h-106.2v72.1h122.8v22.9h-146.9v-210.6h142.9v23.2H3688.3z"/><path fill="#6d6e71" d="M4147 2082.4v74h98.4v23.2H4147v90.2h-24.1v-210.6h133.8v23.2H4147z"/><path fill="#6d6e71" d="M4523.3 2072.8c16.8 9.4 30.2 22.3 40 38.4 9.8 16.2 14.8 33.9 14.8 53.3.0 19.5-4.9 37.4-14.8 53.6-9.8 16.3-23.2 29.1-40 38.6s-35.3 14.3-55.2 14.3c-20.3.0-38.8-4.7-55.7-14.3-16.8-9.5-30.2-22.4-40-38.6-9.8-16.3-14.8-34.1-14.8-53.6s4.9-37.3 14.8-53.5c9.8-16.2 23.2-29 40-38.3 16.8-9.4 35.4-14 55.7-14C4488.1 2058.6 4506.5 2063.3 4523.3 2072.8zM4425.2 2092.7c-13.1 7.4-23.6 17.5-31.4 30.1-7.8 12.6-11.8 26.5-11.8 41.7.0 15.3 3.9 29.3 11.8 42 7.8 12.7 18.3 22.8 31.4 30.2 13.1 7.4 27.4 11.1 42.9 11.1s29.7-3.7 42.7-11.1 23.3-17.4 31.1-30.2c7.7-12.7 11.6-26.7 11.6-42s-3.9-29.2-11.6-41.8c-7.7-12.6-18.1-22.6-31.1-30s-27.2-11.2-42.6-11.2C4452.6 2081.5 4438.3 2085.2 4425.2 2092.7z"/><path fill="#6d6e71" d="M4854.7 2247.7c-15.7 15.5-37.3 23.3-64.8 23.3-27.7.0-49.4-7.8-65.1-23.3-15.7-15.5-23.6-37-23.6-64.6v-124h24.1v124c0 20.3 5.8 36.1 17.3 47.5 11.6 11.4 27.3 17.1 47.3 17.1 20.1.0 35.8-5.7 47.1-17 11.4-11.3 17-27.2 17-47.7v-124h24.1v124C4878.2 2210.7 4870.4 2232.2 4854.7 2247.7z"/><path fill="#6d6e71" d="M5169.5 2269.8l-126.3-169.1v169.1h-24.1v-210.6h25l126.3 169.3v-169.3h23.8v210.6H5169.5z"/><path fill="#6d6e71" d="M5478.4 2073.1c16.4 9.3 29.4 21.9 38.9 37.9 9.6 16 14.3 33.9 14.3 53.5s-4.8 37.6-14.3 53.6c-9.5 16.1-22.6 28.7-39.3 37.9-16.6 9.2-35.2 13.8-55.5 13.8h-84.3v-210.6h85.2C5443.7 2059.2 5462 2063.8 5478.4 2073.1zM5362.3 2246.9h61.4c15.5.0 29.6-3.5 42.3-10.6s22.8-16.9 30.2-29.5c7.4-12.5 11.1-26.5 11.1-42s-3.8-29.4-11.3-41.9-17.7-22.3-30.6-29.6c-12.8-7.2-27-10.9-42.6-10.9h-60.5v164.5z"/><path fill="#6d6e71" d="M5668.6 2216.6l-23.5 53.2h-25.6l94.4-210.6h25l94.1 210.6h-26l-23.5-53.2H5668.6zM5725.8 2086.6l-46.9 106.8h94.4l-47.5-106.8z"/><path fill="#6d6e71" d="M5991 2082.4v187.4h-24v-187.4h-68.4v-23.2H6060v23.2h-69z"/><path fill="#6d6e71" d="M6175.9 2269.8v-210.6h24.1v210.6H6175.9z"/><path fill="#6d6e71" d="M6493.7 2072.8c16.8 9.4 30.2 22.3 40 38.4 9.8 16.2 14.8 33.9 14.8 53.3.0 19.5-4.9 37.4-14.8 53.6-9.8 16.3-23.2 29.1-40 38.6s-35.3 14.3-55.2 14.3c-20.3.0-38.8-4.7-55.7-14.3-16.8-9.5-30.2-22.4-40-38.6-9.8-16.3-14.8-34.1-14.8-53.6s4.9-37.3 14.8-53.5c9.8-16.2 23.2-29 40-38.3 16.8-9.4 35.4-14 55.7-14C6458.5 2058.6 6476.9 2063.3 6493.7 2072.8zM6395.6 2092.7c-13.1 7.4-23.6 17.5-31.4 30.1-7.8 12.6-11.8 26.5-11.8 41.7.0 15.3 3.9 29.3 11.8 42 7.8 12.7 18.3 22.8 31.4 30.2 13.1 7.4 27.4 11.1 42.9 11.1s29.7-3.7 42.7-11.1 23.3-17.4 31.1-30.2c7.7-12.7 11.6-26.7 11.6-42s-3.9-29.2-11.6-41.8c-7.7-12.6-18.1-22.6-31.1-30s-27.2-11.2-42.6-11.2C6423 2081.5 6408.8 2085.2 6395.6 2092.7z"/><path fill="#6d6e71" d="M6826.5 2269.8l-126.3-169.1v169.1h-24.1v-210.6h25l126.3 169.3v-169.3h23.8v210.6H6826.5z"/><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="-4516.6152" y1="-2338.7222" x2="-4108.4111" y2="-1861.3982" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset="0" style="stop-color:#F69923"/><stop offset=".3123" style="stop-color:#F79A23"/><stop offset=".8383" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_1_)" d="M1230.1 13.7c-45.3 26.8-120.6 102.5-210.5 212.3l82.6 155.9c58-82.9 116.9-157.5 176.3-221.2 4.6-5.1 7-7.5 7-7.5-2.3 2.5-4.6 5-7 7.5-19.2 21.2-77.5 89.2-165.5 224.4 84.7-4.2 214.9-21.6 321.1-39.7 31.6-177-31-258-31-258S1323.4-41.4 1230.1 13.7z"/><path fill="none" d="M1090.2 903.1c.6-.1 1.2-.2 1.8-.3l-11.9 1.3c-.7.3-1.4.7-2.1 1C1082.1 904.4 1086.2 903.7 1090.2 903.1z"/><path fill="none" d="M1005.9 1182.3c-6.7 1.5-13.7 2.7-20.7 3.7C992.3 1185 999.2 1183.8 1005.9 1182.3z"/><path fill="none" d="M432.9 1808.8c.9-2.3 1.8-4.7 2.6-7 18.2-48 36.2-94.7 54-140.1 20-51 39.8-100.4 59.3-148.3 20.6-50.4 40.9-99.2 60.9-146.3 21-49.4 41.7-97 62-142.8 16.5-37.3 32.8-73.4 48.9-108.3 5.4-11.7 10.7-23.2 16-34.6 10.5-22.7 21-44.8 31.3-66.5 9.5-20 19-39.6 28.3-58.8 3.1-6.4 6.2-12.8 9.3-19.1.5-1 1-2 1.5-3.1l-10.2 1.1-8-15.9c-.8 1.6-1.6 3.1-2.4 4.6-14.5 28.8-28.9 57.9-43.1 87.2-8.2 16.9-16.4 34-24.6 51-22.6 47.4-44.8 95.2-66.6 143.3-22.1 48.6-43.7 97.5-64.9 146.5-20.8 48.1-41.3 96.2-61.2 144.2-20 48-39.5 95.7-58.5 143.2-19.9 49.5-39.2 98.7-58 147.2-4.2 10.9-8.5 21.9-12.7 32.8-15 39.2-29.7 77.8-44 116l12.7 25.1 11.4-1.2c.4-1.1.8-2.3 1.3-3.4C396.7 1905.4 414.9 1856.4 432.9 1808.8z"/><path fill="none" d="M980 1186.8c.1.0.1.0.1-.1C980.1 1186.8 980.1 1186.8 980 1186.8z"/><path fill="#be202e" d="M952.6 1323c-10.6 1.9-21.4 3.8-32.5 5.7-.1.0-.1.1-.2.1 5.6-.8 11.2-1.7 16.6-2.6C942 1325.2 947.3 1324.1 952.6 1323z"/><path opacity=".35" fill="#be202e" d="M952.6 1323c-10.6 1.9-21.4 3.8-32.5 5.7-.1.0-.1.1-.2.1 5.6-.8 11.2-1.7 16.6-2.6C942 1325.2 947.3 1324.1 952.6 1323z"/><path fill="#be202e" d="M980.3 1186.7C980.2 1186.7 980.2 1186.7 980.3 1186.7c-.1.1-.2.1-.2.1 1.8-.2 3.5-.5 5.2-.8 7-1 13.9-2.2 20.7-3.7C997.5 1183.8 989 1185.2 980.3 1186.7z"/><path opacity=".35" fill="#be202e" d="M980.3 1186.7C980.2 1186.7 980.2 1186.7 980.3 1186.7c-.1.1-.2.1-.2.1 1.8-.2 3.5-.5 5.2-.8 7-1 13.9-2.2 20.7-3.7C997.5 1183.8 989 1185.2 980.3 1186.7z"/><linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="-7537.7339" y1="-2391.4075" x2="-4625.4141" y2="-2391.4075" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_2_)" d="M858.6 784.7c25.1-46.9 50.5-92.8 76.2-137.4 26.7-46.4 53.7-91.3 80.9-134.7 1.6-2.6 3.2-5.2 4.8-7.7 27-42.7 54.2-83.7 81.6-122.9L1019.5 226c-6.2 7.6-12.5 15.3-18.8 23.2-23.8 29.7-48.6 61.6-73.9 95.5-28.6 38.2-58 78.9-87.8 121.7-27.6 39.5-55.5 80.9-83.5 123.7-23.8 36.5-47.7 74-71.4 112.5-.9 1.4-1.8 2.9-2.6 4.3L789 919.2c22.8-45.6 46.1-90.5 69.6-134.5z"/><linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="-7186.1777" y1="-2099.3059" x2="-5450.7183" y2="-2099.3059" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset="0" style="stop-color:#282662"/><stop offset=".0954839" style="stop-color:#662E8D"/><stop offset=".7882" style="stop-color:#9F2064"/><stop offset=".9487" style="stop-color:#CD2032"/></linearGradient><path fill="url(#SVGID_3_)" d="M369 1981c-14.2 39.1-28.5 78.9-42.9 119.6-.2.6-.4 1.2-.6 1.8-2 5.7-4.1 11.5-6.1 17.2-9.7 27.4-18 52.1-37.3 108.2 31.7 14.5 57.1 52.5 81.1 95.6-2.6-44.7-21-86.6-56.2-119.1 156.1 7 290.6-32.4 360.1-146.6 6.2-10.2 11.9-20.9 17-32.2-31.6 40.1-70.8 57.1-144.5 53-.2.1-.3.1-.5.2.2-.1.3-.1.5-.2 108.6-48.6 163.1-95.3 211.2-172.6 11.4-18.3 22.5-38.4 33.8-60.6-94.9 97.5-205 125.3-320.9 104.2l-86.9 9.5C374.4 1966.3 371.7 1973.6 369 1981z"/><linearGradient id="SVGID_4_" gradientUnits="userSpaceOnUse" x1="-7374.1626" y1="-2418.5454" x2="-4461.8428" y2="-2418.5454" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_4_)" d="M409.6 1786.3c18.8-48.5 38.1-97.7 58-147.2 19-47.4 38.5-95.2 58.5-143.2s40.4-96.1 61.2-144.2c21.2-49 42.9-97.8 64.9-146.5 21.8-48.1 44-95.9 66.6-143.3 8.1-17.1 16.3-34.1 24.6-51 14.2-29.3 28.6-58.4 43.1-87.2.8-1.6 1.6-3.1 2.4-4.6L681.4 706.8c-1.8 2.9-3.5 5.8-5.3 8.6-25.1 40.9-50 82.7-74.4 125.4-24.7 43.1-49 87.1-72.7 131.7-20 37.6-39.6 75.6-58.6 113.9-3.8 7.8-7.6 15.5-11.3 23.2-23.4 48.2-44.6 94.8-63.7 139.5-21.7 50.7-40.7 99.2-57.5 145.1-11 30.2-21 59.4-30.1 87.4-7.5 24-14.7 47.9-21.5 71.8-16 56.3-29.9 112.4-41.2 168.3L353 1935.1c14.3-38.1 28.9-76.8 44-116C401.1 1808.2 405.4 1797.3 409.6 1786.3z"/><linearGradient id="SVGID_5_" gradientUnits="userSpaceOnUse" x1="-7161.7642" y1="-2379.1431" x2="-5631.2524" y2="-2379.1431" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset="0" style="stop-color:#282662"/><stop offset=".0954839" style="stop-color:#662E8D"/><stop offset=".7882" style="stop-color:#9F2064"/><stop offset=".9487" style="stop-color:#CD2032"/></linearGradient><path fill="url(#SVGID_5_)" d="M243.5 1729.4c-13.6 68.2-23.2 136.2-28 203.8-.2 2.4-.4 4.7-.5 7.1-33.7-54-124-106.8-123.8-106.2 64.6 93.7 113.7 186.7 120.9 278-34.6 7.1-82-3.2-136.8-23.3 57.1 52.5 1e2 67 116.7 70.9-52.5 3.3-107.1 39.3-162.1 80.8 80.5-32.8 145.5-45.8 192.1-35.3C148.1 2414.2 74.1 2645 0 2890c22.7-6.7 36.2-21.9 43.9-42.6 13.2-44.4 100.8-335.6 238-718.2 3.9-10.9 7.8-21.8 11.8-32.9 1.1-3 2.2-6.1 3.3-9.2 14.5-40.1 29.5-81.1 45.1-122.9 3.5-9.5 7.1-19 10.7-28.6.1-.2.1-.4.2-.6l-107.9-213.2C244.6 1724.4 244 1726.9 243.5 1729.4z"/><linearGradient id="SVGID_6_" gradientUnits="userSpaceOnUse" x1="-7374.1626" y1="-2117.1309" x2="-4461.8428" y2="-2117.1309" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_6_)" d="M805.6 937c-3.1 6.3-6.2 12.7-9.3 19.1-9.3 19.2-18.8 38.8-28.3 58.8-10.3 21.7-20.7 43.9-31.3 66.5-5.3 11.4-10.6 22.9-16 34.6-16.1 35-32.4 71.1-48.9 108.3-20.3 45.8-41 93.4-62 142.8-20 47.1-40.3 95.9-60.9 146.3-19.5 47.9-39.3 97.3-59.3 148.3-17.8 45.4-35.9 92.1-54 140.1-.9 2.3-1.8 4.7-2.6 7-18 47.6-36.2 96.6-54.6 146.8-.4 1.1-.8 2.3-1.3 3.4l86.9-9.5c-1.7-.3-3.5-.5-5.2-.9 103.9-13 242.1-90.6 331.4-186.5 41.1-44.2 78.5-96.3 113-157.3 25.7-45.4 49.8-95.8 72.8-151.5 20.1-48.7 39.4-101.4 58-158.6-23.9 12.6-51.2 21.8-81.4 28.2-5.3 1.1-10.7 2.2-16.1 3.1-5.5 1-11 1.8-16.6 2.6.1.0.1-.1.2-.1 96.9-37.3 158-109.2 202.4-197.4-25.5 17.4-66.9 40.1-116.6 51.1-6.7 1.5-13.7 2.7-20.7 3.7-1.7.3-3.5.6-5.2.8.1.0.1.0.1-.1h.1c33.6-14.1 62-29.8 86.6-48.4 5.3-4 10.4-8.1 15.3-12.3 7.5-6.5 14.7-13.3 21.5-20.5 4.4-4.6 8.6-9.3 12.7-14.2 9.6-11.5 18.7-23.9 27.1-37.3 2.6-4.1 5.1-8.3 7.6-12.6 3.2-6.2 6.3-12.3 9.3-18.3 13.5-27.2 24.4-51.5 33-72.8 4.3-10.6 8.1-20.5 11.3-29.7 1.3-3.7 2.5-7.2 3.7-10.6 3.4-10.2 6.2-19.3 8.4-27.3 3.3-12 5.3-21.5 6.4-28.4-3.3 2.6-7.1 5.2-11.3 7.7-29.3 17.5-79.5 33.4-119.9 40.8l79.8-8.8-79.8 8.8c-.6.1-1.2.2-1.8.3-4 .7-8.1 1.3-12.2 2 .7-.3 1.4-.7 2.1-1l-273 29.9C806.6 935 806.1 936 805.6 937z"/><linearGradient id="SVGID_7_" gradientUnits="userSpaceOnUse" x1="-7554.8232" y1="-2132.0981" x2="-4642.5034" y2="-2132.0981" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_7_)" d="M1112.9 385.1c-24.3 37.3-50.8 79.6-79.4 127.5-1.5 2.5-3 5.1-4.5 7.6-24.6 41.5-50.8 87.1-78.3 137-23.8 43.1-48.5 89.3-74.3 139C854 839.5 830.8 885.4 807 934l273-29.9c79.5-36.6 115.1-69.7 149.6-117.6 9.2-13.2 18.4-27 27.5-41.3 28-43.8 55.6-92 80.1-139.9 23.7-46.3 44.7-92.2 60.7-133.5 10.2-26.3 18.4-50.8 24.1-72.3 5-19 8.9-36.9 11.9-54.1C1327.9 363.5 1197.6 380.9 1112.9 385.1z"/><path fill="#be202e" d="M936.5 1326.1c-5.5 1-11 1.8-16.6 2.6C925.5 1328 931 1327.1 936.5 1326.1z"/><path opacity=".35" fill="#be202e" d="M936.5 1326.1c-5.5 1-11 1.8-16.6 2.6C925.5 1328 931 1327.1 936.5 1326.1z"/><linearGradient id="SVGID_8_" gradientUnits="userSpaceOnUse" x1="-7374.1626" y1="-2027.484" x2="-4461.8433" y2="-2027.484" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_8_)" d="M936.5 1326.1c-5.5 1-11 1.8-16.6 2.6C925.5 1328 931 1327.1 936.5 1326.1z"/><path fill="#be202e" d="M980 1186.8c1.8-.2 3.5-.5 5.2-.8C983.5 1186.3 981.8 1186.6 980 1186.8z"/><path opacity=".35" fill="#be202e" d="M980 1186.8c1.8-.2 3.5-.5 5.2-.8C983.5 1186.3 981.8 1186.6 980 1186.8z"/><linearGradient id="SVGID_9_" gradientUnits="userSpaceOnUse" x1="-7374.1626" y1="-2037.7417" x2="-4461.8433" y2="-2037.7417" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_9_)" d="M980 1186.8c1.8-.2 3.5-.5 5.2-.8C983.5 1186.3 981.8 1186.6 980 1186.8z"/><path fill="#be202e" d="M980.2 1186.7z"/><path opacity=".35" fill="#be202e" d="M980.2 1186.7z"/><linearGradient id="SVGID_10_" gradientUnits="userSpaceOnUse" x1="-5738.0635" y1="-2039.799" x2="-5094.3457" y2="-2039.799" gradientTransform="matrix(0.4226 -0.9063 0.9063 0.4226 5117.8774 -2859.9343)"><stop offset=".3233" style="stop-color:#9E2064"/><stop offset=".6302" style="stop-color:#C92037"/><stop offset=".7514" style="stop-color:#CD2335"/><stop offset="1" style="stop-color:#E97826"/></linearGradient><path fill="url(#SVGID_10_)" d="M980.2 1186.7z"/></svg></div></a><ul class=footer-link><li><a class=white href=https://www.apache.org>Foundation</a></li><li><a class=white href=https://www.apache.org/licenses/>License</a></li><li><a class=white href=https://hugegraph.apache.org/docs/guides/security>Security</a></li><li><a class=white href=https://www.apache.org/foundation/sponsorship.html>Sponsorship</a></li><li><a class=white href=https://privacy.apache.org/policies/privacy-policy-public.html target=_blank>Privacy</a></li></ul></div></div><div class="col-6 text-white text-center container-center"><p>Copyright &copy; 2026 The Apache Software Foundation, Licensed under the <a class=white href=https://www.apache.org/licenses/LICENSE-2.0>Apache License Version 2.0</a></p><p>Apache, the names of Apache projects, and the feather logo are either registered trademarks or trademarks of the Apache Software Foundation in the United States and/or other countries.</p></div><div class=col-1></div></div></div></footer></div><script src=/js/popper.min.js></script>
<script src=/js/bootstrap.min.js></script>
<script src=/js/mermaid.min.js></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.e5172b35d915ae4e363d053ea36b47944d4363d50a61c129d222283019daf4e0.js integrity="sha256-5RcrNdkVrk42PQU+o2tHlE1DY9UKYcEp0iIoMBna9OA=" crossorigin=anonymous></script>
<script src=/js/prism.js></script></body></html>