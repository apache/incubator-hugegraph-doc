<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>HugeGraph â€“ HugeGraph-AI</title><link>/cn/blog/hugegraph-ai/</link><description>Recent content in HugeGraph-AI on HugeGraph</description><generator>Hugo -- gohugo.io</generator><atom:link href="/cn/blog/hugegraph-ai/index.xml" rel="self" type="application/rss+xml"/><item><title>Blog: Agentic GraphRAG</title><link>/cn/blog/2025/10/29/agentic-graphrag/</link><pubDate>Wed, 29 Oct 2025 00:00:00 +0000</pubDate><guid>/cn/blog/2025/10/29/agentic-graphrag/</guid><description>
&lt;h1 id="é¡¹ç›®èƒŒæ™¯">é¡¹ç›®èƒŒæ™¯&lt;/h1>
&lt;p>ä¸ºäº†åº”å¯¹æ¨¡å‹è®­ç»ƒæ•°æ®å’Œç°å®ç”Ÿæ´»ä¸­å®é™…æ•°æ®ä¹‹é—´å­˜åœ¨çš„æ—¶æ•ˆæ€§å·®å¼‚é—®é¢˜ï¼ŒRAGæŠ€æœ¯åº”è¿è€Œç”Ÿã€‚RAGï¼Œé¡¾åæ€ä¹‰å°±æ˜¯é€šè¿‡å‘å¤–éƒ¨æ•°æ®æºè·å–å¯¹åº”çš„æ•°æ®ï¼ˆRetrievalï¼‰ï¼Œç”¨äºå¢å¼ºï¼ˆArgumentï¼‰å¤§æ¨¡å‹ç”Ÿæˆï¼ˆGenerationï¼‰å›ç­”è´¨é‡çš„æŠ€æœ¯ã€‚&lt;/p>
&lt;p>æœ€æ—©çš„RAGé‡‡ç”¨ç®€å•çš„Retrieval - Generationæ¶æ„ï¼Œæˆ‘ä»¬æ‹¿åˆ°ç”¨æˆ·ç»™å‡ºçš„é—®é¢˜ï¼Œè¿›è¡Œä¸€å®šçš„é¢„å¤„ç†ï¼ˆå…³é”®è¯æå–ç­‰ç­‰ï¼‰ï¼Œå¾—åˆ°é¢„å¤„ç†ä¹‹åçš„é—®é¢˜ï¼Œæ¥ç€é€šè¿‡Embedding Modelä»æµ·é‡èµ„æ–™ä¸­æŠ“å–ç›¸å…³çš„èµ„æ–™ä½œä¸ºPromptäº¤ç»™å¤§æ¨¡å‹ç”¨äºå¢å¼ºæ¨¡å‹å›ç­”çš„è´¨é‡ã€‚&lt;/p>
&lt;p>ä½†æ˜¯åŸºäºè¯­ä¹‰ç›¸ä¼¼æ€§åŒ¹é…è¿›è¡Œç›¸å…³è¯­æ–™çš„æŠ“å–æœªå¿…èƒ½å¤Ÿå¤„ç†æ‰€æœ‰æƒ…å†µï¼Œå› ä¸ºèƒ½å¤Ÿç”¨äºå¢å¼ºå›ç­”è´¨é‡çš„è¯­æ–™ä¸ä¸€å®šå’Œé—®é¢˜æœ¬èº«å­˜åœ¨è¯­ä¹‰ç›¸ä¼¼æ€§ã€‚ä¸€ä¸ªå¸¸è§çš„ä¾‹å­å°±æ˜¯ï¼š**å‘Šè¯‰æˆ‘â€œæå‡ºæ°´æ˜¯ä¸‡ç‰©çš„æœ¬æºâ€çš„å“²å­¦å®¶çš„å¾’å¼Ÿæå‡ºçš„æœ¬ä½“è®ºè§‚ç‚¹ã€‚**è€Œæˆ‘ä»¬çš„è¯­æ–™ä¸­å¹¶ä¸ç›´æ¥å­˜åœ¨è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œè¯­æ–™åº“ä¸­å¯èƒ½æåˆ°ï¼š&lt;/p>
&lt;ol>
&lt;li>æ³°å‹’æ–¯æå‡ºæ°´æ˜¯ä¸‡ç‰©çš„æœ¬æº&lt;/li>
&lt;li>æ³°å‹’æ–¯çš„å¼Ÿå­æœ‰é˜¿çº³å…‹è¥¿æ›¼å¾·&lt;/li>
&lt;li>é˜¿çº³å…‹è¥¿æ›¼å¾·å°†æ²¡æœ‰ä»»ä½•å½¢å¼è§„å®šæ€§çš„é˜¿æ´¾æœ—è®¤å®šä¸ºä¸‡ç‰©çš„æœ¬æº&lt;/li>
&lt;/ol>
&lt;p>å¦‚æœå•çº¯ä»è¯­ä¹‰ç›¸ä¼¼åº¦åŒ¹é…å‡ºå‘ï¼Œæˆ‘ä»¬å¤§æ¦‚ç‡åªèƒ½retrievalåˆ°ç¬¬ä¸€ä¸ªå¥å­ç”¨äºå¢å¼ºå¤§æ¨¡å‹çš„å›ç­”ã€‚ä½†æ˜¯ç¼ºå¤±è¯­æ–™2å’Œè¯­æ–™3çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æ‰€ä½¿ç”¨çš„å¤§æ¨¡å‹è®­ç»ƒè¯­æ–™ä¸­æ²¡æœ‰å“²å­¦ç›¸å…³çŸ¥è¯†ï¼Œåœ¨ç¼ºå¤±è¿™äº›å…³é”®ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œå¤§æ¨¡å‹å°†æ— æ³•æ­£ç¡®å›ç­”è¿™äº›é—®é¢˜ï¼Œç”šè‡³ä¼šå‡ºç°â€œå¹»è§‰â€ã€‚&lt;/p>
&lt;p>å› æ­¤GraphRAGæŠ€æœ¯è¯ç”Ÿäº†ï¼Œå¸¸è§çš„GraphRAGåŒ…å«ä¸¤ä¸ªæ­¥éª¤ï¼š&lt;/p>
&lt;ol>
&lt;li>Offline: æˆ‘ä»¬éœ€è¦ç¦»çº¿å¯¹è¯­æ–™åº“è¿›è¡Œå›¾ç´¢å¼•çš„æ„å»ºï¼ˆå°†éç»“æ„åŒ–è¯­æ–™è½¬åŒ–ä¸ºç»“æ„åŒ–æ•°æ®å­˜å‚¨åˆ°å›¾æ•°æ®åº“ä¸­ï¼‰&lt;/li>
&lt;li>Online: å½“GraphRAGç³»ç»Ÿæ¥æ”¶åˆ°ç”¨æˆ·é—®é¢˜æ—¶ï¼Œæ ¹æ®å›¾æ•°æ®åº“æ•æ‰åˆ°çš„è¯­æ–™åº“ä¸­ä¸åŒå®ä½“ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ä»å›¾æ•°æ®åº“ä¸­æŠ“å–åˆ°ä¸Šé¢çš„ä¸‰å¥è¯ï¼ˆå…·ä½“å›¾æ•°æ®åº“ç´¢å¼•å¯èƒ½å¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰&lt;/li>
&lt;/ol>
&lt;div style="text-align: center;">
&lt;img src="/blog/images/images-server/agentic-background.png" alt="image" width="400">
&lt;/div>
&lt;p>ä½†æ˜¯GraphRAGæœ¬èº«ä¹Ÿå­˜åœ¨å‡ ä¸ªé—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>å¦‚ä½•æ„å»ºGraph Indexæ˜¯ä¸€é—¨å­¦é—®ï¼ŒGraph Indexä¼šå½±å“åˆ°æ¨¡å‹å›ç­”è´¨é‡ã€‚&lt;/li>
&lt;li>GraphRAGç´¢å¼•æ„å»ºè¿‡ç¨‹Tokenæ¶ˆè€—å·¨å¤§&lt;/li>
&lt;li>GraphRAGä¸­å­˜åœ¨å„ç§å„æ ·çš„å›¾ç®—æ³•ï¼Œå¦‚ä½•Retrievalæ•ˆæœæœ€å¥½å‘¢ï¼Ÿï¼ˆé…ç½®ç©ºé—´è¿‡å¤§ï¼‰&lt;/li>
&lt;/ol>
&lt;p>æœ¬æ¬¡é¡¹ç›®ä¸»è¦é’ˆå¯¹ç¬¬ä¸‰ä¸ªé—®é¢˜å±•å¼€ã€‚æˆ‘ä»¬å¸Œæœ›å€ŸåŠ©å¤§æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ä½¿å…¶è‡ªåŠ¨è¯†åˆ«ç”¨æˆ·é—®é¢˜ä¸­çš„æ„å›¾ï¼Œç„¶åé€‰æ‹©åˆé€‚é…ç½®ï¼ˆæ¯”å¦‚é€‰æ‹©æœ€åˆé€‚çš„å›¾ç®—æ³•ï¼‰ä»å›¾æ•°æ®åº“ä¸­è¯»å–å¯¹åº”çš„æ•°æ®ç”¨äºå¢å¼ºå¤§æ¨¡å‹å›ç­”è´¨é‡â€”â€”ä¹Ÿå°±æ˜¯æœ¬æ¬¡é¡¹ç›®Agentic GraphRAGçš„ç›®çš„æ‰€åœ¨ã€‚&lt;/p>
&lt;h1 id="ç°æœ‰-workflowä¼˜é›…çš„è§£è€¦æœªç«Ÿçš„å¹¶è¡Œ">&lt;strong>ç°æœ‰ Workflowï¼šä¼˜é›…çš„è§£è€¦ï¼Œæœªç«Ÿçš„å¹¶è¡Œ&lt;/strong>&lt;/h1>
&lt;p>ç°åœ¨çš„HugeGraph-AIé¡¹ç›®ä¸­å­˜åœ¨ä¸¤ä¸ªæ ¸å¿ƒæŠ½è±¡ï¼š&lt;/p>
&lt;ol>
&lt;li>Operatorï¼šè¡¨ç¤ºã€ŒåŸå­å¼çš„æ“ä½œå•å…ƒã€ï¼Œè´Ÿè´£å®Œæˆä¸€ä¸ªæ˜ç¡®çš„å­ä»»åŠ¡ï¼Œå¦‚å‘é‡ç´¢å¼•æ„å»ºã€å‘é‡ç›¸ä¼¼åº¦æŸ¥è¯¢ã€å›¾æ•°æ®ç›¸å…³æ“ä½œç­‰ç­‰&lt;/li>
&lt;li>Workflowï¼šç”±Operatorä½œä¸ºèŠ‚ç‚¹æ„æˆçš„&lt;strong>é“¾çŠ¶&lt;/strong>æ‰§è¡Œæµã€‚é¡¹ç›®ä¸­é¢„å®šä¹‰å¥½çš„Workflowå’Œé¡¹ç›®Demoç”¨ä¾‹ä¸€ä¸€å¯¹åº”ï¼ˆå¦‚GraphRAGï¼Œ Vector-Similarity-Based RAGï¼‰&lt;/li>
&lt;/ol>
&lt;p>ç”±äºOperatorçš„å®ç°éœ€è¦éµå¾ªä¸‹é¢çš„æ¥å£:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">class&lt;/span> &lt;span style="color:#000">Operator&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#5c35cc;font-weight:bold">@abstractmethod&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">run&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87">dict&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87">str&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">Any&lt;/span>&lt;span style="color:#000;font-weight:bold">])&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span> &lt;span style="color:#204a87">dict&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#204a87">str&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#000">Any&lt;/span>&lt;span style="color:#000;font-weight:bold">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000;font-weight:bold">{}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Operatoråœ¨å®é™…è¿è¡Œæ—¶æ¥å—å­—å…¸ç±»å‹çš„contextå¯¹è±¡ä½œä¸ºè¾“å…¥ï¼Œè¿”å›çš„å¯¹è±¡ä¹Ÿæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå¯ä»¥ç”¨æ¥ä½œä¸ºä¸‹ä¸€ä¸ªOperatorçš„è¾“å…¥ï¼Œè¿™æ ·çš„è®¾è®¡æœ‰ä¸€ä¸ªå¾ˆé«˜æ˜çš„åœ°æ–¹â€”â€”ä»–å°†ä¸åŒçš„Operatorä¹‹é—´çš„ä¾èµ–å…³ç³»å’ŒOperatoræœ¬èº«çš„å…·ä½“å®ç°è§£è€¦äº†ï¼Œæ¯ä¸ªOperatoræ˜¯ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„å­˜åœ¨ï¼Œå¦‚æœOperator Aéœ€è¦ä¾èµ–Operator Bçš„è¾“å‡ºï¼Œé‚£ä¹ˆåªéœ€è¦æ£€æŸ¥contextå¯¹è±¡ä¸­æ˜¯å¦å­˜æœ‰Operator Bçš„è¾“å‡ºå³å¯ã€‚è¿™æ˜¯ä¸€ç§ä½è€¦åˆçš„è®¾è®¡ã€‚å¥½å¤„æ˜¯æˆ‘ä»¬èƒ½å¾ˆæ–¹ä¾¿åœ°å°†ä¸åŒçš„Operatorè‡ªç”±ç»„åˆã€‚æ ¹æ®ä¸åŒçš„ç”¨æˆ·è¾“å…¥ç»„è£…ï¼ˆé…ç½®ï¼‰åˆé€‚Workflow Servingç”¨æˆ·è¯·æ±‚ï¼Œé‚£ä¸æ­£æ˜¯æˆ‘ä»¬åœ¨é¡¹ç›®èƒŒæ™¯ä¸­æåˆ°çš„Agentic GraphRAGçš„ç›®çš„æ‰€åœ¨å—ï¼Ÿ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>ğŸ‘‰ğŸ¼ ç†è®ºä¸Šç°æœ‰è®¾è®¡å·²ç»å¯ä»¥æ­£å¸¸è¿‡æ¸¡åˆ°Agentic GraphRAGï¼Œä½†æ˜¯ç°æœ‰è®¾è®¡å­˜åœ¨è¯¸å¤šæ‚¬è€Œæœªå†³çš„é—®é¢˜ï¼š
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 1. ç°æœ‰è°ƒåº¦å™¨ä»…ä»…æ”¯æŒé“¾çŠ¶Workflowï¼Œç¼ºå¤±äº†å¯èƒ½å­˜åœ¨çš„å¹¶è¡Œç©ºé—´
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 2. ç°æœ‰è°ƒåº¦å™¨æ— æ³•å¤ç”¨è¢«åå¤ä½¿ç”¨åˆ°çš„Workflow
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="æ‰“ç ´é“¾å¼æŸç¼šæ‹¥æŠ±å…¨æ–°æ¶æ„">æ‰“ç ´é“¾å¼æŸç¼šï¼Œæ‹¥æŠ±å…¨æ–°æ¶æ„&lt;/h1>
&lt;p>ä¹‹å‰çš„è°ƒåº¦å™¨ç»™æˆ‘ä»¬çš„å¯å‘æ˜¯Operatorç²’åº¦çš„è§£è€¦æ˜¯ä¸€ä¸ªä¸é”™çš„è®¾è®¡ç†å¿µï¼Œä½†æ˜¯è°ƒåº¦å™¨æœ¬èº«èƒ½åŠ›æœ‰é™ï¼Œé™åˆ¶äº†Workflowçš„èƒ½åŠ›ã€‚å› æ­¤æˆ‘ä»¬è®¡åˆ’æ›¿æ¢é¡¹ç›®ä¸­çš„è°ƒåº¦å™¨ï¼ç»è¿‡å¯¹å‡ ç§ä¸åŒçš„Workflowç¼–æ’æ¡†æ¶è¿›è¡Œç®€å•çš„è°ƒç ”ä¹‹åï¼Œæˆ‘ä»¬è®¤ä¸ºä¸‹é¢å‡ ä¸ªç‰¹æ€§æ˜¯æˆ‘ä»¬ç­›é€‰è°ƒåº¦å™¨çš„æ ‡å‡†ã€‚ï¼ˆä¸‹é¢æˆ‘ä»¬ç»Ÿä¸€å°†æ¡†æ¶ç¼–æ’å¯¹è±¡ç§°ä¸ºWorkflowï¼ŒWorkflowç”±ä¸€ç³»åˆ—Taskç»„æˆï¼‰&lt;/p>
&lt;ol>
&lt;li>å¹¶è¡Œæ€§ï¼šWorkflowä¸­æ²¡æœ‰æ•°æ®ä¾èµ–å…³ç³»çš„ä¸åŒTaskèƒ½å¦æ”¯æŒè‡ªåŠ¨å¹¶è¡Œ&lt;/li>
&lt;li>ä½è€¦åˆï¼šTaskçš„å…·ä½“å®ç°åº”è¯¥å’ŒWorkflowæœ¬èº«è§£è€¦ï¼ˆç”¨äººè¯ï¼šä¸€ç§Taskå¯ä»¥ä½œä¸ºå¤šç§ä¸åŒçš„Workflowçš„èŠ‚ç‚¹ï¼ŒåŒæ—¶Taskçš„å®ç°æ˜¯å¦éœ€è¦åŒ…å«ä¸å…¶ä»–Taskä¾èµ–å…³ç³»çº¦æŸï¼Ÿï¼‰&lt;/li>
&lt;li>æ•°æ®å…±äº«ï¼šç”±äºæˆ‘ä»¬å¸Œæœ›ä¸åŒçš„Taskä¹‹é—´çš„ä¾èµ–å…³ç³»è§£è€¦ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦Workflowç²’åº¦çš„æ•°æ®å…±äº«æœºåˆ¶ç”¨æ¥åœ¨ä¸åŒçš„Taskå…±äº«æ•°æ®ï¼ˆç”¨äºå‚æ•°ä¼ é€’ï¼‰&lt;/li>
&lt;li>æä¾›Pythonæ¥å£&lt;/li>
&lt;/ol>
&lt;h2 id="aiæ¡†æ¶å¤§ä¹±æ–—">AIæ¡†æ¶å¤§ä¹±æ–—&lt;/h2>
&lt;p>æˆ‘ä»¬é¦–å…ˆå°†ç›®å…‰æ”¾åˆ°äº†ç°åœ¨ç‚™æ‰‹å¯çƒ­çš„AI Workflowè°ƒåº¦æ¡†æ¶ã€‚å›´ç»•å‰é¢æåˆ°çš„å‡ ä¸ªç»´åº¦ï¼Œæˆ‘ä»¬åˆ†åˆ«è°ƒç ”äº†ä¸‹é¢å‡ ç§ä¸åŒçš„Workflowç¼–æ’æ¡†æ¶â€”â€”LlamaIndexï¼ŒAgnoï¼ŒPydantic-Aiï¼ŒLangGraphã€‚&lt;/p>
&lt;h3 id="llamaindex">LlamaIndex&lt;/h3>
&lt;p>å¯¹äºLlamaIndexï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªå¸¸è§çš„ä¾‹å­è¯´æ˜LlamaIndexè¿™ä¸ªæ¡†æ¶çš„è®¾è®¡ç†å¿µã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">from&lt;/span> &lt;span style="color:#000">workflows&lt;/span> &lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#000">Workflow&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">step&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">from&lt;/span> &lt;span style="color:#000">workflows.events&lt;/span> &lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#000">StartEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">StopEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">Event&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">class&lt;/span> &lt;span style="color:#000">StepEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">Event&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">message&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87">str&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">class&lt;/span> &lt;span style="color:#000">MyWorkflow&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">Workflow&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#5c35cc;font-weight:bold">@step&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">async&lt;/span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">step_one&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ev&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">StartEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span> &lt;span style="color:#000">StepEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">current_count&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">store&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">get&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">default&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">0&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">current_count&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">+=&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">await&lt;/span> &lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">store&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">set&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;count&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">current_count&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">print&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;step one called once&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">StepEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;launch step two&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#5c35cc;font-weight:bold">@step&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">async&lt;/span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">step_two&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ctx&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">Context&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">ev&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">StepEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span> &lt;span style="color:#000">StopEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87">print&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;step two called once&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">StopEvent&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»ä¸Šé¢è¿™ä¸ªç®€å•çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¾ˆå¤šé—®é¢˜ã€‚é¦–å…ˆæ˜ç¡®ä¸€ä¸ªè§‚å¿µï¼šWorkflowç”±ä¸¤ä¸ªå…ƒç´ æ„æˆï¼šTaskï¼ŒTaskä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚åªè¦è¿™ä¸¤ä¸ªå…ƒç´ ç¡®å®šä¹‹åä¸€ä¸ªWorkflowå°±ç¡®å®šä¸‹æ¥äº†ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°LlamaIndexä¸­æ¯ä¸ªTask(å¯¹åº”ä»£ç ä¸­ç”¨@stepæ³¨è§£çš„å‡½æ•°)çš„å®ç°å’ŒWorkflowå­˜åœ¨ä¾èµ–å…³ç³»ã€‚å› ä¸ºæ¯ä¸ªTaskçš„å®ç°éƒ½éœ€è¦ä¼ å…¥Eventå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä½†æ˜¯Eventå‚æ•°å…¶å®å°±æ˜¯å¯¹Taskä¹‹é—´ä¾èµ–å…³ç³»çš„ä¸€ç§é™å®šã€‚æ‰€ä»¥LlamaIndexä¸å…·å¤‡ä½è€¦åˆçš„ç‰¹ç‚¹ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿå‘ç°Taskä½œä¸ºWorkflowç±»æˆå‘˜å‡½æ•°æœ¬èº«å°±è¿èƒŒäº†æˆ‘ä»¬å‰é¢æåˆ°çš„Taskéœ€è¦èƒ½å¤Ÿåœ¨å¤šç§ä¸åŒWorkflowä¸­ä½¿ç”¨çš„è¯‰æ±‚ã€‚ä½†æ˜¯ç»è¿‡è°ƒç ”ï¼ŒLlamaIndexçš„æ•°æ®å…±äº«å’Œå¹¶è¡Œç‰¹æ€§æ”¯æŒè¿˜ç®—ä¸é”™ã€‚åªä¸è¿‡ä»åŸºäºäº‹ä»¶é©±åŠ¨æ¨¡å‹æ„å»ºçš„ç¼–ç¨‹æ¥å£åœ¨ä¿è¯äº†æ¥å£æ˜“ç”¨æ€§çš„åŒæ—¶ä¹Ÿç‰ºç‰²äº†ç¼–ç¨‹çš„çµæ´»æ€§ã€‚&lt;/p>
&lt;h3 id="agno">Agno&lt;/h3>
&lt;p>åŒæ ·è¿˜æ˜¯ä»ä¾‹å­å…¥æ‰‹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">from&lt;/span> &lt;span style="color:#000">agno.workflow&lt;/span> &lt;span style="color:#204a87;font-weight:bold">import&lt;/span> &lt;span style="color:#000">Router&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">Workflow&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">route_by_topic&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">step_input&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span> &lt;span style="color:#000">List&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">topic&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">step_input&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">input&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">lower&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;tech&amp;#34;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">in&lt;/span> &lt;span style="color:#000">topic&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Tech Research&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">agent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">tech_expert&lt;/span>&lt;span style="color:#000;font-weight:bold">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">elif&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;business&amp;#34;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">in&lt;/span> &lt;span style="color:#000">topic&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Business Research&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">agent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">biz_expert&lt;/span>&lt;span style="color:#000;font-weight:bold">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">else&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;General Research&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">agent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">generalist&lt;/span>&lt;span style="color:#000;font-weight:bold">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">workflow&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">Workflow&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Expert Routing&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">steps&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Router&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Topic Router&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">selector&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">route_by_topic&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">choices&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">tech_step&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">business_step&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">general_step&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">),&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Synthesis&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">agent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">synthesizer&lt;/span>&lt;span style="color:#000;font-weight:bold">),&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">workflow&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">print_response&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Latest developments in artificial intelligence and machine learning&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">markdown&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#204a87;font-weight:bold">True&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»è¿™ä¸ªä¾‹å­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°Workflowæœ¬èº«å’ŒTaskä¹‹é—´çš„ç»‘å®šå…³ç³»æ˜¯é€šè¿‡æŒ‡å®šstepså‚æ•°ç¡®å®šçš„ã€‚ç†è®ºä¸Šæ¥è¯´å®šä¹‰å¥½ä¸€ç§Taskä¹‹åæˆ‘ä»¬å¯ä»¥å°†å…¶ç”¨äºä¸åŒçš„Workflowä¸­ï¼ŒAgnoçš„è®¾è®¡ç¬¦åˆæˆ‘ä»¬çš„ä½è€¦åˆæ ‡å‡†ã€‚&lt;/p>
&lt;p>ä½†æ˜¯æ•°æ®å…±äº«å’Œä»»åŠ¡å¹¶è¡Œæ–¹é¢çš„æ”¯æŒå°±å­˜åœ¨ä¸€å®šçš„é™åˆ¶ã€‚&lt;/p>
&lt;p>é¦–å…ˆæ˜¯ä»»åŠ¡å¹¶è¡Œï¼Œä¾‹å­å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">workflow&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">Workflow&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Parallel Research Pipeline&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">steps&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Parallel&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;HackerNews Research&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">agent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">hn_researcher&lt;/span>&lt;span style="color:#000;font-weight:bold">),&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Web Research&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">agent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">web_researcher&lt;/span>&lt;span style="color:#000;font-weight:bold">),&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Academic Research&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">agent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">academic_researcher&lt;/span>&lt;span style="color:#000;font-weight:bold">),&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Research Step&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">),&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">Step&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">name&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Synthesis&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">agent&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#000">synthesizer&lt;/span>&lt;span style="color:#000;font-weight:bold">),&lt;/span> &lt;span style="color:#8f5902;font-style:italic"># Combines the results and produces a report&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Agnoä¸“é—¨è®¾è®¡äº†å¹¶è¡Œæ¥å£ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é™æ€ç¼–è¯‘æ—¶ï¼ˆPythonå“ªæœ‰ç¼–è¯‘æ—¶ï¼Ÿåº”è¯¥å«å†™ä»£ç çš„æ—¶å€™å“ˆå“ˆğŸ˜€ï¼‰æ˜ç¡®å“ªäº›ä»»åŠ¡å¯ä»¥å¹¶è¡Œã€‚ä½†æ˜¯Agentic GraphRAGæœ€ç»ˆæ„é€ çš„Workflowæœ‰å¯èƒ½æ˜¯åœ¨è¿è¡Œæ—¶ç”±æ¨¡å‹è§„åˆ’å‡ºæ¥çš„ï¼Œæ˜¯åŠ¨æ€è¿è¡Œæ—¶æ˜ç¡®çš„ï¼Œå‡ºäºè¿™æ ·çš„è€ƒé‡ï¼Œæˆ‘ä»¬è®¤ä¸ºAgnoçš„å¹¶è¡Œç‰¹æ€§å¹¶ä¸ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚&lt;/p>
&lt;p>æ¥ä¸‹æ¥æ˜¯æ•°æ®å…±äº«ï¼ŒAgnoæ¡†æ¶ä¸­æ”¯æŒä¸‰ç§ä¸åŒçš„Taskï¼š&lt;/p>
&lt;ol>
&lt;li>Agent&lt;/li>
&lt;li>ç”±å¤šä¸ªAgentæ„æˆçš„Team&lt;/li>
&lt;li>Pure Function&lt;/li>
&lt;/ol>
&lt;p>æˆ‘ä»¬æ£€æŸ¥äº†è°ƒç ”æ—¶æœ€æ–°ç‰ˆæœ¬çš„Agnoæºä»£ç ï¼Œå‘ç°Agnoæ”¯æŒçš„çŠ¶æ€å…±äº«ä»…é™äºAgentå’ŒTeamã€‚é‚£ä¹ˆå¯¹äºé‚£äº›é€‚åˆç”¨Pure Functionå®ç°çš„Taskï¼Œæˆ‘ä»¬å°±éœ€è¦é¢å¤–æ”¯æŒæ•°æ®å…±äº«çš„æœºåˆ¶ã€‚å› æ­¤Agnoçš„æ•°æ®å…±äº«æœºåˆ¶ä¹Ÿä¸ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ã€‚&lt;/p>
&lt;h3 id="pydantic-ai">Pydantic-Ai&lt;/h3>
&lt;p>æˆ‘ä»¬ä»å®˜æ–¹æ–‡æ¡£ä¸­å°±çœ‹åˆ°&lt;/p>
&lt;div style="text-align: center;">
&lt;img src="/blog/images/images-server/agentic-pydantic.png" alt="image" width="800">
&lt;/div>
&lt;p>Pydantic-Aiæ¡†æ¶ç«Ÿç„¶ä¸æ”¯æŒTaskç²’åº¦çš„è‡ªåŠ¨å¹¶è¡Œã€‚&lt;/p>
&lt;p>å’ŒLlamaIndexæ¡†æ¶ç±»ä¼¼é‡‡ç”¨äº‹ä»¶é©±åŠ¨çš„ç¼–ç¨‹æ¨¡å‹ï¼Œå› æ­¤Workflowå’ŒTaskä¹‹é—´ä¸ç®—æ˜¯å®Œå…¨è§£è€¦ï¼Œä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ—¶Pydantic-Aiçš„Taskæ˜¯å¯ä»¥ç”¨åˆ°å¤šä¸ªä¸åŒçš„Workflowçš„ã€‚&lt;/p>
&lt;h3 id="langgraph">LangGraph&lt;/h3>
&lt;p>æœ€åçš„æœ€åï¼Œç»ˆäºè¿˜æ˜¯é‡åˆ°äº†LangGraphï¼Œä¹‹å‰ä¸€ç›´æ²¡æœ‰è°ƒç ”LangGraphçš„åŸå› æ˜¯å› ä¸ºç”±å›¢é˜Ÿä¼™ä¼´è®¤ä¸ºLangGraphæœ¬èº«å¤ªé‡äº†ã€‚åœ¨ä¸Šä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œå³ä½¿åªæ˜¯ä½¿ç”¨LangGraphçš„éƒ¨åˆ†åŠŸèƒ½ï¼ˆè°ƒåº¦ï¼‰ï¼Œä¹Ÿéœ€è¦å¼•å…¥LangGraphçš„å®Œæ•´ä¾èµ–ï¼Œå¼•å…¥LangGraphå¯èƒ½ä¼šè®©é¡¹ç›®å˜â€œé‡â€ã€‚æ—¶ä¸æ—¶åœ¨å…¶ä»–å¼€æºé¡¹ç›®ä¸­çœ‹åˆ°â€œxxxæ¯”LangGraphå¿«xxxå€â€è¯¸å¦‚æ­¤ç±»çš„å­—çœ¼ä¹Ÿç¡®å®å½±å“åˆ°æˆ‘ä»¬çš„å†³ç­–åˆ¤æ–­ã€‚æ‰€ä»¥ç›´åˆ°æ­¤æ—¶æ­¤åˆ»æ‰æŠŠå®ƒæä¸Šè°ƒç ”æ—¥ç¨‹ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¿˜æ˜¯æ¥çœ‹çœ‹LangGraphçš„ä¾‹å­&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">class&lt;/span> &lt;span style="color:#000">State&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">TypedDict&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">topic&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87">str&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">joke&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87">str&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">improved_joke&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87">str&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Nodes&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">generate_joke&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">state&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">State&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;First LLM call to generate initial joke&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">msg&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">llm&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">invoke&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">f&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Write a short joke about &lt;/span>&lt;span style="color:#4e9a06">{&lt;/span>&lt;span style="color:#000">state&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;topic&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">msg&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">content&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">check_punchline&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">state&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">State&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;Gate function to check if the joke has a punchline&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic"># Simple check - does the joke contain &amp;#34;?&amp;#34; or &amp;#34;!&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;?&amp;#34;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">in&lt;/span> &lt;span style="color:#000">state&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span> &lt;span style="color:#204a87;font-weight:bold">or&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;!&amp;#34;&lt;/span> &lt;span style="color:#204a87;font-weight:bold">in&lt;/span> &lt;span style="color:#000">state&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Pass&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Fail&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">improve_joke&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">state&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">State&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;Second LLM call to improve the joke&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">msg&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">llm&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">invoke&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">f&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Make this joke funnier by adding wordplay: &lt;/span>&lt;span style="color:#4e9a06">{&lt;/span>&lt;span style="color:#000">state&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#39;joke&amp;#39;&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#4e9a06">}&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;improved_joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">msg&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">content&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Build workflow&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">workflow&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">StateGraph&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">State&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Add nodes&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">workflow&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">add_node&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;generate_joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">generate_joke&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">workflow&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">add_node&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;improve_joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">improve_joke&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Add edges to connect nodes&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">workflow&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">add_edge&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">START&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;generate_joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">workflow&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">add_conditional_edges&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;generate_joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">check_punchline&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Fail&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;improve_joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Pass&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">END&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">workflow&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">add_edge&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;improve_joke&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">END&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Compile&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">chain&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">workflow&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">compile&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic"># Invoke&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000">state&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000">chain&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">invoke&lt;/span>&lt;span style="color:#000;font-weight:bold">({&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;topic&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;cats&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™æ˜¯ä¸€ä¸ªæˆ‘ç®€åŒ–åçš„å®˜æ–¹æ–‡æ¡£ä¸­çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŸºäºGraphAPIçš„LangGraphé€šè¿‡è°ƒç”¨workflow.add_edgeæŒ‡å®šWorkflowçš„ä¾èµ–å…³ç³»ï¼Œå°†Workflowå’ŒTaskè§£è€¦ã€‚åŒæ—¶æ”¯æŒå…¨å±€Stateä½œä¸ºWorkflowçš„çŠ¶æ€è¿›è¡ŒTaskä¹‹é—´çš„æ•°æ®å…±äº«ã€‚æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„è¯´æ³•ï¼ŒLangGraphæ˜¯æ”¯æŒTaskè‡ªåŠ¨å¹¶è¡Œæ‰§è¡Œçš„ã€‚æˆ‘ä»¬æ€»ç®—æ˜¯æ‰¾åˆ°äº†ç¬¦åˆæ‰€æœ‰è¦æ±‚çš„Workflowç¼–æ’æ¡†æ¶äº†ï¼&lt;/p>
&lt;h3 id="æ€»ç»“">æ€»ç»“&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>å¹¶è¡Œæ€§&lt;/th>
&lt;th>ä½è€¦åˆ&lt;/th>
&lt;th>æ•°æ®å…±äº«&lt;/th>
&lt;th>Python Interface&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>LlamaIndex&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;td>ä¸æ”¯æŒ&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Agno&lt;/td>
&lt;td>æ”¯æŒä½†ä¸ç¬¦åˆè¦æ±‚&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;td>æ”¯æŒä½†ä¸ç¬¦åˆè¦æ±‚&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Pydantic-Ai&lt;/td>
&lt;td>ä¸æ”¯æŒ&lt;/td>
&lt;td>ä¸æ”¯æŒ&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>LangGraph&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;td>æ”¯æŒ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="cgraph--graph-with-python-interaface-implement-in-c">CGraph â€”â€” Graph with Python Interaface Implement in C++&lt;/h2>
&lt;p>æ­£å½“æˆ‘ä»¬å°†ç›®å…‰èšç„¦äº LangGraph æ—¶ï¼Œå›¢é˜Ÿä¼™ä¼´æåˆ°äº†ä¸€ä¸ªæ–°çš„æ–¹æ¡ˆâ€”â€”CGraphï¼Œè¿™æ˜¯ç”±å¼€æºåˆ›ä½œè€…Chunelä½¿ç”¨C++å¼€å‘çš„å›¾è°ƒåº¦æ¡†æ¶ï¼Œå¯¹æ ‡SOTAä»»åŠ¡è°ƒåº¦æ¡†æ¶â€”â€”taskflowã€‚CGraphï¼Œå­¦åColor Graphï¼Œè™½ç„¶æ˜¯C++é¡¹ç›®ï¼Œä½†æ˜¯å®ƒå¾ˆè´´å¿ƒåœ°æä¾›äº†Pythonæ¥å£ã€‚æ·±å…¥äº†è§£åï¼Œæˆ‘ä»¬å‘ç° CGraph çš„è®¾è®¡ç†å¿µä¸æˆ‘ä»¬ä¸è°‹è€Œåˆï¼šå’ŒLangGraphä¸€æ ·ï¼ŒCGraphåŸºäºå›¾çš„å£°æ˜å¼ APIï¼Œå®Œç¾æ”¯æŒæˆ‘ä»¬æ‰€éœ€çš„å¹¶è¡ŒåŒ–ã€ä½è€¦åˆå’Œæ•°æ®å…±äº«éœ€æ±‚ã€‚&lt;/p>
&lt;p>å¦‚æœè¯´â€œC++ ç«™åœ¨ç¼–ç¨‹è¯­è¨€é„™è§†é“¾é¡¶ç«¯â€æ˜¯ä¸ªæœ‰è¶£çš„ç©ç¬‘ï¼Œé‚£å®ƒèƒŒååæ˜ çš„å…¶å®æ˜¯ç¨‹åºå‘˜å¯¹åº•å±‚æ€§èƒ½çš„æè‡´è¿½æ±‚ã€‚é™¤å»è¿™ä¸ªâ€œå…ˆå¤©â€ä¼˜åŠ¿ï¼Œ CGraph ç›¸æ¯” LangGraph æœ€å¤§çš„ä¸åŒï¼Œåœ¨äºå®ƒçš„&lt;strong>çº¯ç²¹&lt;/strong>â€”â€”å®ƒä¸æ„å»ºåºå¤§çš„ç”Ÿæ€ï¼Œåªä¸“æ³¨äºå°†â€œä»»åŠ¡è°ƒåº¦â€è¿™ä¸€ä»¶äº‹åšåˆ°æè‡´ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼ŒçœŸæ­£è®©æˆ‘ä»¬ä¸‹å®šå†³å¿ƒçš„ï¼Œæ˜¯è¿™ä¸ªé¡¹ç›®çš„â€œå¿ƒè·³â€ã€‚æˆ‘ä»¬è”ç³»ä¸Šäº†ä½œè€… Chunelï¼Œæ„Ÿå—åˆ°äº† CGraph ä½œä¸ºä¸€ä¸ªé¡¹ç›®æ—ºç››çš„ç”Ÿå‘½åŠ›ã€‚åœ¨å¼€æºä¸–ç•Œé‡Œï¼Œ&lt;strong>æ´»åŠ›å³æœªæ¥&lt;/strong>ã€‚ä¸€ä¸ªæŒç»­è¿›åŒ–ã€ç§¯æå“åº”çš„ç¤¾åŒºï¼Œè¿œæ¯”ä¸€ä¸ªåŠŸèƒ½å†»ç»“çš„åºç„¶å¤§ç‰©æ›´å€¼å¾—ä¿¡èµ–ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ç›¸ä¿¡ï¼Œä¼˜ç§€çš„æŠ€æœ¯é€‰å‹ï¼Œä¸ä»…æ˜¯åŠŸèƒ½çš„åŒ¹é…ï¼Œæ›´æ˜¯å¯¹é¡¹ç›®æœªæ¥æ½œåŠ›çš„è®¤åŒã€‚ï¼ˆæ¬¢è¿ä¸€åŒè§è¯å®ƒçš„æˆé•¿ï¼šhttps://github.com/ChunelFeng/CGraphï¼‰&lt;/p>
&lt;div style="text-align: center;">
&lt;img src="/blog/images/images-server/agentic-frame.png" alt="image" width="800">
&lt;/div>
&lt;h2 id="æ¶æ„è®¾è®¡">æ¶æ„è®¾è®¡&lt;/h2>
&lt;p>èµ·åˆï¼Œæˆ‘ä»¬çš„ç›®æ ‡å¾ˆçº¯ç²¹ï¼šåŸºäºCGraphï¼Œæ‰“é€ ä¸€ä¸ªå±äºæˆ‘ä»¬è‡ªå·±çš„è°ƒåº¦å™¨ã€‚ç„¶è€Œæ·±å…¥æ€è€ƒä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼šä¸€ä¸ªå¥½çš„è°ƒåº¦å™¨ï¼Œ&lt;strong>æºäºå¯¹è°ƒåº¦å¯¹è±¡çš„æ·±åˆ»ç†è§£&lt;/strong>ï¼ˆæ˜¯æ—¶å€™æ‹·é—®è‡ªå·±äº†ğŸ¤£ï¼‰ã€‚å°±åƒCPUè°ƒåº¦å™¨å’ŒGPUè°ƒåº¦å™¨ç”±äºå…¶è°ƒåº¦å¯¹è±¡ä»¥åŠç”Ÿæ€å®šä½çš„ä¸åŒä¹Ÿä¼šé‡‡å–ä¸åŒè°ƒåº¦ç­–ç•¥ã€‚&lt;/p>
&lt;h3 id="æŠ½è±¡è®¾è®¡æ˜¯å¦åˆç†">æŠ½è±¡è®¾è®¡æ˜¯å¦åˆç†ï¼Ÿ&lt;/h3>
&lt;p>æ‰€ä»¥æˆ‘ä»¬å¼€å§‹è€ƒå¯Ÿé‚£ä¸ªè¢«æˆ‘ä»¬ç§°ä¹‹ä¸ºWorkflowçš„æŠ½è±¡ï¼Œåœ¨ä¸Šä¸€ä¸ªè®¾è®¡ä¸­ï¼Œå®ƒæ˜¯ç”±ä¸€ç³»åˆ—Operatorç»„æˆçš„é“¾è¡¨ã€‚è¿™æ ·çš„è®¾è®¡å¦å®šäº†å¹¶è¡Œçš„å¯èƒ½ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬è¯´Workflowæ˜¯ä¸€ç³»åˆ—Operatorç»„æˆçš„DAGå›¾æ˜¯å¦åˆç†å‘¢ï¼Ÿ&lt;/p>
&lt;p>ç›´è§‚æ¥è¯´è¿™æ ·çš„å®šä¹‰å¾ˆåˆç†ï¼Œä½†æ˜¯å®é™…å®è·µä¸‹æ¥ï¼Œæˆ‘ä»¬å‘ç°Workflowä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ˆåé¢æˆ‘ä»¬ç§°ä¹‹ä¸ºNodeï¼‰å’ŒOperatorä¸€ä¸€å¯¹åº”å´ä¸æ˜¯ä¸€ä¸ªå¥½çš„è®¾è®¡ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨ä¸åŒçš„è¯·æ±‚ä¹‹é—´å¤ç”¨Workflowï¼ˆè¿™æ ·å¯ä»¥èŠ‚çœWorkflowæ„é€ è¿‡ç¨‹ä¸­ä¸å¯é¿å…çš„èµ„æºåˆ›å»ºä»¥åŠä¸€äº›DAGå›¾æ ¡éªŒå¸¦æ¥çš„æ€§èƒ½å¼€é”€ï¼‰ã€‚&lt;/p>
&lt;p>ä¸¾ä¸ªä¾‹å­ï¼Œå‘é‡ç›¸ä¼¼åº¦æŸ¥è¯¢æ˜¯ä¸€ä¸ªå¾ˆå¸¸è§çš„RAGæµç¨‹ï¼Œä½†æ˜¯æ ¹æ®ä¸åŒåº•å±‚å‘é‡æ•°æ®åº“æš´éœ²çš„æ¥å£ä¸åŒï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æä¾›FaissVectorSearchã€VectraVectorSearchç­‰å¤šç§ç›®çš„ç›¸åŒä½†æ˜¯å…·ä½“å®ç°ä¸åŒçš„Operatorã€‚å¦‚æœæˆ‘ä»¬å°†Operatorå’ŒWorkflowä¸­çš„Nodeç­‰åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯¹äºWorkflowçš„å¤ç”¨æœºä¼šå°†å¤§å¤§å‡å°‘ï¼Œå› ä¸ºä½¿ç”¨Faissè¿›è¡Œæœç´¢å’Œä½¿ç”¨Vectraè¿›è¡Œæœç´¢çš„Workflowå°†ä¼šæ˜¯ä¸åŒçš„Workflowï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å°†åŠŸèƒ½ç±»ä¼¼çš„å‘é‡ç´¢å¼•Operatoréƒ½å°è£…åˆ°VectorSearchNodeä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯ä¸æ˜¯èƒ½å¤Ÿæœ‰æ›´å¤šçš„Workflowå¤ç”¨æœºä¼šå‘¢ï¼Ÿåœ¨VectorSearchNodeçš„å…·ä½“å®ç°ä¸­æˆ‘ä»¬åªéœ€è¦æ ¹æ®éœ€è¦è°ƒç”¨å¯¹åº”çš„Operatorå³å¯ã€‚é€šè¿‡åœ¨Workflowå’ŒOperatorä¸­é—´åŠ ä¸€å±‚çš„æ–¹å¼ï¼Œæœ‰ä¸‹é¢ä¸‰ä¸ªå¥½å¤„ï¼š&lt;/p>
&lt;ol>
&lt;li>æ–°å¢æ–°çš„Operatorï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹å¯¹åº”Nodeçš„å…·ä½“å®ç°å³å¯ï¼Œä¸éœ€è¦ä¿®æ”¹ä¸Šå±‚Workflowçš„é€»è¾‘ã€‚Operatorå¯¹Nodeè´Ÿè´£ï¼ŒNodeå¯¹Workflowè´Ÿè´£ï¼Œå¾ˆå¥½åœ°å®ç°äº†èŒèƒ½åˆ†ç¦»ã€‚&lt;/li>
&lt;li>æ‹¥æœ‰æ›´å¤šçš„Workflowå¤ç”¨çš„æœºä¼šã€‚&lt;/li>
&lt;li>é€šè¿‡å¼•å…¥æ–°çš„NodeæŠ½è±¡ï¼Œæˆ‘ä»¬åœ¨é‡æ„çš„è¿‡ç¨‹ä¸­ä¸éœ€è¦ä¿®æ”¹åº•å±‚Operatorçš„å®ç°ï¼Œå‡è½»äº†é‡æ„è¿‡ç¨‹ä¸­çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚&lt;/li>
&lt;/ol>
&lt;div style="text-align: center;">
&lt;img src="/blog/images/images-server/agentic-abstract.png" alt="image" width="800">
&lt;/div>
&lt;p>æ—¢ç„¶æˆ‘ä»¬å¸Œæœ›è·¨è¯·æ±‚å¤ç”¨åŒç±»Workflowï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ä¿è¯Workflowæœ¬èº«æ˜¯æ— çŠ¶æ€çš„ï¼Œå› ä¸ºå¦‚æœå¤ç”¨çš„Workflowè¿˜å¸¦ç€ä¸Šä¸€ä¸ªè¯·æ±‚çš„çŠ¶æ€ï¼Œç”¨æˆ·å°±å¯èƒ½å¾—åˆ°å‘ç”Ÿæ„æ–™ä¹‹å¤–çš„ç»“æœã€‚è€ŒWorkflowçš„çŠ¶æ€å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š&lt;/p>
&lt;ol>
&lt;li>ç”¨æˆ·è¾“å…¥çš„çŠ¶æ€ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºWorkflowInputï¼‰ï¼šè¿™éƒ¨åˆ†ç”±ç”¨æˆ·çš„è¯·æ±‚æ„æˆ&lt;/li>
&lt;li>Workflowçš„ä¸­é—´çŠ¶æ€ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºWorkflowStateï¼‰ï¼šç”±Workflowä¸­å„èŠ‚ç‚¹ï¼ˆNodeï¼‰åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶æ•°æ®ã€è®¡ç®—ç»“æœç­‰ã€‚&lt;/li>
&lt;/ol>
&lt;p>æˆ‘ä»¬éœ€è¦ä¿è¯Workflowæ‰§è¡Œçš„è¿‡ç¨‹ä¸­è¿™ä¸¤éƒ¨åˆ†çŠ¶æ€æ˜¯å¹²å‡€çš„ã€‚ä½†æ˜¯è¿™ä¸¤ç§ä¸åŒçš„çŠ¶æ€ä½¿ç”¨æ—¶æœºåˆä¸åŒï¼Œè¿™ä¹Ÿå°±å†³å®šäº†ä»–ä»¬æˆªç„¶ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸï¼š&lt;/p>
&lt;ul>
&lt;li>WorkflowInputåœ¨Workflowæ‰§è¡Œ&lt;strong>å‰&lt;/strong>è¢«æ„å»ºå’Œæ³¨å…¥ï¼Œåœ¨Workflowæ‰§è¡Œ&lt;strong>ç»“æŸå&lt;/strong>å…¶ä½¿å‘½ä¾¿å·²å®Œæˆï¼Œåº”è¢«é”€æ¯ã€‚&lt;/li>
&lt;li>WorkflowStateåœ¨Workflowæ‰§è¡Œ&lt;strong>å‰&lt;/strong>å¿…é¡»ä¸ºç©ºæˆ–å¤„äºåˆå§‹çŠ¶æ€ï¼ˆpristineï¼‰ï¼Œåœ¨æ‰§è¡Œ&lt;strong>è¿‡ç¨‹&lt;/strong>ä¸­è¢«åŠ¨æ€è¯»å†™ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬åˆ©ç”¨ CGraph æ¡†æ¶æä¾›çš„ &lt;code>GParam&lt;/code>ï¼ˆå…¨å±€å‚æ•°ï¼‰æŠ½è±¡æ¥å®ç°ç²¾ç»†åŒ–çš„çŠ¶æ€éš”ç¦»ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>åˆ†ç¦»ä¸Šä¸‹æ–‡&lt;/strong>: æˆ‘ä»¬ä¸ºWorkflowInputå’ŒWorkflowStateå®šä¹‰ä¸¤ä¸ªç‹¬ç«‹çš„Â &lt;code>GParam&lt;/code>Â ä¸Šä¸‹æ–‡ã€‚&lt;/li>
&lt;li>&lt;strong>æ³¨å…¥ç”Ÿå‘½å‘¨æœŸé’©å­&lt;/strong>: æˆ‘ä»¬åœ¨å·¥ä½œæµçš„æ‰§è¡Œé€»è¾‘å¤–å±‚è¿›è¡Œå°è£…ï¼Œå®ç°ä»¥ä¸‹è‡ªåŠ¨åŒ–æ¸…ç†æœºåˆ¶ï¼š
&lt;ul>
&lt;li>&lt;strong>æ‰§è¡Œå‰ (Pre-execution Hook)&lt;/strong>: è‡ªåŠ¨é‡ç½®ï¼ˆresetï¼‰WorkflowStateä¸Šä¸‹æ–‡ï¼Œç¡®ä¿æ¯æ¬¡æ‰§è¡Œéƒ½åœ¨ä¸€ä¸ªâ€œå¹²å‡€çš„ç”»å¸ƒâ€ä¸Šå¼€å§‹ã€‚&lt;/li>
&lt;li>&lt;strong>æ‰§è¡Œå (Post-execution Hook)&lt;/strong>: è‡ªåŠ¨æ¸…ç†ï¼ˆclearï¼‰WorkflowInputä¸Šä¸‹æ–‡ï¼Œé˜²æ­¢å…¶æ•°æ®æ³„éœ²åˆ°ä¸‹ä¸€æ¬¡è°ƒç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>è¿™æ ·æˆ‘ä»¬å¯ä»¥ä¿è¯æ¯æ¬¡Workflowæ‰§è¡Œæ—¶è¿™ä¸¤ç§çŠ¶æ€ä¸­éƒ½åªåŒ…å«æœ¬æ¬¡è¯·æ±‚çš„çŠ¶æ€ã€‚ç”±äºWorkflowInputçŠ¶æ€åœ¨Workflowæ‰§è¡Œç»“æŸå°±è¢«é‡ç½®äº†ï¼Œæˆ‘ä»¬åªèƒ½ä»WorkflowStateä¸­æœ‰é€‰æ‹©æ€§åœ°é€‰æ‹©éƒ¨åˆ†æ•°æ®è¿”å›ç»™ç”¨æˆ·ã€‚å› æ­¤æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªFlowæŠ½è±¡åº”è¯¥å®ç°çš„æ¥å£ã€‚&lt;/p>
&lt;div style="text-align: center;">
&lt;img src="/blog/images/images-server/agentic-lifeline.svg" alt="image" width="1000">
&lt;/div>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">class&lt;/span> &lt;span style="color:#000">BaseFlow&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">ABC&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> Base class for flows, defines three interface methods: prepare, build_flow, and post_deal.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#5c35cc;font-weight:bold">@abstractmethod&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">prepare&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">prepared_input&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">WkFlowInput&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">**&lt;/span>&lt;span style="color:#000">kwargs&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> æ ¹æ®ç”¨æˆ·è¯·æ±‚åˆå§‹åŒ–Workflowè¾“å…¥çŠ¶æ€ï¼ˆWkFlowInputï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#5c35cc;font-weight:bold">@abstractmethod&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">build_flow&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">**&lt;/span>&lt;span style="color:#000">kwargs&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span> &lt;span style="color:#000">GPipeline&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> ç”¨æ¥æ„å»ºå¯ä»¥è¿è¡Œåœ¨CGraphä¹‹ä¸Šçš„Workflowå¯¹è±¡
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#5c35cc;font-weight:bold">@abstractmethod&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">post_deal&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">**&lt;/span>&lt;span style="color:#000">kwargs&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> ä»ä¸­é—´çŠ¶æ€ï¼ˆWkFlowStateï¼‰ä¸­ç»„è£…è¿”å›ç»™ç”¨æˆ·çš„Response
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é‚£ä¹ˆå›åˆ°NodeæŠ½è±¡æœ¬èº«ï¼ŒNodeæœ¬èº«æ˜¯å¯¹æŸä¸ªåŠŸèƒ½çš„æŠ½è±¡ï¼Œå…¶åº•å±‚å¯èƒ½å¯¹åº”ç€å¤šç§ä¸åŒçš„æŠ½è±¡ã€‚æˆ‘ä»¬å¤§è‡´éœ€è¦è€ƒè™‘ä¸‹é¢å‡ ä¸ªé—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>å¦‚ä½•å°†Nodeå±‚å’ŒOperatorå±‚å°½å¯èƒ½è§£è€¦&lt;/li>
&lt;li>Nodeæœ¬èº«æ˜¯å¯ä»¥å¹¶è¡Œçš„ï¼Œè€ŒWorkflowå†…éƒ¨å­˜åœ¨å…±äº«æ•°æ®ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³å¯èƒ½å­˜åœ¨çš„å¹¶å‘é—®é¢˜&lt;/li>
&lt;/ol>
&lt;p>æˆ‘ä»¬çŸ¥é“Operatorçš„runæ–¹æ³•è¾“å…¥è¾“å‡ºéƒ½æ˜¯å­—å…¸ï¼ˆè§ä¸Šé¢ç°æœ‰Workflowæ¶æ„çš„ä»‹ç»ï¼‰ï¼Œä¸ºäº†ä½¿å¾—Nodeå±‚å’ŒOperatorå±‚å°½å¯èƒ½åœ°è§£è€¦ï¼Œæˆ‘ä»¬å¸Œæœ›Nodeå±‚ä¹ŸæŒ‰ç…§ç›¸åŒçš„æ–¹å¼è°ƒç”¨Operatorï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸ºWorkflowStateå®ç°ä¸€ä¸ªjsonåºåˆ—åŒ–æ–¹æ³•ï¼Œåœ¨è°ƒç”¨Operatorå‰å°†å½“å‰Workflowä¸­é—´çŠ¶æ€è½¬åŒ–ä¸ºå­—å…¸æ ¼å¼ç„¶åäº¤ç»™Operatorï¼Œç„¶åå°†Operatoræ‰§è¡Œç»“æœé‡æ–°ååºåˆ—åŒ–ä¸ºWorkflowStateã€‚ä¸ºäº†è§£å†³å¹¶å‘è®¿é—®å¸¦æ¥çš„æ•°æ®ç«äº‰é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨MVCCçš„å¹¶å‘æ§åˆ¶æ–¹æ³•ï¼Œä¿è¯Operatoræ“ä½œçš„æ˜¯å¤šä¸ªä¸åŒçš„å‰¯æœ¬ï¼Œå¾—åˆ°Operatorçš„è¿”å›ç»“æœä¹‹åï¼Œåœ¨æœ‰å¹¶å‘å®‰å…¨çš„é”ä¿æŠ¤çš„æƒ…å†µä¸‹å°†è¿”å›çš„ç»“æœåŒæ­¥åˆ°WorkflowStateä¸­ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°Nodeçš„æŠ½è±¡å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">class&lt;/span> &lt;span style="color:#000">BaseNode&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">GNode&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ce5c00;font-weight:bold">//&lt;/span> &lt;span style="color:#000">Workflowä¸­é—´çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">Optional&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">WkFlowState&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">None&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ce5c00;font-weight:bold">//&lt;/span> &lt;span style="color:#000">Workflowè¾“å…¥çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">wk_input&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">Optional&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">WkFlowInput&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#204a87;font-weight:bold">None&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">init&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ce5c00;font-weight:bold">//&lt;/span> &lt;span style="color:#000">ä»Pipelineä¸­è·å–å¯¹åº”çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">init_context&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">node_init&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> é‡å†™è¿™ä¸ªæ–¹æ³•å®šåˆ¶åŒ–Nodeåˆå§‹åŒ–é€»è¾‘
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">CStatus&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">run&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> Main logic for node execution, can be overridden by subclasses.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> Returns a CStatus object indicating whether execution succeeded.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">sts&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">node_init&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">sts&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">isErr&lt;/span>&lt;span style="color:#000;font-weight:bold">():&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">sts&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">context&lt;/span> &lt;span style="color:#204a87;font-weight:bold">is&lt;/span> &lt;span style="color:#204a87;font-weight:bold">None&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">CStatus&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">-&lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Context not initialized&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">lock&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">try&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">data_json&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">to_json&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">finally&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">unlock&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">res&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">operator_schedule&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">data_json&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">lock&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">try&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">if&lt;/span> &lt;span style="color:#000">res&lt;/span> &lt;span style="color:#204a87;font-weight:bold">is&lt;/span> &lt;span style="color:#204a87;font-weight:bold">not&lt;/span> &lt;span style="color:#204a87;font-weight:bold">None&lt;/span> &lt;span style="color:#204a87;font-weight:bold">and&lt;/span> &lt;span style="color:#204a87">isinstance&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">res&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87">dict&lt;/span>&lt;span style="color:#000;font-weight:bold">):&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">assign_from_json&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">res&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">elif&lt;/span> &lt;span style="color:#000">res&lt;/span> &lt;span style="color:#204a87;font-weight:bold">is&lt;/span> &lt;span style="color:#204a87;font-weight:bold">not&lt;/span> &lt;span style="color:#204a87;font-weight:bold">None&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">log&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">warning&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;operator_schedule returned non-dict type: &lt;/span>&lt;span style="color:#4e9a06">%s&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#204a87">type&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">res&lt;/span>&lt;span style="color:#000;font-weight:bold">))&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">finally&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">context&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">.&lt;/span>&lt;span style="color:#000">unlock&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">return&lt;/span> &lt;span style="color:#000">CStatus&lt;/span>&lt;span style="color:#000;font-weight:bold">()&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">def&lt;/span> &lt;span style="color:#000">operator_schedule&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#000">data_json&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">-&amp;gt;&lt;/span> &lt;span style="color:#000">Optional&lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">Dict&lt;/span>&lt;span style="color:#000;font-weight:bold">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> æ ¹æ®ç”¨æˆ·è¯·æ±‚æˆ–è€…WorkflowçŠ¶æ€å†³å®šè°ƒç”¨å“ªäº›Operator
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">raise&lt;/span> &lt;span style="color:#c00;font-weight:bold">NotImplementedError&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Subclasses must implement operator_schedule&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†è°ƒåº¦å¯¹è±¡Workflowçš„æŠ½è±¡è®¾è®¡ã€‚&lt;/p>
&lt;h3 id="è°ƒåº¦å™¨è®¾è®¡">è°ƒåº¦å™¨è®¾è®¡&lt;/h3>
&lt;p>åœ¨æ–°çš„è°ƒåº¦å™¨ä½“ç³»ä¸­ï¼ŒWorkflow å¯¹è±¡çš„å®ä¾‹åŒ–ä¸é”€æ¯æ˜¯ä¸€é¡¹ä¸å¯å¿½è§†çš„èµ„æºå¼€é”€ã€‚ä¸ºäº†æœ€å¤§é™åº¦åœ°é™ä½å»¶è¿Ÿã€å‡å°‘å†…å­˜æŠ–åŠ¨ï¼Œæˆ‘ä»¬å¼•å…¥äº† Workflow Pool æœºåˆ¶ï¼Œæ—¨åœ¨å®ç° Workflow å®ä¾‹çš„é«˜æ•ˆå¤ç”¨ã€‚
æˆ‘ä»¬å……åˆ†åˆ©ç”¨äº† CGraph æ¡†æ¶åº•å±‚æä¾›çš„ Pool æŠ½è±¡ï¼Œå¹¶å°†å…¶åº”ç”¨äº Workflow çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚å…¶æ ¸å¿ƒæœºåˆ¶å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>åˆ†ç±»æ± åŒ–&lt;/strong>: ç³»ç»Ÿä¸º&lt;strong>æ¯ç§ç±»å‹&lt;/strong>çš„ Workflow ç»´æŠ¤ä¸€ä¸ªä¸“å±çš„ã€ç‹¬ç«‹çš„ Workflow Poolã€‚è¿™ç¡®ä¿äº†è¯·æ±‚åªä¼šè¢«åˆ†å‘ç»™ç»“æ„å®Œå…¨ç›¸åŒçš„ Workflow å®ä¾‹ã€‚&lt;/li>
&lt;li>&lt;strong>æŒ‰éœ€è·å–ä¸åŠ¨æ€æ‰©å®¹&lt;/strong>: å½“ä¸€ä¸ªæ–°è¯·æ±‚åˆ°è¾¾æ—¶ï¼Œè°ƒåº¦å™¨çš„æ‰§è¡Œé€»è¾‘éµå¾ªä»¥ä¸‹ç­–ç•¥ï¼š
&lt;ol>
&lt;li>&lt;strong>æŸ¥è¯¢ï¼ˆPool Hitï¼‰&lt;/strong>: é¦–å…ˆï¼Œè°ƒåº¦å™¨ä¼šå°è¯•ä»å¯¹åº”ç±»å‹çš„Â Workflow PoolÂ ä¸­è·å–ä¸€ä¸ªç©ºé—²çš„Â WorkflowÂ å®ä¾‹ã€‚å¦‚æœæˆåŠŸï¼Œåˆ™ç«‹å³ä½¿ç”¨è¯¥å®ä¾‹å¤„ç†è¯·æ±‚ï¼Œå®ç°äº†é›¶å¼€é”€å¤ç”¨ã€‚&lt;/li>
&lt;li>&lt;strong>åˆ›å»ºï¼ˆPool Missï¼‰&lt;/strong>: å¦‚æœæ± ä¸­æ— å¯ç”¨å®ä¾‹ï¼Œè°ƒåº¦å™¨å°†åŠ¨æ€åˆ›å»ºä¸€ä¸ªæ–°çš„Â Workflowã€‚è¿™ä¸ªæ–°å®ä¾‹ä¼šç«‹å³ç”¨äºæœåŠ¡å½“å‰è¯·æ±‚ã€‚è¿™ç§ç­–ç•¥ä¿è¯äº†ç³»ç»Ÿåœ¨é«˜è´Ÿè½½ä¸‹ä¾ç„¶å…·å¤‡è‰¯å¥½çš„å¼¹æ€§ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>&lt;strong>è‡ªåŠ¨å½’è¿˜&lt;/strong>: æ— è®ºæ˜¯ä»æ± ä¸­è·å–çš„å®ä¾‹è¿˜æ˜¯æ–°åˆ›å»ºçš„å®ä¾‹ï¼Œåœ¨å®Œæˆè¯·æ±‚å¤„ç†åï¼Œéƒ½å°†è¢«&lt;strong>è‡ªåŠ¨å½’è¿˜&lt;/strong>åˆ°å…¶æ‰€å±çš„ Workflow Pool ä¸­ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è°ƒåº¦ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>ğŸ¤” å½“å‰ç‰ˆæœ¬çš„ Scheduler å®ç°äº†å…¶æœ€æ ¸å¿ƒçš„èŒè´£ï¼Œä¸ºæ•´ä¸ªç³»ç»Ÿæä¾›äº†ä¸€ä¸ªç¨³å®šä¸”é«˜æ•ˆçš„è°ƒåº¦åŸºåº§ã€‚å…¶ä¸»è¦ç‰¹æ€§åŒ…æ‹¬ï¼š
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 1. èƒ½å¤Ÿæ ¹æ®è¯·æ±‚ç±»å‹ï¼Œå‡†ç¡®åœ°è°ƒåº¦å¯¹åº”çš„Â WorkflowÂ å®ä¾‹è¿›è¡Œå¤„ç†ã€‚
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 2. å†…ç½®äº†åŸºäºÂ WorkflowÂ ç±»å‹çš„æ± åŒ–ï¼ˆPoolingï¼‰æœºåˆ¶ï¼Œé€šè¿‡å¤ç”¨å·²æœ‰å®ä¾‹ï¼Œæ˜¾è‘—é™ä½äº†é«˜å¹¶å‘åœºæ™¯ä¸‹çš„å¯¹è±¡åˆ›å»ºä¸é”€æ¯å¼€é”€ã€‚
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ä½†æ˜¯åœ¨æœªæ¥ï¼ŒSchedulerå€¼å¾—ä¼˜åŒ–çš„åœ°æ–¹è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ï¼š
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 1. å·¥ä½œè´Ÿè½½æ„ŸçŸ¥çš„èµ„æºéš”ç¦»ï¼šå¹¶éæ‰€æœ‰Â WorkflowÂ çš„èµ„æºæ¶ˆè€—éƒ½æ˜¯å‡ç­‰çš„ã€‚æˆ‘ä»¬å°†åˆ©ç”¨ CGraph æä¾›çš„çº¿ç¨‹æ± ç»‘å®šåŠŸèƒ½ï¼Œä¸ºä¸åŒç±»å‹çš„Â Workflow PoolÂ åˆ†é…ä¸“å±çš„è®¡ç®—èµ„æºã€‚
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> 2. ç”Ÿäº§çº§å®¹é‡ç®¡ç†ä¸ç¨³å®šæ€§ï¼šä¸ºæ¯ä¸ªÂ Workflow PoolÂ å¼•å…¥å¯é…ç½®çš„å®¹é‡ä¸Šé™ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ— é™åˆ¶çš„èµ„æºæ± æ˜¯æ½œåœ¨çš„é£é™©ç‚¹ã€‚é€šè¿‡è®¾ç½®æ± å¤§å°çš„ä¸Šé™ï¼Œæˆ‘ä»¬å¯ä»¥é˜²æ­¢ç³»ç»Ÿåœ¨æç«¯è´Ÿè½½ä¸‹è€—å°½å†…å­˜ï¼Œç¡®ä¿æœåŠ¡çš„ç¨³å®šæ€§ã€‚
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å¾—åˆ°æ•´ä¸ªé¡¹ç›®çš„æ•´ä½“æ¶æ„å›¾&lt;/p>
&lt;div style="text-align: center;">
&lt;img src="/blog/images/images-server/agentic-scheduler.png" alt="image" width="600">
&lt;/div>
&lt;ol>
&lt;li>Scheduleræ”¶åˆ°è¯·æ±‚åï¼Œé¦–å…ˆå‘PipelinePoolæŸ¥è¯¢æ˜¯å¦å­˜åœ¨å¯¹åº”ç±»å‹çš„ç©ºé—²Pipeline
&lt;ol>
&lt;li>å½“ç”¨æˆ·è¯·æ±‚åˆ°æ¥æ—¶ï¼ŒHttp Routeræ ¹æ®è¯·æ±‚çš„ç±»å‹å°†ä»»åŠ¡å§”æ‰˜ç»™æ ¸å¿ƒçš„Schedulerï¼Œè¯·æ±‚ä¸€ä¸ªèƒ½å¤Ÿå¤„ç†è¯¥ç±»å‹ä»»åŠ¡çš„Pipelineå®ä¾‹ã€‚&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>è‹¥PipelinePoolä¸­å­˜åœ¨ç©ºé—²Pipelineï¼Œåˆ™Schedulerç›´æ¥è¿”å›è¯¥Pipeline&lt;/li>
&lt;li>è‹¥PipelinePoolä¸­ä¸å­˜åœ¨ç©ºé—²Pipelineï¼Œåˆ™è°ƒç”¨å¯¹åº”ç±»å‹çš„WorkflowBuilderæ„å»ºè¯¥ç±»å‹çš„Pipelineå¹¶è¿”å›&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>æ— è®ºPipelineæ˜¯ä»æ± ä¸­è·å–çš„è¿˜æ˜¯æ–°åˆ›å»ºçš„ï¼Œå®ƒéƒ½ä¼šç«‹å³æ‰§è¡Œè¯·æ±‚å¤„ç†ï¼Œå¹¶å°†Responseè¿”å›ç»™ç”¨æˆ·ã€‚å¤„ç†å®Œæˆåï¼Œè¯¥Pipelineå®ä¾‹å¹¶&lt;strong>ä¸ä¼šè¢«é”€æ¯&lt;/strong>ã€‚ç›¸åï¼Œå®ƒä¼šè¢«&lt;strong>è‡ªåŠ¨é‡Šæ”¾&lt;/strong>å¹¶å½’è¿˜åˆ°PipelinePoolä¸­ï¼ŒçŠ¶æ€é‡ç½®åç­‰å¾…ä¸‹ä¸€æ¬¡è¢«è°ƒåº¦ã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="agentic-graphrag-ç†æƒ³ä¸ç°å®çš„ç¢°æ’">Agentic GraphRAG: ç†æƒ³ä¸ç°å®çš„ç¢°æ’&lt;/h3>
&lt;p>é¡¹ç›®ä¹‹åˆï¼Œæˆ‘ä»¬ç•…æƒ³ä¸€ä¸ªå®Œå…¨â€œAgenticâ€çš„ GraphRAGã€‚ä½ åªéœ€å‘Šè¯‰å®ƒä½ çš„é—®é¢˜ï¼Œä¸€ä¸ªå¼ºå¤§çš„ LLM å°±èƒ½åƒä¸€ä½èµ„æ·±æ¶æ„å¸ˆï¼Œä»ä¸€å †å·¥å…·ï¼ˆNodes/Operatorsï¼‰ä¸­ä¸ºä½ é‡èº«å®šåˆ¶ä¸€å¥—æœ€é«˜æ•ˆçš„æ‰§è¡Œæµç¨‹ï¼ˆWorkflowï¼‰ã€‚
ä½†ç†æƒ³ä¸ç°å®ä¹‹é—´æ€»æœ‰è·ç¦»ã€‚æˆ‘ä»¬æ·±å…¥è°ƒç ”äº† chat2graph ç­‰ç±»ä¼¼é¡¹ç›®ï¼Œå¹¶å®é™…åŠ¨æ‰‹æ£€éªŒæ•ˆæœã€‚ç»“æœå‘ç°ï¼Œè®© LLM å‡­ç©ºâ€œåˆ›é€ â€ä¸€ä¸ªå®Œç¾çš„ã€æ— æ‡ˆå¯å‡»çš„æ‰§è¡Œè®¡åˆ’ï¼Œæ¯”æˆ‘ä»¬æƒ³è±¡çš„è¦éš¾å¾—å¤šã€‚å³ä½¿æ˜¯ä½¿ç”¨ Gemini 2.5 Flash è¿™æ ·çš„æ¨¡å‹ï¼Œå®ƒåœ¨ç†è§£å¤æ‚æŒ‡ä»¤å¹¶å°†å…¶ç²¾ç¡®æ˜ å°„åˆ°ä¸€ç³»åˆ—æ“ä½œæ—¶ï¼Œä¹Ÿæ—¶å¸¸åŠ›ä¸ä»å¿ƒã€‚ä¸€æ–¹é¢ï¼Œå› ä¸ºchat2graphçš„è°ƒç”¨é“¾å¯èƒ½ä¼šå¾ˆé•¿ï¼Œå³ä¾¿å¤§æ¨¡å‹æ¨ç†å•æ­¥å‡†ç¡®ç‡é«˜è¾¾95%ï¼Œä½†éšç€è°ƒç”¨é“¾è·¯çš„å»¶é•¿ï¼Œè¯¯å·®ä¼šé€çº§ç´¯ç§¯ï¼Œå¯¼è‡´æ•´ä½“ä»»åŠ¡çš„æˆåŠŸç‡æ€¥å‰§ä¸‹é™ã€‚å¦ä¸€æ–¹é¢ï¼Œå³ä½¿è°ƒç”¨é“¾çš„é—®é¢˜ä¸å­˜åœ¨ï¼Œé€šè¿‡promptçš„æ–¹å¼è®©æ¨¡å‹è‡ªåŠ¨è§„åˆ’çš„å‡†ç¡®åº¦ç›®å‰ä»ç„¶ä¸èƒ½ä½¿äººæ»¡æ„ã€‚å®Œå…¨ä¾èµ–å¤§æ¨¡å‹è¿›è¡Œé›¶æ ·æœ¬å·¥ä½œæµè§„åˆ’çš„æ—¶ä»£ï¼Œæˆ–è®¸è¿˜æœªå®Œå…¨åˆ°æ¥ã€‚
â€œä¸€å£åƒä¸æˆèƒ–å­â€ï¼Œäºæ˜¯æˆ‘ä»¬åšå‡ºäº†ä¸€ä¸ªå…³é”®å†³ç­–ï¼šè®©å¤§æ¨¡å‹ä»é›¶å¼€å§‹æ„å»ºå·¥ä½œæµå­˜åœ¨é˜»ç¢ï¼Œä½†æ˜¯å¦‚æœè®©å¤§æ¨¡å‹åŸºäºWorkflowæ¨¡æ¿â€œå®ä¾‹åŒ–â€å…·ä½“çš„Workflowæˆ–è®¸æ˜¯ä¸€ç§å¯è¡Œçš„æ–¹æ¡ˆã€‚æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€é«˜åº¦æ¨¡å—åŒ–çš„ GraphRAG å·¥ä½œæµï¼Œè€Œ LLM çš„ä»»åŠ¡ï¼Œå°±æ˜¯æ ¹æ®è§‚ä¼—ç”¨æˆ·è¯·æ±‚çš„ç‰¹ç‚¹ï¼Œä¸ºWorkflowé€‰æ‹©æœ€ä¼˜é…ç½®ã€‚è¿™æ˜¯æˆ‘ä»¬åœ¨Agentic GraphRAGå’ŒGraphRAGä¹‹é—´æ‰¾åˆ°çš„ä¸€ä¸ªå¹³è¡¡ç‚¹ã€‚
è¿™è®©æˆ‘ä»¬çš„æ ¸å¿ƒé—®é¢˜å‘ç”Ÿäº†è½¬å˜ï¼Œä¸å†æ˜¯â€œå¦‚ä½•ä»é›¶æ„å»ºâ€ï¼Œè€Œæ˜¯ï¼š&lt;/p>
&lt;blockquote>
&lt;p>æˆ‘ä»¬å¦‚ä½•ä»ç”¨æˆ·çš„å¯¥å¯¥æ•°è¯­ä¸­ï¼Œè®©å¤§æ¨¡å‹çŸ¥é“ä»€ä¹ˆæ˜¯GraphRAGçš„æœ€ä¼˜é…ç½®ï¼Ÿ&lt;/p>
&lt;/blockquote>
&lt;p>ä¸¾ä¸ªå…·ä½“çš„ä¾‹å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>ğŸ‘‰ğŸ¼ ç»™å®šä¸€ä¸ªç”¨æˆ·è¯·æ±‚ï¼Œæˆ‘ä»¬æ€ä¹ˆé€šè¿‡ç”¨æˆ·çš„è¯·æ±‚æ¨æ–­å‡ºæœ€ä¼˜é…ç½®å‘¢ï¼Ÿ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> å…·ä½“ä¾‹å­ï¼šç”¨æˆ·çš„è¯·æ±‚æ˜¯ï¼šå‘Šè¯‰æˆ‘â€œæå‡ºæ°´æ˜¯ä¸‡ç‰©çš„æœ¬æºâ€çš„å“²å­¦å®¶çš„å¾’å¼Ÿæå‡ºçš„æœ¬ä½“è®ºè§‚ç‚¹ã€‚é‚£ä¹ˆé‡‡ç”¨ä»€ä¹ˆå›¾ç®—æ³•è¿›è¡ŒçŸ¥è¯†å›¾è°±æ£€ç´¢ä¼šä½¿å¾—ç»“æœæ›´ç²¾ç¡®å‘¢ï¼Ÿ
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç»¼ä¸Šæ‰€è¿°ï¼ŒLLMéœ€è¦ç«™åœ¨è‡ªç„¶è¯­è¨€å¤„ç†å’Œå›¾æ•°æ®åº“è¿™ä¸¤åº§å¤§å±±ä¸Šæ‰èƒ½çœŸæ­£çª¥è§é—®é¢˜å…¨è²Œï¼Œè€Œä»–ç°åœ¨è¿˜å¤„äºå±±è„šğŸ¤£ã€‚è€Œè¿™ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸‹ä¸€åº§äºŸå¾…ç¿»è¶Šçš„é«˜å±±ã€‚&lt;/p>
&lt;h2 id="åæ€">åæ€&lt;/h2>
&lt;p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº† CGraph ä½œä¸ºåº•å±‚çš„å›¾è°ƒåº¦æ¡†æ¶ã€‚å…¶åŸºäº Graph API çš„è®¾è®¡ï¼ŒæˆåŠŸåœ°å°† Workflow çš„å®šä¹‰ä¸å„ä¸ª Node çš„å…·ä½“å®ç°è§£è€¦ï¼Œèµ‹äºˆäº†ç³»ç»Ÿè‰¯å¥½çš„æ‰©å±•æ€§ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œæˆ‘ä»¬ä¹Ÿæ³¨æ„åˆ°ï¼Œè¿™ç§å£°æ˜å¼ API åœ¨å¸¦æ¥çµæ´»æ€§çš„åŒæ—¶ï¼Œä¹Ÿå¼•å…¥äº†æ–°çš„ç¼–ç¨‹å¤æ‚åº¦ã€‚éšç€æˆ‘ä»¬è¶Šæ¥è¶Šå¤šåœ°ä½¿ç”¨ Conditionã€Region ç­‰ CGraph çš„é«˜çº§ç‰¹æ€§ï¼Œç”¨äºæ„å»º Workflow çš„ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§å¼€å§‹é¢ä¸´æŒ‘æˆ˜ã€‚è¿™å¼•å‘äº†æˆ‘ä»¬çš„ä¸€ä¸ªæ ¸å¿ƒæ€è€ƒï¼š&lt;strong>æ˜¯å¦å­˜åœ¨ä¸€ç§æ›´ä¸ºç›´è§‚å’Œç”¨æˆ·å‹å¥½çš„æ¥å£ï¼Œæ—¢èƒ½ä¿æŒæ¡†æ¶çš„çµæ´»æ€§ï¼Œåˆèƒ½é™ä½å®šä¹‰å¤æ‚æµç¨‹æ—¶çš„è®¤çŸ¥è´Ÿæ‹…ï¼Ÿ&lt;/strong>&lt;/p>
&lt;p>ä¸¾ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼šå½“æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªä¸» Workflow å’Œä¸€ä¸ªä½œä¸ºå…¶å­é›†çš„å­ Workflow æ—¶ï¼Œç›®å‰çš„å®ç°æ–¹å¼å€¾å‘äºå°†å­ Workflow å°è£…ä¸º GRegionï¼Œå¹¶åˆ©ç”¨ Condition èŠ‚ç‚¹æ¥æ§åˆ¶å…¶æ‰§è¡Œã€‚è¿™ç§â€œåˆå¹¶â€å¼çš„å®šä¹‰æ–¹å¼è™½ç„¶åŠŸèƒ½ä¸Šå¯è¡Œï¼Œä½†æ— ç–‘å¢åŠ äº† Workflow çš„å†…åœ¨å¤æ‚åº¦å’Œç†è§£éš¾åº¦ã€‚æˆ‘ä»¬è®¾æƒ³ï¼Œå¦‚æœ CGraph æ¡†æ¶èƒ½åŸç”Ÿæä¾›&lt;strong>å­å›¾ç»„åˆ (Subgraph Composition)&lt;/strong> çš„èƒ½åŠ›ï¼Œå…è®¸å¼€å‘è€…å°†ä¸€ä¸ª Workflow æ˜¾å¼å£°æ˜ä¸ºå¦ä¸€ä¸ª Workflow çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è®¸èƒ½ä»æ ¹æœ¬ä¸Šç®€åŒ–è¿™ç±»åœºæ™¯çš„å®ç°ã€‚&lt;/p>
&lt;p>å°½ç®¡å­˜åœ¨ä¸Šè¿°æŒ‘æˆ˜ï¼ŒCGraph æ¡†æ¶åœ¨é¡¹ç›®ä¸­ä¾ç„¶å‘æŒ¥äº†é‡è¦ä½œç”¨ï¼Œæ˜¾è‘—æå‡äº†æˆ‘ä»¬çš„å·¥ç¨‹æ•ˆç‡ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>æ€§èƒ½è¯Šæ–­ç®€åŒ–&lt;/strong>ï¼šæ¡†æ¶è‡ªå¸¦çš„ Perf å·¥å…·ä½¿æ€§èƒ½ç“¶é¢ˆå®šä½æ›´ä¸ºä¾¿æ·ï¼Œå³ä½¿å¤§éƒ¨åˆ†è€—æ—¶æœ€ç»ˆé›†ä¸­åœ¨ LLM è°ƒç”¨ä¸Šï¼Œè¯¥å·¥å…·ä¾ç„¶ä¸ºæˆ‘ä»¬æä¾›äº†æ¸…æ™°çš„æ€§èƒ½è§†å›¾ã€‚&lt;/li>
&lt;li>&lt;strong>è°ƒåº¦é€»è¾‘ä¸‹æ²‰&lt;/strong>ï¼šåº•å±‚çš„ Pooling æŠ½è±¡æœºåˆ¶ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå°†éƒ¨åˆ†è°ƒåº¦é€»è¾‘æ— ç¼ä¸‹æ²‰è‡³ C++ ä¾§ï¼Œè€Œä¸Šå±‚ä¸šåŠ¡ä»£ç æ— éœ€å…³å¿ƒå…¶å…·ä½“å®ç°ã€‚&lt;/li>
&lt;/ol>
&lt;p>æœ€åï¼Œæˆ‘æƒ³è¯´ï¼ŒæŠ€æœ¯ä¸Šçš„æ¢ç´¢å›ºç„¶é‡è¦ï¼Œä½†è¿™æ®µæ—…ç¨‹ä¸­æœ€å®è´µçš„è´¢å¯Œï¼Œæ˜¯ä¸ä¼˜ç§€çš„åŒè¡Œè€…å…±äº‹çš„ç»å†ä»¥åŠä»ä¸­è·å¾—çš„æˆé•¿ä¸æ„Ÿæ‚Ÿã€‚è¿™æ‰æ˜¯æ¨åŠ¨æˆ‘ä»¬ä¸æ–­å‰è¡Œçš„çœŸæ­£åŠ¨åŠ›ã€‚&lt;/p>
&lt;h1 id="ç»“è¯­">ç»“è¯­&lt;/h1>
&lt;p>åœ¨ HugeGraph-AI çš„é‡æ„ä¸é©æ–°è¿‡ç¨‹ä¸­ï¼ŒAIå·¥å…·çš„å¼•å…¥å¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡ï¼Œä½†æœ€ç»ˆçš„å†³ç­–å’Œå–èˆï¼Œä»ç„¶éœ€è¦ä¸¥è°¨çš„æ€è€ƒï¼ŒTalk is not cheap, thinking is necessaryã€‚æ¯å½“é‡åˆ°æ–°çš„æŠ€æœ¯éš¾é¢˜ï¼Œæˆ‘ä»¬æ€»èƒ½æå‡ºå¤šç§è§£å†³æ–¹æ¡ˆï¼Œè€ŒçœŸæ­£çš„è€ƒéªŒåœ¨äºå¦‚ä½•åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œæƒè¡¡ (trade-off)ã€‚æŠ€æœ¯ä¸–ç•Œå¹¶ééé»‘å³ç™½ï¼Œä¸åŒçš„æ¶æ„é€‰æ‹©ã€æ–¹æ¡ˆå–èˆï¼Œå¾€å¾€å¯¹åº”ç€ä¸åŒçš„ç›®æ ‡ç”¨æˆ·ä¸åº”ç”¨åœºæ™¯ã€‚æˆ‘ä»¬å¯¹ CGraph çš„é€‰æ‹©ï¼Œæ­£æ˜¯è¿™ä¸€ç†å¿µçš„æœ€ä½³å®è·µã€‚å®ƒå¹¶éä¸šç•Œé¦–ä¸ªå›¾è°ƒåº¦æ¡†æ¶ï¼Œä½†åœ¨æ€§èƒ½ã€çµæ´»æ€§ä¸å¼€å‘æˆæœ¬ç­‰è¯¸å¤šç»´åº¦çš„è€ƒé‡ä¸­ï¼Œå®ƒä¸ºæˆ‘ä»¬æä¾›äº†æœ€å¥‘åˆå½“å‰éœ€æ±‚çš„å¹³è¡¡ç‚¹â€”â€”åœ¨è¿™æ¡å……æ»¡æƒè¡¡çš„é“è·¯ä¸Šï¼Œå®ƒç¦»æˆ‘ä»¬æœ€è¿‘ã€‚&lt;/p>
&lt;p>è¿™ä¹Ÿè®©æˆ‘ä»¬æ›´åŠ åšä¿¡ï¼šä¸€ä¸ªäº§å“æˆ–æŠ€æœ¯æœ€ç»ˆè¢«é€‰æ‹©ï¼Œå¾€å¾€ä¸åªå› å…¶ç†å¿µçš„å…ˆè¿›ï¼Œæ›´åœ¨äºå®ƒèƒ½å¦åœ¨å¤æ‚çš„ç°å®çº¦æŸä¸‹ï¼Œä¸ºç‰¹å®šé—®é¢˜æä¾›æœ€åŠ¡å®çš„è§£æ³•ã€‚&lt;/p>
&lt;p>é¡¹ç›®æš‚å‘Šä¸€æ®µè½ï¼Œç”±è¡·æ„Ÿè°¢æ¯ä¸€ä½å¹¶è‚©ä½œæˆ˜çš„ä¼™ä¼´ï¼è¿™æ®µç»å†å› ä½ ä»¬è€Œç²¾å½©ã€‚&lt;/p></description></item></channel></rss>